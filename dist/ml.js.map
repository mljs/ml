{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3ceba11ba2297c055a6e","webpack:///./node_modules/ml-matrix/src/index.js","webpack:///./node_modules/ml-distance-euclidean/euclidean.js","webpack:///./node_modules/ml-regression-base/src/index.js","webpack:///./node_modules/ml-matrix/src/views/base.js","webpack:///./node_modules/ml-stat/index.js","webpack:///./node_modules/ml-matrix/src/matrix.js","webpack:///./node_modules/ml-matrix/src/util.js","webpack:///./node_modules/ml-matrix/src/abstractMatrix.js","webpack:///./node_modules/ml-array-mean/src/index.js","webpack:///./node_modules/ml-matrix/src/dc/svd.js","webpack:///./node_modules/ml-stat/matrix.js","webpack:///./node_modules/ml-array-max/src/index.js","webpack:///./node_modules/ml-matrix/src/dc/lu.js","webpack:///./node_modules/ml-matrix/src/dc/util.js","webpack:///./node_modules/ml-hclust/src/Cluster.js","webpack:///./node_modules/ml-kernel/src/kernel.js","webpack:///./node_modules/ml-regression-simple-linear/src/index.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/ml-cart/src/index.js","webpack:///./node_modules/ml-array-rescale/src/index.js","webpack:///./node_modules/ml-array-min/src/index.js","webpack:///./node_modules/ml-matrix/src/wrap/WrapperMatrix1D.js","webpack:///./node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","webpack:///./node_modules/ml-matrix/src/dc/qr.js","webpack:///./node_modules/ml-cart/src/TreeNode.js","webpack:///./node_modules/ml-random-forest/src/RandomForestBase.js","webpack:///./node_modules/ml-array-median/src/index.js","webpack:///./node_modules/ml-stat/array.js","webpack:///./node_modules/ml-hclust/src/ClusterLeaf.js","webpack:///./node_modules/ml-distance-matrix/src/index.js","webpack:///./node_modules/ml-kmeans/src/utils.js","webpack:///./node_modules/ml-random/lib-es6/index.js","webpack:///./node_modules/ml-xsadd/xsadd-es5.js","webpack:///./node_modules/ml-naivebayes/src/utils.js","webpack:///./node_modules/ml-pls/src/utils.js","webpack:///./node_modules/ml-confusion-matrix/src/index.js","webpack:///./node_modules/ml-fnn/src/Layer.js","webpack:///./node_modules/ml-fnn/src/utils.js","webpack:///./node_modules/ml-fnn/src/activationFunctions.js","webpack:///./node_modules/ml-som/src/node-square.js","webpack:///./node_modules/ml-regression/src/index.js","webpack:///./node_modules/ml-regression-polynomial/src/index.js","webpack:///./node_modules/ml-hash-table/src/HashTable.js","webpack:///./node_modules/binary-search/index.js","webpack:///./node_modules/num-sort/index.js","webpack:///./node_modules/ml-distance/src/index.js","webpack:///./node_modules/ml-distance/src/similarities/czekanowski.js","webpack:///./node_modules/ml-distance/src/distances/dice.js","webpack:///./node_modules/ml-distance/src/distances/intersection.js","webpack:///./node_modules/ml-distance/src/distances/jaccard.js","webpack:///./node_modules/ml-distance/src/distances/kulczynski.js","webpack:///./node_modules/ml-distance/src/distances/motyka.js","webpack:///./node_modules/ml-distance/src/distances/squaredChord.js","webpack:///./node_modules/ml-distance/src/similarities/tanimoto.js","webpack:///./node_modules/ml-distance/src/similarities/cosine.js","webpack:///./node_modules/ml-pad-array/src/index.js","webpack:///./node_modules/ml-array-variance/src/index.js","webpack:///./src/index.js","webpack:///./node_modules/ml-cart/src/DecisionTreeClassifier.js","webpack:///./node_modules/ml-matrix/src/views/transpose.js","webpack:///./node_modules/ml-matrix/src/views/row.js","webpack:///./node_modules/ml-matrix/src/views/sub.js","webpack:///./node_modules/ml-matrix/src/views/selection.js","webpack:///./node_modules/ml-matrix/src/views/rowSelection.js","webpack:///./node_modules/ml-matrix/src/views/columnSelection.js","webpack:///./node_modules/ml-matrix/src/views/column.js","webpack:///./node_modules/ml-matrix/src/views/flipRow.js","webpack:///./node_modules/ml-matrix/src/views/flipColumn.js","webpack:///./node_modules/ml-matrix/src/wrap/wrap.js","webpack:///./node_modules/ml-matrix/src/decompositions.js","webpack:///./node_modules/ml-matrix/src/linearDependencies.js","webpack:///./node_modules/ml-matrix/src/dc/evd.js","webpack:///./node_modules/ml-matrix/src/dc/cholesky.js","webpack:///./node_modules/ml-cart/src/utils.js","webpack:///./node_modules/ml-cart/src/DecisionTreeRegression.js","webpack:///./node_modules/ml-random-forest/src/index.js","webpack:///./node_modules/ml-random-forest/src/RandomForestClassifier.js","webpack:///./node_modules/ml-random-forest/src/utils.js","webpack:///./node_modules/random-js/lib/random.js","webpack:///./node_modules/ml-random-forest/src/RandomForestRegression.js","webpack:///./node_modules/median-quickselect/lib/median-quickselect.min.js","webpack:///./node_modules/ml-pca/src/pca.js","webpack:///./node_modules/ml-hclust/src/index.js","webpack:///./node_modules/ml-hclust/src/agnes.js","webpack:///./node_modules/heap/index.js","webpack:///./node_modules/heap/lib/heap.js","webpack:///./node_modules/util/util.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/ml-hclust/src/diana.js","webpack:///./node_modules/ml-kmeans/src/kmeans.js","webpack:///./node_modules/ml-nearest-vector/src/index.js","webpack:///./node_modules/ml-kmeans/src/initialization.js","webpack:///./node_modules/ml-random/lib-es6/choice.js","webpack:///./node_modules/ml-kmeans/src/KMeansResult.js","webpack:///./node_modules/ml-svm/src/svm.js","webpack:///./node_modules/ml-kernel-gaussian/gaussian-kernel.js","webpack:///./node_modules/ml-kernel-polynomial/polynomial-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/anova-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/cauchy-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/exponential-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/histogram-intersection-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/laplacian-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/multiquadratic-kernel.js","webpack:///./node_modules/ml-kernel/src/kernels/rational-quadratic-kernel.js","webpack:///./node_modules/ml-kernel-sigmoid/sigmoid-kernel.js","webpack:///./node_modules/ml-naivebayes/src/index.js","webpack:///./node_modules/ml-naivebayes/src/GaussianNB.js","webpack:///./node_modules/ml-naivebayes/src/MultinomialNB.js","webpack:///./node_modules/ml-knn/src/index.js","webpack:///./node_modules/ml-knn/src/KDTree.js","webpack:///./node_modules/ml-pls/src/index.js","webpack:///./node_modules/ml-pls/src/pls.js","webpack:///./node_modules/ml-pls/src/kopls.js","webpack:///./node_modules/ml-cross-validation/src/index.js","webpack:///./node_modules/ml-combinations/lib/index.js","webpack:///./node_modules/ml-fnn/src/FeedForwardNeuralNetwork.js","webpack:///./node_modules/ml-fnn/src/OutputLayer.js","webpack:///./node_modules/ml-som/src/index.js","webpack:///./node_modules/ml-som/src/node-hexagonal.js","webpack:///./node_modules/ml-regression-base/src/maybeToPrecision.js","webpack:///./node_modules/ml-regression-base/src/checkArrayLength.js","webpack:///./node_modules/ml-regression-exponential/src/index.js","webpack:///./node_modules/ml-regression-power/src/index.js","webpack:///./node_modules/ml-regression-multivariate-linear/src/index.js","webpack:///./node_modules/ml-regression/src/regression/kernel-ridge-regression.js","webpack:///./node_modules/ml-regression/src/regression/poly-fit-regression2d.js","webpack:///./node_modules/ml-regression-theil-sen/src/index.js","webpack:///./node_modules/ml-regression-robust-polynomial/src/index.js","webpack:///./node_modules/ml-regression/src/regression/potential-regression.js","webpack:///./node_modules/ml-levenberg-marquardt/lib/index.js","webpack:///./node_modules/ml-sparse-matrix/src/index.js","webpack:///./node_modules/new-array/index.js","webpack:///./node_modules/ml-hash-table/src/primeFinder.js","webpack:///./node_modules/number-is-nan/index.js","webpack:///./node_modules/ml-distance/src/distances.js","webpack:///./node_modules/ml-distance/src/distances/additiveSymmetric.js","webpack:///./node_modules/ml-distance/src/distances/avg.js","webpack:///./node_modules/ml-distance/src/distances/bhattacharyya.js","webpack:///./node_modules/ml-distance/src/distances/canberra.js","webpack:///./node_modules/ml-distance/src/distances/chebyshev.js","webpack:///./node_modules/ml-distance/src/distances/clark.js","webpack:///./node_modules/ml-distance/src/distances/czekanowski.js","webpack:///./node_modules/ml-distance/src/distances/divergence.js","webpack:///./node_modules/ml-distance/src/distances/fidelity.js","webpack:///./node_modules/ml-distance/src/distances/gower.js","webpack:///./node_modules/ml-distance/src/distances/harmonicMean.js","webpack:///./node_modules/ml-distance/src/distances/hellinger.js","webpack:///./node_modules/ml-distance/src/distances/innerProduct.js","webpack:///./node_modules/ml-distance/src/distances/jeffreys.js","webpack:///./node_modules/ml-distance/src/distances/jensenDifference.js","webpack:///./node_modules/ml-distance/src/distances/jensenShannon.js","webpack:///./node_modules/ml-distance/src/distances/kdivergence.js","webpack:///./node_modules/ml-distance/src/distances/kullbackLeibler.js","webpack:///./node_modules/ml-distance/src/distances/kumarHassebrook.js","webpack:///./node_modules/ml-distance/src/distances/kumarJohnson.js","webpack:///./node_modules/ml-distance/src/distances/lorentzian.js","webpack:///./node_modules/ml-distance/src/distances/manhattan.js","webpack:///./node_modules/ml-distance/src/distances/matusita.js","webpack:///./node_modules/ml-distance/src/distances/minkowski.js","webpack:///./node_modules/ml-distance/src/distances/neyman.js","webpack:///./node_modules/ml-distance/src/distances/pearson.js","webpack:///./node_modules/ml-distance/src/distances/probabilisticSymmetric.js","webpack:///./node_modules/ml-distance/src/distances/ruzicka.js","webpack:///./node_modules/ml-distance/src/distances/soergel.js","webpack:///./node_modules/ml-distance/src/distances/sorensen.js","webpack:///./node_modules/ml-distance/src/distances/squared.js","webpack:///./node_modules/ml-distance/src/distances/taneja.js","webpack:///./node_modules/ml-distance/src/distances/tanimoto.js","webpack:///./node_modules/ml-distance/src/distances/topsoe.js","webpack:///./node_modules/ml-tree-similarity/src/index.js","webpack:///./node_modules/ml-distance/src/distances/waveHedges.js","webpack:///./node_modules/ml-distance/src/similarities.js","webpack:///./node_modules/ml-distance/src/similarities/dice.js","webpack:///./node_modules/ml-distance/src/similarities/intersection.js","webpack:///./node_modules/ml-distance/src/similarities/jaccard.js","webpack:///./node_modules/ml-distance/src/similarities/kulczynski.js","webpack:///./node_modules/ml-distance/src/similarities/motyka.js","webpack:///./node_modules/ml-distance/src/similarities/pearson.js","webpack:///./node_modules/ml-distance/src/similarities/squaredChord.js","webpack:///./node_modules/ml-performance/src/index.js","webpack:///./node_modules/ml-performance/src/measures.js","webpack:///./node_modules/ml-savitzky-golay/src/index.js","webpack:///./node_modules/ml-savitzky-golay-generalized/src/index.js","webpack:///./node_modules/ml-bit-array/src/index.js","webpack:///./node_modules/ml-bit-array/src/creator.js","webpack:///./node_modules/ml-array-utils/src/index.js","webpack:///./node_modules/ml-array-utils/src/ArrayUtils.js","webpack:///./node_modules/ml-array-utils/src/getEquallySpaced.js","webpack:///./node_modules/ml-array-utils/src/snv.js","webpack:///./node_modules/ml-array-mode/src/index.js","webpack:///./node_modules/ml-array-standard-deviation/src/index.js"],"names":["default","wrap","solve","inverse","linearDependencies","squaredEuclidean","p","q","d","i","length","euclidean","Math","sqrt","module","exports","squared","BaseRegression","constructor","new","target","Error","predict","x","_predict","Array","isArray","y","TypeError","train","toString","toLaTeX","score","n","y2","xSum","ySum","chi2","rmsd","xSquared","ySquared","xY","r","r2","BaseView","matrix","rows","columns","Symbol","species","Matrix","array","require","nRows","nColumns","arguments","isMatrix","clone","Number","isInteger","RangeError","concat","set","rowIndex","columnIndex","value","get","removeRow","index","splice","addRow","undefined","removeColumn","addColumn","checkRowIndex","checkColumnIndex","checkRowVector","checkColumnVector","checkIndices","checkRowIndices","checkColumnIndices","checkRange","getRange","sumByRow","sumByColumn","sumAll","outer","max","vector","to1DArray","rowIndices","columnIndices","row","column","rowOut","some","from","columnOut","c","startRow","endRow","startColumn","endColumn","checkNumber","to","arr","sum","zeros","j","v","name","AbstractMatrix","superCtor","Object","from1DArray","newRows","newColumns","newData","newMatrix","rowVector","columnVector","empty","fill","ones","rand","rng","random","randInt","maxValue","floor","eye","min","diag","data","l","matrix1","matrix2","checkMatrix","result","klass","size","apply","callback","ii","jj","call","to2DArray","copy","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","repeat","rowRep","colRep","setSubMatrix","neg","mulS","getRow","getRowVector","setRow","swapRows","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","maxIndex","idx","minIndex","maxRow","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","by","mean","prod","norm","type","cumulativeSum","dot","vector2","vector1","mmul","other","console","warn","m","Bcolj","k","s","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","c2","embed","mat","cols","resultat","blockMult","a","b","halfRows","parseInt","halfCols","subMatrix","add","sub","scaleRows","scaled","scaleColumns","kroneckerProduct","transpose","sortRows","compareFunction","compareNumbers","sort","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","trace","transposeView","MatrixTransposeView","rowView","MatrixRowView","columnView","MatrixColumnView","flipRowView","MatrixFlipRowView","flipColumnView","MatrixFlipColumnView","subMatrixView","MatrixSubView","selectionView","MatrixSelectionView","rowSelectionView","MatrixRowSelectionView","columnSelectionView","MatrixColumnSelectionView","det","subMatrix0","subMatrix1","subMatrix2","LuDecomposition","determinant","pseudoInverse","threshold","EPSILON","svdSolution","SvDecomposition","autoTranspose","U","leftSingularVectors","V","rightSingularVectors","diagonal","abs","prototype","identity","negate","tensorProduct","inplaceOperator","inplaceOperatorScalar","inplaceOperatorMatrix","staticOperator","inplaceMethod","staticMethod","inplaceMethodWithArgs","staticMethodWithArgs","inplaceMethodWithOneArgScalar","inplaceMethodWithOneArgMatrix","inplaceMethodWithOneArg","staticMethodWithOneArg","operators","eval2","eval","operator","inplaceOp","fillTemplateFunction","op","inplaceOpS","inplaceOpM","staticOp","methods","forEach","mathMethod","push","method","inplaceMeth","staticMeth","methodsWithArgs","methodWithArg","args","inplaceMethWithArgs","staticMethWithArgs","tmplVar","inplaceMethod2","inplaceMethodS","inplaceMethodM","staticMethod2","template","values","replace","RegExp","input","SingularValueDecomposition","options","WrapperMatrix2D","computeLeftSingularVectors","computeRightSingularVectors","wantu","Boolean","wantv","swapped","aux","nu","ni","e","work","si","nct","nrt","mrc","t","pp","iter","eps","kase","alpha","MIN_VALUE","isNaN","ks","f","cs","sn","scale","sp","spm1","epm1","sk","ek","shift","g","tmp","Y","scols","Ls","VL","vrows","urows","VLU","solveForDiagonal","vcols","X","ucols","condition","norm2","rank","tol","diagonalMatrix","arrayStat","Infinity","minMax","entropy","l1","l2","log","dimension","theMean","N","theSum","product","theProduct","standardDeviation","means","unbiased","vari","variance","sum1","sum2","median","medians","mode","modes","itemCount","itemArray","count","indexOf","skewness","skew","s2","s3","dev","pow","kurtosis","kurt","s4","standardError","samples","standardDeviations","standardErrors","sqrtN","covariance","scatter","divisor","cov","correlation","scores","zScores","cor","standardize","center","inPlace","resultRow","sourceRow","weightedVariance","weights","z","w","weightedMean","weightSum","weightedCovariance","s1","factor","weightedScatter","lu","pivotVector","pivotSign","LUcolj","kmax","LU","isSingular","col","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","slice","hypotenuse","getFilled2DArray","Heap","Cluster","children","distance","cut","root","list","ans","group","minGroups","heap","first","pop","child","toArray","traverse","cb","visit","GaussianKernel","PolynomialKernel","ANOVAKernel","CauchyKernel","ExponentialKernel","HistogramKernel","LaplacianKernel","MultiquadraticKernel","RationalKernel","SigmoidKernel","kernelType","gaussian","rbf","polynomial","poly","anova","cauchy","exponential","histogram","laplacian","multiquadratic","rational","sigmoid","mlp","Kernel","toLowerCase","KernelConstructor","kernelFunction","compute","inputs","landmarks","kernelMatrix","SimpleLinearRegression","slope","intercept","coefficients","regress","toJSON","computeX","precision","xFactor","absIntercept","load","json","slr","numerator","hasOwn","hasOwnProperty","toStr","defineProperty","gOPD","getOwnPropertyDescriptor","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","enumerable","configurable","newValue","writable","getProperty","extend","src","copyIsArray","deep","DecisionTreeClassifier","DecisionTreeRegression","rescale","output","currentMin","currentMax","minValue","autoMinMax","WrapperMatrix1D","_calculateIndex","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","Utils","gainFunctions","gini","giniGain","regression","regressionError","splitFunctions","TreeNode","kind","gainFunction","splitFunction","minNumSamples","maxDepth","bestSplit","XTranspose","bestGain","check","currentFeature","splitValues","featureSplit","currentSplitVal","splitted","split","gain","maxGain","splitValue","lesser","greater","zip","calculatePrediction","distribution","toDiscreteDistribution","getNumberOfClasses","currentDepth","parentGain","splitColumn","splittedMatrix","matrixSplitter","lesserX","greaterX","left","right","lesserY","greaterY","classify","setNodeParameters","node","RandomForestBase","model","replacement","maxFeatures","nEstimators","treeOptions","isClassifier","seed","indexes","useSampleBagging","Estimator","DTClassifier","DTRegression","estimators","map","est","trainingSet","trainingValues","checkFloat","res","examplesBaggingWithReplacement","featureBagging","usedIndex","toPredict","predictionValues","predictions","arithmeticMean","geometricMean","mul","logMean","lnsum","grandMean","truncatedMean","percent","alreadySorted","harmonicMean","contraHarmonicMean","half","theVariance","robustMeanAndStdev","stdev","averageDeviations","quartiles","quart","q1","ceil","q2","q3","pooledStandardDeviation","pooledVariance","mean1","mean2","weightedStandardDeviation","standardDev","util","ClusterLeaf","inherits","distanceMatrix","distanceFn","calculateDistanceMatrix","updateClusterID","updateCenters","hasConverged","dist","centers","clusterID","distanceFunction","prevCenters","K","nDim","centersLen","dim","id","oldCenters","tolerance","XSAdd","Random","seedOrRandom","xsadd","randomGenerator","choice","low","high","randomSample","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","LOOP","FLOAT_MUL","multiply_uint32","nlo","nhi","XSadd","Date","now","state","Uint32Array","init","period_certification","next_state","getUint32","getFloat","_random","bind","sh1","sh2","sh3","separateClasses","features","classes","totalPerClasses","separatedClasses","currentIndex","pow2array","featureNormalize","initializeMatrices","dataset","Stat","std","elem","ConfusionMatrix","labels","fromLabels","actual","predicted","distinctLabels","Set","actualIdx","predictedIdx","getMatrix","getLabels","getTotalCount","getTrueCount","getFalseCount","getTruePositiveCount","label","getIndex","getTrueNegativeCount","getFalsePositiveCount","getFalseNegativeCount","getPositiveCount","getNegativeCount","getTruePositiveRate","getTrueNegativeRate","getPositivePredictiveValue","TP","getNegativePredictiveValue","TN","getFalseNegativeRate","getFalsePositiveRate","getFalseDiscoveryRate","FP","getFalseOmissionRate","FN","getF1Score","getMatthewsCorrelationCoefficient","getInformedness","getMarkedness","getConfusionTable","getAccuracy","correct","incorrect","getCount","actualIndex","predictedIndex","accuracy","total","ACTIVATION_FUNCTIONS","Layer","inputSize","outputSize","regularization","epsilon","activation","activationParam","selectedFunction","params","actFunction","val","derFunction","derivate","activationFunction","W","forward","backpropagation","delta","dW","db","sumCol","aCopy","update","sumRow","dictOutputs","outputs","logistic","exp","expELU","param","softExponential","softExponentialPrime","tanh","arctan","atan","softsign","relu","softplus","bent","sinusoid","sin","cos","sinc","NodeSquare","som","neighbors","adjustWeights","learningRate","influence","getDistance","otherNode","getDistanceTorus","distX","distY","gridDim","getNeighbors","xy","torus","nodes","getPos","element","bestNeighbor","direction","dist1","dist2","simA","simB","getPosition","NLR","PotentialRegression","NonLinearRegression","PolynomialRegression","degree","powers","_toFormula","isLaTeX","sup","closeSup","times","fn","str","charAt","pr","F","FT","A","B","newArray","primeFinder","nextPrime","largestPrime","FREE","FULL","REMOVED","defaultInitialCapacity","defaultMinLoadFactor","defaultMaxLoadFactor","HashTable","table","minLoadFactor","maxLoadFactor","distinct","freeEntries","lowWaterMark","highWaterMark","initialCapacity","capacity","chooseHighWaterMark","indexOfKey","indexOfInsertion","newCapacity","chooseGrowCapacity","rehash","remove","noRehash","maybeShrinkCapacity","delete","chooseShrinkCapacity","containsKey","hash","decrement","containsValue","indexOfValue","ensureCapacity","minCapacity","oldCapacity","oldTable","oldValues","oldState","newTable","newValues","newState","chooseLowWaterMark","forEachKey","forEachValue","forEachPair","minLoad","maxLoad","haystack","needle","comparator","mid","cmp","numberIsNan","assertNum","asc","desc","similarity","czekanowskiSimilarity","up","down","dice","intersection","jaccard","p1","p2","kulczynski","motyka","squaredChord","tanimoto","bitvector","inter","union","cosine","defaultOptions","arrayCase","len","cond","matrixCase","padArray","sqrError","mlCart","mlRandomForest","ML","PCA","HClust","KMeans","SVM","NaiveBayes","KNN","PLS","CrossValidation","RandomForestClassifier","FNN","SOM","Regression","MultivariateLinearRegression","PowerRegression","ExponentialRegression","TheilSenRegression","RobustPolynomialRegression","RandomForestRegression","levenbergMarquardt","SVD","EVD","CholeskyDecomposition","SparseMatrix","Distance","Similarity","Performance","savitzkyGolay","savitzkyGolayGeneralized","BitArray","binarySearch","numSort","ArrayUtils","MatrixUtil","ArrayStat","MatrixStat","Tree","assign","trainingLabels","useSVD","leftHandSide","rightHandSide","xrange","exception","range","dependenciesOneRow","error","thresholdValue","thresholdError","returnArray","results","Abis","svd","EigenvalueDecomposition","assumeSymmetric","tred2","tql2","H","ort","orthes","hqr2","realEigenvalues","imaginaryEigenvalues","eigenvectorMatrix","h","hh","dl1","c3","el1","tst1","nn","exshift","ra","sa","vr","vi","notlast","cdivres","cdiv","xr","xi","yr","yi","positiveDefinite","Lrowj","Lrowk","L","giniImpurity","squaredError","numberOfClasses","counts","probabilities","filter","splitsImpurity","splits","currentSplit","currentElement","ret","baseModel","trainingValue","engine","engines","mt19937","integer","autoSeed","Xr","toRet","has","GLOBAL_KEY","imul","ah","al","bh","bl","stringRepeat","String","pattern","nativeMath","proto","Int32Array","refreshData","temper","seedWithArray","source","sourceLength","previous","uses","next","getUseCount","discard","initial","generateEntropyArray","browserCrypto","crypto","getRandomValues","getTime","returnValue","int32","uint32","uint53","uint53Full","int53","int53Full","generate","addend","isPowerOfTwoMinusOne","bitmask","masking","downscaleToLoopCheckedRange","extendedRange","maximum","downscaleToRange","isEvenlyDivisibleByMaxInt32","upscaleWithHighMasking","upscaleToLoopCheckedRange","upscaleWithinU53","highRange","upscaleWithinI53AndLoopCheck","isFinite","realZeroToOneInclusive","realZeroToOneExclusive","real","multiply","multiplier","inclusive","bool","isLeastBitTrue","lessThan","probability","percentage","round","denominator","toInteger","number","convertSliceArgument","pick","begin","end","start","finish","returnUndefined","picker","shuffle","downTo","sample","population","sampleSize","tailLength","die","sideCount","dieCount","uuid4","zeroPad","string","zeroCount","DEFAULT_STRING_POOL","pool","hex","LOWER_HEX_POOL","lowerHex","upperHex","toUpperCase","upper","date","define","oldGlobal","noConflict","selectionMethods","arrayMean","arrayMedian","selectionMethod","window","matrixLib","isCovarianceMatrix","stdevs","S","_computeFromCovarianceMatrix","useCovarianceMatrix","_adjust","covarianceMatrix","div","singularValues","eigenvalues","nComponents","getExplainedVariance","getCumulativeVariance","explained","getEigenvectors","getEigenvalues","getStandardDeviations","getLoadings","evd","reverse","agnes","diana","simpleLink","cluster1","cluster2","disFun","completeLink","averageLink","centroidLink","wardLink","disFunc","isDistanceMatrix","dis","fdistance","sdistance","toFixed","dmin","clustered","int","diff","indCount","defaultCmp","heapify","heappop","heappush","heappushpop","heapreplace","insort","nlargest","nsmallest","updateItem","_siftdown","_siftup","lo","hi","item","lastelt","returnitem","_ref","_i","_j","_len","_ref1","_results","_results1","pos","los","startpos","newitem","parent","parentpos","childpos","endpos","rightpos","pushpop","peek","contains","clear","insert","top","front","factory","formatRegExp","format","isString","objects","inspect","join","JSON","stringify","_","isNull","isObject","deprecate","msg","isUndefined","global","process","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","debugs","debugEnviron","debuglog","env","NODE_DEBUG","test","pid","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","recurseTimes","isFunction","primitive","formatPrimitive","keys","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","isNumber","match","line","substr","numLinesEst","reduce","prev","cur","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","isBuffer","o","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","prop","Function","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","readUInt8","create","ctor","super_","TempCtor","x1","y1","x2","splitting","Ci","Cj","ndist","intrDist","tree","ind","M","clId","rebel","C","sG","spl","fData","sData","kmeans","maxIterations","withIterations","initialization","step","iterations","newCenters","converged","KMeansResult","kmeansGenerator","stepNumber","stepResult","computeInformation","centroids","MAX_VALUE","squaredDistance","similarityFunction","returnVector","nearestVector","listVectors","vectorIndex","maxSim","sim","minDist","mostDistant","kmeanspp","maxDist","minDistCent","nSamples","localTrials","firstCenterIdx","closestDistSquared","cumSumClosestDistSquared","cumSum","candidateIdx","candidates","distanceToCandidates","euclidianDistances","bestCandidate","bestPot","bestDistSquared","newDistSquared","newPot","PROB_TOLERANCE","randomChoice","valuesArr","getArray","randomIndex","distanceSymbol","clusters","nearest","centroid","enrichedCentroids","stat","maxPasses","kernel","alphaTol","whitening","kernelOptions","_trained","_loaded","D","alphas","b1","b2","passes","Ei","Ej","ai","aj","eta","numChange","_marginOnePrecomputed","newaj","nX","nY","nAlphas","_supportVectorIdx","predictOne","margin","marginOne","noWhitening","_applyWhitening","supportVectors","svm","whitened","sigma","constant","HistogramIntersectionKernel","RationalQuadraticKernel","E","GaussianNB","MultinomialNB","reload","calculateProbabilities","C1","PI","logPriorProbability","currentStd","getCurrentClass","modelName","currentCase","maxProbability","predictedClass","currentProbability","calculateLogProbability","C2","conditionalProbability","priorProbability","separateClass","classValues","matrixLog","kdTree","KDTree","isEuclidean","euclideanDistance","points","getSinglePrediction","knn","nearestPoints","pointsPerClass","maxPoints","lastElement","currentClass","currentPoints","Node","metric","dimensions","restoreParent","buildTree","toJSONImpl","point","maxNodes","maxDistance","bestNodes","BinaryHeap","nearestSearch","ownDistance","linearPoint","bestChild","linearDistance","otherChild","saveNode","content","dest","scoreFunction","bubbleUp","sinkDown","parentN","elemScore","child2N","child1N","swap","child1","child1Score","child2","child2Score","KOPLS","meanX","stdDevX","meanY","stdDevY","PBQ","R2X","scaleMethod","latentVectors","rx","cx","ry","cy","ssqXcal","sumOfSquaresY","T","P","Q","transposeX","transposeY","tIndex","maxSumColIndex","mulM","uIndex","t1","u","num","den","pnorm","ssqYcal","YLoadingMat","SigmaPow","YScoreMat","predScoreMat","YOrthLoadingVec","YOrthEigen","YOrthScoreMat","toNorm","TURegressionCoeff","kernelX","orthogonalComp","predictiveComp","predictiveComponents","orthogonalComponents","Identity","Sigma","YOrthScoreNorm","TpiPrime","CoTemp","SoTemp","toiPrime","ITo","lastScoreMat","lastTpPrime","KTestTrain","YOrthScoreVector","scoreMatPrime","p3","prediction","predYOrthVectors","CV","combinations","leaveOneOut","Classifier","classifierOptions","leavePOut","getDistinct","confusionMatrix","initMatrix","gen","allIdx","testIdx","trainIdx","validateWithCallback","validate","kFold","current","folds","randi","getTrainTest","testFeatures","trainFeatures","testLabels","trainLabels","classifier","predictedLabels","updateConfusionMatrix","amd","createCommonjsModule","runtime","Op","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","regeneratorRuntime","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","resolve","reject","record","Promise","then","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","done","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","object","iterable","iteratorMethod","skipTempReset","stop","rootEntry","rootRecord","rval","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","hadRuntime","oldRuntime","runtimeModule","regenerator","_callee","twiddle","_callee$","_context","OutputLayer","FeedForwardNeuralNetworks","hiddenLayers","dicts","layers","buildNetwork","propagate","NodeHexagonal","fields","randomizer","squareEuclidean","gridType","numWeights","converters","getConverters","extractor","creator","nodeType","hx","distanceMethod","getMaxDistance","findBMU","adjust","iterationCount","startLearningRate","mapRadius","algorithmMethod","_initNodes","loadModel","export","exportModel","includeDistance","initNodes","setTraining","convertedSet","numIterations","timeConstant","trainOne","neighbourhoodRadius","trainingSetFactor","getRandomValue","bmu","_findBestMatchingUnit","now2","radiusLimit","xMin","xMax","yMin","yMax","theX","theY","getConvertedNodes","findBestMatchingUnit","candidate","lowest","computePosition","getQuantizationError","fit","getFit","normalizers","denormalizers","getNormalizer","getDenormalizer","normalizer","denormalizer","zero","one","hX","getDistanceHexagonal","distZ","maybeToPrecision","digits","toPrecision","checkArraySize","er","yl","linear","newInputs","xl","statistics","beta","fittedValues","residuals","addM","ri","stdError","stdErrorMatrix","stdErrors","tStats","summary","regressionStatistics","observations","variables","tStat","lambda","computeCoefficient","KernelRidgeRegression","order","PolynomialFitRegression2D","examples","scaleX1","scaleX2","scaleY","limit","powColVector","qqs","qqs1","power","theilSen","slopes","medianSlope","cuts","robustPolynomial","tuples","getRandomTuples","tuple","calcCoefficients","residual","residualsMedian","counter","mlMatrix","errorCalculation","parameters","parameterizedFunction","func","gradientFunction","evaluatedData","gradientDifference","paramFunction","auxParams","funcParam","matrixFunction","damping","gradientFunc","matrixFunc","inverseMatrix","errorTolerance","initialValues","dataLen","iteration","parameterValues","parameterError","_init","elements","symmetric","forEachNonZero","bandWidth","isBanded","width","cardinality","v1","v2","getNonZeros","setThreshold","newThreshold","trans","sortAsc","primeNumbers","additiveSymmetric","avg","bhattacharyya","canberra","chebyshev","clark","czekanowski","divergence","fidelity","gower","hellinger","innerProduct","jeffreys","jensenDifference","jensenShannon","kdivergence","kullbackLeibler","kumarHassebrook","kumarJohnson","lorentzian","manhattan","matusita","minkowski","neyman","pearson","probabilisticSymmetric","ruzicka","soergel","sorensen","taneja","topsoe","waveHedges","czekanowskiDistance","tanimotoS","createTree","minWindow","gamma","Atree","Btree","calc","diceD","intersectionD","jaccardD","kulczynskiD","motykaD","avgA","avgB","newA","newB","squaredChordD","measures","isDistance","predP","all","pred","targ","cutoffs","fp","tp","nPos","nNeg","currentPred","nTp","nFp","tn","nPosPred","nNegPred","getMeasure","measure","getAURC","auc","getAUDC","getDistribution","cutLength","cutLow","cutHigh","interval","xLabels","interValues","intraValues","interCumPercent","intraCumPercent","nTP","currentTP","nFP","currentFP","thisTP","thisFP","names","acc","fpr","tpr","fnr","tnr","ppv","npv","pcfall","pcmiss","lift","rpp","rnp","windowSize","derivative","padValue","SavitzkyGolay","J","inic","Jtranspose","Jinv","np","fullWeights","hs","constantH","wg1","wg2","d1","d2","getHs","wg","GramPoly","Grampoly","GenFact","gf","Weight","eightBits","and","arr1","arr2","or","xor","not","getBit","mask","setBit","toBinaryString","parseBinaryString","toHexString","parseHexString","toDebug","binary","getEquallySpacedData","SNV","coordArrayToPoints","pointsArr","coordArrayToCoordMatrix","coordinatesArray","currentPoint","coordMatrixToCoordArray","coordMatrix","coodinatesArray","resultMatrix","pointsToCoordArray","applyDotProduct","firstVector","secondVector","largestVector","smallestVector","difference","dotProductApplied","coordMatrixToPoints","pointsToCoordMatrix","xLength","variant","numberOfPoints","getEquallySpacedSlot","getEquallySpacedSmooth","halfStep","initialOriginalStep","lastOriginalStep","previousX","previousY","nextX","nextY","currentValue","sumAtMin","sumAtMax","getSlope","x0","y0","main","integral","lastStep","frontOutsideSpectra","backOutsideSpectra","maxCount"],"mappings":"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","file":"ml.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ML\"] = factory();\n\telse\n\t\troot[\"ML\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 57);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3ceba11ba2297c055a6e","export { default, default as Matrix } from './matrix';\nexport { default as abstractMatrix } from './abstractMatrix';\n\nexport { wrap } from './wrap/wrap';\nexport { default as WrapperMatrix2D } from './wrap/WrapperMatrix2D';\nexport { default as WrapperMatrix1D } from './wrap/WrapperMatrix1D';\n\nexport { solve, inverse } from './decompositions';\nexport { linearDependencies } from './linearDependencies';\nexport {\n  default as SingularValueDecomposition,\n  default as SVD\n} from './dc/svd.js';\nexport {\n  default as EigenvalueDecomposition,\n  default as EVD\n} from './dc/evd.js';\nexport {\n  default as CholeskyDecomposition,\n  default as CHO\n} from './dc/cholesky.js';\nexport { default as LuDecomposition, default as LU } from './dc/lu.js';\nexport { default as QrDecomposition, default as QR } from './dc/qr.js';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/index.js","'use strict';\n\nfunction squaredEuclidean(p, q) {\n    var d = 0;\n    for (var i = 0; i < p.length; i++) {\n        d += (p[i] - q[i]) * (p[i] - q[i]);\n    }\n    return d;\n}\n\nfunction euclidean(p, q) {\n    return Math.sqrt(squaredEuclidean(p, q));\n}\n\nmodule.exports = euclidean;\neuclidean.squared = squaredEuclidean;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance-euclidean/euclidean.js","export {default as maybeToPrecision} from './maybeToPrecision';\nexport {default as checkArrayLength} from './checkArrayLength';\n\nexport default class BaseRegression {\n    constructor() {\n        if (new.target === BaseRegression) {\n            throw new Error('BaseRegression must be subclassed');\n        }\n    }\n\n    predict(x) {\n        if (typeof x === 'number') {\n            return this._predict(x);\n        } else if (Array.isArray(x)) {\n            const y = new Array(x.length);\n            for (let i = 0; i < x.length; i++) {\n                y[i] = this._predict(x[i]);\n            }\n            return y;\n        } else {\n            throw new TypeError('x must be a number or array');\n        }\n    }\n\n    _predict() {\n        throw new Error('_predict must be implemented');\n    }\n\n    train() {\n        //Do nothing for this package\n    }\n\n    toString() {\n        return '';\n    }\n\n    toLaTeX() {\n        return '';\n    }\n\n    /**\n     * Return the correlation coefficient of determination (r) and chi-square.\n     * @param {Array<number>} x\n     * @param {Array<number>} y\n     * @return {object}\n     */\n    score(x, y) {\n        if (!Array.isArray(x) || !Array.isArray(y) || x.length !== y.length) {\n            throw new Error('x and y must be arrays of the same length');\n        }\n\n        const n = x.length;\n        const y2 = new Array(n);\n        for (let i = 0; i < n; i++) {\n            y2[i] = this._predict(x[i]);\n        }\n\n        let xSum = 0;\n        let ySum = 0;\n        let chi2 = 0;\n        let rmsd = 0;\n        let xSquared = 0;\n        let ySquared = 0;\n        let xY = 0;\n        for (let i = 0; i < n; i++) {\n            xSum += y2[i];\n            ySum += y[i];\n            xSquared += y2[i] * y2[i];\n            ySquared += y[i] * y[i];\n            xY += y2[i] * y[i];\n            if (y[i] !== 0) {\n                chi2 += (y[i] - y2[i]) * (y[i] - y2[i]) / y[i];\n            }\n            rmsd = (y[i] - y2[i]) * (y[i] - y2[i]);\n        }\n\n        const r = (n * xY - xSum * ySum) / Math.sqrt((n * xSquared - xSum * xSum) * (n * ySquared - ySum * ySum));\n\n        return {\n            r: r,\n            r2: r * r,\n            chi2: chi2,\n            rmsd: rmsd * rmsd / n\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/index.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class BaseView extends AbstractMatrix() {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n\n  static get [Symbol.species]() {\n    return Matrix;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/base.js","'use strict';\n\nexports.array = require('./array');\nexports.matrix = require('./matrix');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/index.js","import AbstractMatrix from './abstractMatrix';\nimport {\n  checkColumnIndex,\n  checkColumnVector,\n  checkRowIndex,\n  checkRowVector\n} from './util';\n\nexport default class Matrix extends AbstractMatrix(Array) {\n  constructor(nRows, nColumns) {\n    var i;\n    if (arguments.length === 1 && typeof nRows === 'number') {\n      return new Array(nRows);\n    }\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      super(nRows);\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (i = 0; i < nRows; i++) {\n          this[i] = new Array(nColumns);\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const matrix = nRows;\n      nRows = matrix.length;\n      nColumns = matrix[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element'\n        );\n      }\n      super(nRows);\n      for (i = 0; i < nRows; i++) {\n        if (matrix[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this[i] = [].concat(matrix[i]);\n      }\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array'\n      );\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this[rowIndex][columnIndex];\n  }\n\n  /**\n   * Removes a row from the given index\n   * @param {number} index - Row index\n   * @return {Matrix} this\n   */\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  /**\n   * Adds a row at the given index\n   * @param {number} [index = this.rows] - Row index\n   * @param {Array|Matrix} array - Array or vector\n   * @return {Matrix} this\n   */\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = checkRowVector(this, array, true);\n    this.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  /**\n   * Removes a column from the given index\n   * @param {number} index - Column index\n   * @return {Matrix} this\n   */\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (var i = 0; i < this.rows; i++) {\n      this[i].splice(index, 1);\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  /**\n   * Adds a column at the given index\n   * @param {number} [index = this.columns] - Column index\n   * @param {Array|Matrix} array - Array or vector\n   * @return {Matrix} this\n   */\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (var i = 0; i < this.rows; i++) {\n      this[i].splice(index, 0, array[i]);\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/matrix.js","import Matrix from './matrix';\n\n/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkRowIndex(matrix, index, outer) {\n  var max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkColumnIndex(matrix, index, outer) {\n  var max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns'\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nexport function checkIndices(matrix, rowIndices, columnIndices) {\n  return {\n    row: checkRowIndices(matrix, rowIndices),\n    column: checkColumnIndices(matrix, columnIndices)\n  };\n}\n\nexport function checkRowIndices(matrix, rowIndices) {\n  if (typeof rowIndices !== 'object') {\n    throw new TypeError('unexpected type for row indices');\n  }\n\n  var rowOut = rowIndices.some((r) => {\n    return r < 0 || r >= matrix.rows;\n  });\n\n  if (rowOut) {\n    throw new RangeError('row indices are out of range');\n  }\n\n  if (!Array.isArray(rowIndices)) rowIndices = Array.from(rowIndices);\n\n  return rowIndices;\n}\n\nexport function checkColumnIndices(matrix, columnIndices) {\n  if (typeof columnIndices !== 'object') {\n    throw new TypeError('unexpected type for column indices');\n  }\n\n  var columnOut = columnIndices.some((c) => {\n    return c < 0 || c >= matrix.columns;\n  });\n\n  if (columnOut) {\n    throw new RangeError('column indices are out of range');\n  }\n  if (!Array.isArray(columnIndices)) columnIndices = Array.from(columnIndices);\n\n  return columnIndices;\n}\n\nexport function checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nexport function getRange(from, to) {\n  var arr = new Array(to - from + 1);\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = from + i;\n  }\n  return arr;\n}\n\nexport function sumByRow(matrix) {\n  var sum = Matrix.zeros(matrix.rows, 1);\n  for (var i = 0; i < matrix.rows; ++i) {\n    for (var j = 0; j < matrix.columns; ++j) {\n      sum.set(i, 0, sum.get(i, 0) + matrix.get(i, j));\n    }\n  }\n  return sum;\n}\n\nexport function sumByColumn(matrix) {\n  var sum = Matrix.zeros(1, matrix.columns);\n  for (var i = 0; i < matrix.rows; ++i) {\n    for (var j = 0; j < matrix.columns; ++j) {\n      sum.set(0, j, sum.get(0, j) + matrix.get(i, j));\n    }\n  }\n  return sum;\n}\n\nexport function sumAll(matrix) {\n  var v = 0;\n  for (var i = 0; i < matrix.rows; i++) {\n    for (var j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/util.js","import rescale from 'ml-array-rescale';\n\nimport LuDecomposition from './dc/lu';\nimport SvDecomposition from './dc/svd';\nimport {\n  checkRowVector, checkRowIndex, checkColumnIndex, checkColumnVector,\n  checkRange, checkIndices,\n  sumByRow, sumByColumn, sumAll\n} from './util';\nimport MatrixTransposeView from './views/transpose';\nimport MatrixRowView from './views/row';\nimport MatrixSubView from './views/sub';\nimport MatrixSelectionView from './views/selection';\nimport MatrixRowSelectionView from './views/rowSelection';\nimport MatrixColumnSelectionView from './views/columnSelection';\nimport MatrixColumnView from './views/column';\nimport MatrixFlipRowView from './views/flipRow';\nimport MatrixFlipColumnView from './views/flipColumn';\n\nexport default function AbstractMatrix(superCtor) {\n  if (superCtor === undefined) superCtor = Object;\n\n  /**\n   * Real matrix\n   * @class Matrix\n   * @param {number|Array|Matrix} nRows - Number of rows of the new matrix,\n   * 2D array containing the data or Matrix instance to clone\n   * @param {number} [nColumns] - Number of columns of the new matrix\n   */\n  class Matrix extends superCtor {\n    static get [Symbol.species]() {\n      return this;\n    }\n\n    /**\n     * Constructs a Matrix with the chosen dimensions from a 1D array\n     * @param {number} newRows - Number of rows\n     * @param {number} newColumns - Number of columns\n     * @param {Array} newData - A 1D array containing data for the matrix\n     * @return {Matrix} - The new matrix\n     */\n    static from1DArray(newRows, newColumns, newData) {\n      var length = newRows * newColumns;\n      if (length !== newData.length) {\n        throw new RangeError('Data length does not match given dimensions');\n      }\n      var newMatrix = new this(newRows, newColumns);\n      for (var row = 0; row < newRows; row++) {\n        for (var column = 0; column < newColumns; column++) {\n          newMatrix.set(row, column, newData[row * newColumns + column]);\n        }\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Creates a row vector, a matrix with only one row.\n         * @param {Array} newData - A 1D array containing data for the vector\n         * @return {Matrix} - The new matrix\n         */\n    static rowVector(newData) {\n      var vector = new this(1, newData.length);\n      for (var i = 0; i < newData.length; i++) {\n        vector.set(0, i, newData[i]);\n      }\n      return vector;\n    }\n\n    /**\n         * Creates a column vector, a matrix with only one column.\n         * @param {Array} newData - A 1D array containing data for the vector\n         * @return {Matrix} - The new matrix\n         */\n    static columnVector(newData) {\n      var vector = new this(newData.length, 1);\n      for (var i = 0; i < newData.length; i++) {\n        vector.set(i, 0, newData[i]);\n      }\n      return vector;\n    }\n\n    /**\n         * Creates an empty matrix with the given dimensions. Values will be undefined. Same as using new Matrix(rows, columns).\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n    static empty(rows, columns) {\n      return new this(rows, columns);\n    }\n\n    /**\n         * Creates a matrix with the given dimensions. Values will be set to zero.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n    static zeros(rows, columns) {\n      return this.empty(rows, columns).fill(0);\n    }\n\n    /**\n         * Creates a matrix with the given dimensions. Values will be set to one.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @return {Matrix} - The new matrix\n         */\n    static ones(rows, columns) {\n      return this.empty(rows, columns).fill(1);\n    }\n\n    /**\n         * Creates a matrix with the given dimensions. Values will be randomly set.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @param {function} [rng=Math.random] - Random number generator\n         * @return {Matrix} The new matrix\n         */\n    static rand(rows, columns, rng) {\n      if (rng === undefined) rng = Math.random;\n      var matrix = this.empty(rows, columns);\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < columns; j++) {\n          matrix.set(i, j, rng());\n        }\n      }\n      return matrix;\n    }\n\n    /**\n         * Creates a matrix with the given dimensions. Values will be random integers.\n         * @param {number} rows - Number of rows\n         * @param {number} columns - Number of columns\n         * @param {number} [maxValue=1000] - Maximum value\n         * @param {function} [rng=Math.random] - Random number generator\n         * @return {Matrix} The new matrix\n         */\n    static randInt(rows, columns, maxValue, rng) {\n      if (maxValue === undefined) maxValue = 1000;\n      if (rng === undefined) rng = Math.random;\n      var matrix = this.empty(rows, columns);\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < columns; j++) {\n          var value = Math.floor(rng() * maxValue);\n          matrix.set(i, j, value);\n        }\n      }\n      return matrix;\n    }\n\n    /**\n         * Creates an identity matrix with the given dimension. Values of the diagonal will be 1 and others will be 0.\n         * @param {number} rows - Number of rows\n         * @param {number} [columns=rows] - Number of columns\n         * @param {number} [value=1] - Value to fill the diagonal with\n         * @return {Matrix} - The new identity matrix\n         */\n    static eye(rows, columns, value) {\n      if (columns === undefined) columns = rows;\n      if (value === undefined) value = 1;\n      var min = Math.min(rows, columns);\n      var matrix = this.zeros(rows, columns);\n      for (var i = 0; i < min; i++) {\n        matrix.set(i, i, value);\n      }\n      return matrix;\n    }\n\n    /**\n         * Creates a diagonal matrix based on the given array.\n         * @param {Array} data - Array containing the data for the diagonal\n         * @param {number} [rows] - Number of rows (Default: data.length)\n         * @param {number} [columns] - Number of columns (Default: rows)\n         * @return {Matrix} - The new diagonal matrix\n         */\n    static diag(data, rows, columns) {\n      var l = data.length;\n      if (rows === undefined) rows = l;\n      if (columns === undefined) columns = rows;\n      var min = Math.min(l, rows, columns);\n      var matrix = this.zeros(rows, columns);\n      for (var i = 0; i < min; i++) {\n        matrix.set(i, i, data[i]);\n      }\n      return matrix;\n    }\n\n    /**\n         * Returns a matrix whose elements are the minimum between matrix1 and matrix2\n         * @param {Matrix} matrix1\n         * @param {Matrix} matrix2\n         * @return {Matrix}\n         */\n    static min(matrix1, matrix2) {\n      matrix1 = this.checkMatrix(matrix1);\n      matrix2 = this.checkMatrix(matrix2);\n      var rows = matrix1.rows;\n      var columns = matrix1.columns;\n      var result = new this(rows, columns);\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < columns; j++) {\n          result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n        }\n      }\n      return result;\n    }\n\n    /**\n         * Returns a matrix whose elements are the maximum between matrix1 and matrix2\n         * @param {Matrix} matrix1\n         * @param {Matrix} matrix2\n         * @return {Matrix}\n         */\n    static max(matrix1, matrix2) {\n      matrix1 = this.checkMatrix(matrix1);\n      matrix2 = this.checkMatrix(matrix2);\n      var rows = matrix1.rows;\n      var columns = matrix1.columns;\n      var result = new this(rows, columns);\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < columns; j++) {\n          result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n        }\n      }\n      return result;\n    }\n\n    /**\n         * Check that the provided value is a Matrix and tries to instantiate one if not\n         * @param {*} value - The value to check\n         * @return {Matrix}\n         */\n    static checkMatrix(value) {\n      return Matrix.isMatrix(value) ? value : new this(value);\n    }\n\n    /**\n         * Returns true if the argument is a Matrix, false otherwise\n         * @param {*} value - The value to check\n         * @return {boolean}\n         */\n    static isMatrix(value) {\n      return (value != null) && (value.klass === 'Matrix');\n    }\n\n    /**\n         * @prop {number} size - The number of elements in the matrix.\n         */\n    get size() {\n      return this.rows * this.columns;\n    }\n\n    /**\n         * Applies a callback for each element of the matrix. The function is called in the matrix (this) context.\n         * @param {function} callback - Function that will be called with two parameters : i (row) and j (column)\n         * @return {Matrix} this\n         */\n    apply(callback) {\n      if (typeof callback !== 'function') {\n        throw new TypeError('callback must be a function');\n      }\n      var ii = this.rows;\n      var jj = this.columns;\n      for (var i = 0; i < ii; i++) {\n        for (var j = 0; j < jj; j++) {\n          callback.call(this, i, j);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Returns a new 1D array filled row by row with the matrix values\n         * @return {Array}\n         */\n    to1DArray() {\n      var array = new Array(this.size);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          array[i * this.columns + j] = this.get(i, j);\n        }\n      }\n      return array;\n    }\n\n    /**\n         * Returns a 2D array containing a copy of the data\n         * @return {Array}\n         */\n    to2DArray() {\n      var copy = new Array(this.rows);\n      for (var i = 0; i < this.rows; i++) {\n        copy[i] = new Array(this.columns);\n        for (var j = 0; j < this.columns; j++) {\n          copy[i][j] = this.get(i, j);\n        }\n      }\n      return copy;\n    }\n\n    /**\n         * @return {boolean} true if the matrix has one row\n         */\n    isRowVector() {\n      return this.rows === 1;\n    }\n\n    /**\n         * @return {boolean} true if the matrix has one column\n         */\n    isColumnVector() {\n      return this.columns === 1;\n    }\n\n    /**\n         * @return {boolean} true if the matrix has one row or one column\n         */\n    isVector() {\n      return (this.rows === 1) || (this.columns === 1);\n    }\n\n    /**\n         * @return {boolean} true if the matrix has the same number of rows and columns\n         */\n    isSquare() {\n      return this.rows === this.columns;\n    }\n\n    /**\n         * @return {boolean} true if the matrix is square and has the same values on both sides of the diagonal\n         */\n    isSymmetric() {\n      if (this.isSquare()) {\n        for (var i = 0; i < this.rows; i++) {\n          for (var j = 0; j <= i; j++) {\n            if (this.get(i, j) !== this.get(j, i)) {\n              return false;\n            }\n          }\n        }\n        return true;\n      }\n      return false;\n    }\n\n    /**\n         * Sets a given element of the matrix. mat.set(3,4,1) is equivalent to mat[3][4]=1\n         * @abstract\n         * @param {number} rowIndex - Index of the row\n         * @param {number} columnIndex - Index of the column\n         * @param {number} value - The new value for the element\n         * @return {Matrix} this\n         */\n    set(rowIndex, columnIndex, value) { // eslint-disable-line no-unused-vars\n      throw new Error('set method is unimplemented');\n    }\n\n    /**\n         * Returns the given element of the matrix. mat.get(3,4) is equivalent to matrix[3][4]\n         * @abstract\n         * @param {number} rowIndex - Index of the row\n         * @param {number} columnIndex - Index of the column\n         * @return {number}\n         */\n    get(rowIndex, columnIndex) { // eslint-disable-line no-unused-vars\n      throw new Error('get method is unimplemented');\n    }\n\n    /**\n         * Creates a new matrix that is a repetition of the current matrix. New matrix has rowRep times the number of\n         * rows of the matrix, and colRep times the number of columns of the matrix\n         * @param {number} rowRep - Number of times the rows should be repeated\n         * @param {number} colRep - Number of times the columns should be re\n         * @return {Matrix}\n         * @example\n         * var matrix = new Matrix([[1,2]]);\n         * matrix.repeat(2); // [[1,2],[1,2]]\n         */\n    repeat(rowRep, colRep) {\n      rowRep = rowRep || 1;\n      colRep = colRep || 1;\n      var matrix = new this.constructor[Symbol.species](this.rows * rowRep, this.columns * colRep);\n      for (var i = 0; i < rowRep; i++) {\n        for (var j = 0; j < colRep; j++) {\n          matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n        }\n      }\n      return matrix;\n    }\n\n    /**\n         * Fills the matrix with a given value. All elements will be set to this value.\n         * @param {number} value - New value\n         * @return {Matrix} this\n         */\n    fill(value) {\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, value);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Negates the matrix. All elements will be multiplied by (-1)\n         * @return {Matrix} this\n         */\n    neg() {\n      return this.mulS(-1);\n    }\n\n    /**\n         * Returns a new array from the given row index\n         * @param {number} index - Row index\n         * @return {Array}\n         */\n    getRow(index) {\n      checkRowIndex(this, index);\n      var row = new Array(this.columns);\n      for (var i = 0; i < this.columns; i++) {\n        row[i] = this.get(index, i);\n      }\n      return row;\n    }\n\n    /**\n         * Returns a new row vector from the given row index\n         * @param {number} index - Row index\n         * @return {Matrix}\n         */\n    getRowVector(index) {\n      return this.constructor.rowVector(this.getRow(index));\n    }\n\n    /**\n         * Sets a row at the given index\n         * @param {number} index - Row index\n         * @param {Array|Matrix} array - Array or vector\n         * @return {Matrix} this\n         */\n    setRow(index, array) {\n      checkRowIndex(this, index);\n      array = checkRowVector(this, array);\n      for (var i = 0; i < this.columns; i++) {\n        this.set(index, i, array[i]);\n      }\n      return this;\n    }\n\n    /**\n         * Swaps two rows\n         * @param {number} row1 - First row index\n         * @param {number} row2 - Second row index\n         * @return {Matrix} this\n         */\n    swapRows(row1, row2) {\n      checkRowIndex(this, row1);\n      checkRowIndex(this, row2);\n      for (var i = 0; i < this.columns; i++) {\n        var temp = this.get(row1, i);\n        this.set(row1, i, this.get(row2, i));\n        this.set(row2, i, temp);\n      }\n      return this;\n    }\n\n    /**\n         * Returns a new array from the given column index\n         * @param {number} index - Column index\n         * @return {Array}\n         */\n    getColumn(index) {\n      checkColumnIndex(this, index);\n      var column = new Array(this.rows);\n      for (var i = 0; i < this.rows; i++) {\n        column[i] = this.get(i, index);\n      }\n      return column;\n    }\n\n    /**\n         * Returns a new column vector from the given column index\n         * @param {number} index - Column index\n         * @return {Matrix}\n         */\n    getColumnVector(index) {\n      return this.constructor.columnVector(this.getColumn(index));\n    }\n\n    /**\n         * Sets a column at the given index\n         * @param {number} index - Column index\n         * @param {Array|Matrix} array - Array or vector\n         * @return {Matrix} this\n         */\n    setColumn(index, array) {\n      checkColumnIndex(this, index);\n      array = checkColumnVector(this, array);\n      for (var i = 0; i < this.rows; i++) {\n        this.set(i, index, array[i]);\n      }\n      return this;\n    }\n\n    /**\n         * Swaps two columns\n         * @param {number} column1 - First column index\n         * @param {number} column2 - Second column index\n         * @return {Matrix} this\n         */\n    swapColumns(column1, column2) {\n      checkColumnIndex(this, column1);\n      checkColumnIndex(this, column2);\n      for (var i = 0; i < this.rows; i++) {\n        var temp = this.get(i, column1);\n        this.set(i, column1, this.get(i, column2));\n        this.set(i, column2, temp);\n      }\n      return this;\n    }\n\n    /**\n         * Adds the values of a vector to each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    addRowVector(vector) {\n      vector = checkRowVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) + vector[j]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Subtracts the values of a vector from each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    subRowVector(vector) {\n      vector = checkRowVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) - vector[j]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Multiplies the values of a vector with each row\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    mulRowVector(vector) {\n      vector = checkRowVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) * vector[j]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Divides the values of each row by those of a vector\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    divRowVector(vector) {\n      vector = checkRowVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) / vector[j]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Adds the values of a vector to each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    addColumnVector(vector) {\n      vector = checkColumnVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) + vector[i]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Subtracts the values of a vector from each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    subColumnVector(vector) {\n      vector = checkColumnVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) - vector[i]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Multiplies the values of a vector with each column\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    mulColumnVector(vector) {\n      vector = checkColumnVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) * vector[i]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Divides the values of each column by those of a vector\n         * @param {Array|Matrix} vector - Array or vector\n         * @return {Matrix} this\n         */\n    divColumnVector(vector) {\n      vector = checkColumnVector(this, vector);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          this.set(i, j, this.get(i, j) / vector[i]);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Multiplies the values of a row with a scalar\n         * @param {number} index - Row index\n         * @param {number} value\n         * @return {Matrix} this\n         */\n    mulRow(index, value) {\n      checkRowIndex(this, index);\n      for (var i = 0; i < this.columns; i++) {\n        this.set(index, i, this.get(index, i) * value);\n      }\n      return this;\n    }\n\n    /**\n         * Multiplies the values of a column with a scalar\n         * @param {number} index - Column index\n         * @param {number} value\n         * @return {Matrix} this\n         */\n    mulColumn(index, value) {\n      checkColumnIndex(this, index);\n      for (var i = 0; i < this.rows; i++) {\n        this.set(i, index, this.get(i, index) * value);\n      }\n      return this;\n    }\n\n    /**\n         * Returns the maximum value of the matrix\n         * @return {number}\n         */\n    max() {\n      var v = this.get(0, 0);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          if (this.get(i, j) > v) {\n            v = this.get(i, j);\n          }\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the maximum value\n         * @return {Array}\n         */\n    maxIndex() {\n      var v = this.get(0, 0);\n      var idx = [0, 0];\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          if (this.get(i, j) > v) {\n            v = this.get(i, j);\n            idx[0] = i;\n            idx[1] = j;\n          }\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns the minimum value of the matrix\n         * @return {number}\n         */\n    min() {\n      var v = this.get(0, 0);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          if (this.get(i, j) < v) {\n            v = this.get(i, j);\n          }\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the minimum value\n         * @return {Array}\n         */\n    minIndex() {\n      var v = this.get(0, 0);\n      var idx = [0, 0];\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          if (this.get(i, j) < v) {\n            v = this.get(i, j);\n            idx[0] = i;\n            idx[1] = j;\n          }\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns the maximum value of one row\n         * @param {number} row - Row index\n         * @return {number}\n         */\n    maxRow(row) {\n      checkRowIndex(this, row);\n      var v = this.get(row, 0);\n      for (var i = 1; i < this.columns; i++) {\n        if (this.get(row, i) > v) {\n          v = this.get(row, i);\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the maximum value of one row\n         * @param {number} row - Row index\n         * @return {Array}\n         */\n    maxRowIndex(row) {\n      checkRowIndex(this, row);\n      var v = this.get(row, 0);\n      var idx = [row, 0];\n      for (var i = 1; i < this.columns; i++) {\n        if (this.get(row, i) > v) {\n          v = this.get(row, i);\n          idx[1] = i;\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns the minimum value of one row\n         * @param {number} row - Row index\n         * @return {number}\n         */\n    minRow(row) {\n      checkRowIndex(this, row);\n      var v = this.get(row, 0);\n      for (var i = 1; i < this.columns; i++) {\n        if (this.get(row, i) < v) {\n          v = this.get(row, i);\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the maximum value of one row\n         * @param {number} row - Row index\n         * @return {Array}\n         */\n    minRowIndex(row) {\n      checkRowIndex(this, row);\n      var v = this.get(row, 0);\n      var idx = [row, 0];\n      for (var i = 1; i < this.columns; i++) {\n        if (this.get(row, i) < v) {\n          v = this.get(row, i);\n          idx[1] = i;\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns the maximum value of one column\n         * @param {number} column - Column index\n         * @return {number}\n         */\n    maxColumn(column) {\n      checkColumnIndex(this, column);\n      var v = this.get(0, column);\n      for (var i = 1; i < this.rows; i++) {\n        if (this.get(i, column) > v) {\n          v = this.get(i, column);\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the maximum value of one column\n         * @param {number} column - Column index\n         * @return {Array}\n         */\n    maxColumnIndex(column) {\n      checkColumnIndex(this, column);\n      var v = this.get(0, column);\n      var idx = [0, column];\n      for (var i = 1; i < this.rows; i++) {\n        if (this.get(i, column) > v) {\n          v = this.get(i, column);\n          idx[0] = i;\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns the minimum value of one column\n         * @param {number} column - Column index\n         * @return {number}\n         */\n    minColumn(column) {\n      checkColumnIndex(this, column);\n      var v = this.get(0, column);\n      for (var i = 1; i < this.rows; i++) {\n        if (this.get(i, column) < v) {\n          v = this.get(i, column);\n        }\n      }\n      return v;\n    }\n\n    /**\n         * Returns the index of the minimum value of one column\n         * @param {number} column - Column index\n         * @return {Array}\n         */\n    minColumnIndex(column) {\n      checkColumnIndex(this, column);\n      var v = this.get(0, column);\n      var idx = [0, column];\n      for (var i = 1; i < this.rows; i++) {\n        if (this.get(i, column) < v) {\n          v = this.get(i, column);\n          idx[0] = i;\n        }\n      }\n      return idx;\n    }\n\n    /**\n         * Returns an array containing the diagonal values of the matrix\n         * @return {Array}\n         */\n    diag() {\n      var min = Math.min(this.rows, this.columns);\n      var diag = new Array(min);\n      for (var i = 0; i < min; i++) {\n        diag[i] = this.get(i, i);\n      }\n      return diag;\n    }\n\n    /**\n         * Returns the sum by the argument given, if no argument given,\n         * it returns the sum of all elements of the matrix.\n         * @param {string} by - sum by 'row' or 'column'.\n         * @return {Matrix|number}\n         */\n    sum(by) {\n      switch (by) {\n        case 'row':\n          return sumByRow(this);\n        case 'column':\n          return sumByColumn(this);\n        default:\n          return sumAll(this);\n      }\n    }\n\n    /**\n         * Returns the mean of all elements of the matrix\n         * @return {number}\n         */\n    mean() {\n      return this.sum() / this.size;\n    }\n\n    /**\n         * Returns the product of all elements of the matrix\n         * @return {number}\n         */\n    prod() {\n      var prod = 1;\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          prod *= this.get(i, j);\n        }\n      }\n      return prod;\n    }\n\n    /**\n         * Returns the norm of a matrix.\n         * @param {string} type - \"frobenius\" (default) or \"max\" return resp. the Frobenius norm and the max norm.\n         * @return {number}\n         */\n    norm(type = 'frobenius') {\n      var result = 0;\n      if (type === 'max') {\n        return this.max();\n      } else if (type === 'frobenius') {\n        for (var i = 0; i < this.rows; i++) {\n          for (var j = 0; j < this.columns; j++) {\n            result = result + this.get(i, j) * this.get(i, j);\n          }\n        }\n        return Math.sqrt(result);\n      } else {\n        throw new RangeError(`unknown norm type: ${type}`);\n      }\n    }\n\n    /**\n         * Computes the cumulative sum of the matrix elements (in place, row by row)\n         * @return {Matrix} this\n         */\n    cumulativeSum() {\n      var sum = 0;\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          sum += this.get(i, j);\n          this.set(i, j, sum);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Computes the dot (scalar) product between the matrix and another\n         * @param {Matrix} vector2 vector\n         * @return {number}\n         */\n    dot(vector2) {\n      if (Matrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n      var vector1 = this.to1DArray();\n      if (vector1.length !== vector2.length) {\n        throw new RangeError('vectors do not have the same size');\n      }\n      var dot = 0;\n      for (var i = 0; i < vector1.length; i++) {\n        dot += vector1[i] * vector2[i];\n      }\n      return dot;\n    }\n\n    /**\n         * Returns the matrix product between this and other\n         * @param {Matrix} other\n         * @return {Matrix}\n         */\n    mmul(other) {\n      other = this.constructor.checkMatrix(other);\n      if (this.columns !== other.rows) {\n        // eslint-disable-next-line no-console\n        console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');\n      }\n\n      var m = this.rows;\n      var n = this.columns;\n      var p = other.columns;\n\n      var result = new this.constructor[Symbol.species](m, p);\n\n      var Bcolj = new Array(n);\n      for (var j = 0; j < p; j++) {\n        for (var k = 0; k < n; k++) {\n          Bcolj[k] = other.get(k, j);\n        }\n\n        for (var i = 0; i < m; i++) {\n          var s = 0;\n          for (k = 0; k < n; k++) {\n            s += this.get(i, k) * Bcolj[k];\n          }\n\n          result.set(i, j, s);\n        }\n      }\n      return result;\n    }\n\n    strassen2x2(other) {\n      var result = new this.constructor[Symbol.species](2, 2);\n      const a11 = this.get(0, 0);\n      const b11 = other.get(0, 0);\n      const a12 = this.get(0, 1);\n      const b12 = other.get(0, 1);\n      const a21 = this.get(1, 0);\n      const b21 = other.get(1, 0);\n      const a22 = this.get(1, 1);\n      const b22 = other.get(1, 1);\n\n      // Compute intermediate values.\n      const m1 = (a11 + a22) * (b11 + b22);\n      const m2 = (a21 + a22) * b11;\n      const m3 = a11 * (b12 - b22);\n      const m4 = a22 * (b21 - b11);\n      const m5 = (a11 + a12) * b22;\n      const m6 = (a21 - a11) * (b11 + b12);\n      const m7 = (a12 - a22) * (b21 + b22);\n\n      // Combine intermediate values into the output.\n      const c00 = m1 + m4 - m5 + m7;\n      const c01 = m3 + m5;\n      const c10 = m2 + m4;\n      const c11 = m1 - m2 + m3 + m6;\n\n      result.set(0, 0, c00);\n      result.set(0, 1, c01);\n      result.set(1, 0, c10);\n      result.set(1, 1, c11);\n      return result;\n    }\n\n    strassen3x3(other) {\n      var result = new this.constructor[Symbol.species](3, 3);\n\n      const a00 = this.get(0, 0);\n      const a01 = this.get(0, 1);\n      const a02 = this.get(0, 2);\n      const a10 = this.get(1, 0);\n      const a11 = this.get(1, 1);\n      const a12 = this.get(1, 2);\n      const a20 = this.get(2, 0);\n      const a21 = this.get(2, 1);\n      const a22 = this.get(2, 2);\n\n      const b00 = other.get(0, 0);\n      const b01 = other.get(0, 1);\n      const b02 = other.get(0, 2);\n      const b10 = other.get(1, 0);\n      const b11 = other.get(1, 1);\n      const b12 = other.get(1, 2);\n      const b20 = other.get(2, 0);\n      const b21 = other.get(2, 1);\n      const b22 = other.get(2, 2);\n\n      const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n      const m2 = (a00 - a10) * (-b01 + b11);\n      const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n      const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n      const m5 = (a10 + a11) * (-b00 + b01);\n      const m6 = a00 * b00;\n      const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n      const m8 = (-a00 + a20) * (b02 - b12);\n      const m9 = (a20 + a21) * (-b00 + b02);\n      const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n      const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n      const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n      const m13 = (a02 - a22) * (b11 - b21);\n      const m14 = a02 * b20;\n      const m15 = (a21 + a22) * (-b20 + b21);\n      const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n      const m17 = (a02 - a12) * (b12 - b22);\n      const m18 = (a11 + a12) * (-b20 + b22);\n      const m19 = a01 * b10;\n      const m20 = a12 * b21;\n      const m21 = a10 * b02;\n      const m22 = a20 * b01;\n      const m23 = a22 * b22;\n\n      const c00 = m6 + m14 + m19;\n      const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n      const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n      const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n      const c11 = m2 + m4 + m5 + m6 + m20;\n      const c12 = m14 + m16 + m17 + m18 + m21;\n      const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n      const c21 = m12 + m13 + m14 + m15 + m22;\n      const c22 = m6 + m7 + m8 + m9 + m23;\n\n      result.set(0, 0, c00);\n      result.set(0, 1, c01);\n      result.set(0, 2, c02);\n      result.set(1, 0, c10);\n      result.set(1, 1, c11);\n      result.set(1, 2, c12);\n      result.set(2, 0, c20);\n      result.set(2, 1, c21);\n      result.set(2, 2, c22);\n      return result;\n    }\n\n    /**\n         * Returns the matrix product between x and y. More efficient than mmul(other) only when we multiply squared matrix and when the size of the matrix is > 1000.\n         * @param {Matrix} y\n         * @return {Matrix}\n         */\n    mmulStrassen(y) {\n      var x = this.clone();\n      var r1 = x.rows;\n      var c1 = x.columns;\n      var r2 = y.rows;\n      var c2 = y.columns;\n      if (c1 !== r2) {\n        // eslint-disable-next-line no-console\n        console.warn(`Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`);\n      }\n\n      // Put a matrix into the top left of a matrix of zeros.\n      // `rows` and `cols` are the dimensions of the output matrix.\n      function embed(mat, rows, cols) {\n        var r = mat.rows;\n        var c = mat.columns;\n        if ((r === rows) && (c === cols)) {\n          return mat;\n        } else {\n          var resultat = Matrix.zeros(rows, cols);\n          resultat = resultat.setSubMatrix(mat, 0, 0);\n          return resultat;\n        }\n      }\n\n\n      // Make sure both matrices are the same size.\n      // This is exclusively for simplicity:\n      // this algorithm can be implemented with matrices of different sizes.\n\n      var r = Math.max(r1, r2);\n      var c = Math.max(c1, c2);\n      x = embed(x, r, c);\n      y = embed(y, r, c);\n\n      // Our recursive multiplication function.\n      function blockMult(a, b, rows, cols) {\n        // For small matrices, resort to naive multiplication.\n        if (rows <= 512 || cols <= 512) {\n          return a.mmul(b); // a is equivalent to this\n        }\n\n        // Apply dynamic padding.\n        if ((rows % 2 === 1) && (cols % 2 === 1)) {\n          a = embed(a, rows + 1, cols + 1);\n          b = embed(b, rows + 1, cols + 1);\n        } else if (rows % 2 === 1) {\n          a = embed(a, rows + 1, cols);\n          b = embed(b, rows + 1, cols);\n        } else if (cols % 2 === 1) {\n          a = embed(a, rows, cols + 1);\n          b = embed(b, rows, cols + 1);\n        }\n\n        var halfRows = parseInt(a.rows / 2, 10);\n        var halfCols = parseInt(a.columns / 2, 10);\n        // Subdivide input matrices.\n        var a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n        var b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n        var a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n        var b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n        var a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n        var b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n        var a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n        var b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n        // Compute intermediate values.\n        var m1 = blockMult(Matrix.add(a11, a22), Matrix.add(b11, b22), halfRows, halfCols);\n        var m2 = blockMult(Matrix.add(a21, a22), b11, halfRows, halfCols);\n        var m3 = blockMult(a11, Matrix.sub(b12, b22), halfRows, halfCols);\n        var m4 = blockMult(a22, Matrix.sub(b21, b11), halfRows, halfCols);\n        var m5 = blockMult(Matrix.add(a11, a12), b22, halfRows, halfCols);\n        var m6 = blockMult(Matrix.sub(a21, a11), Matrix.add(b11, b12), halfRows, halfCols);\n        var m7 = blockMult(Matrix.sub(a12, a22), Matrix.add(b21, b22), halfRows, halfCols);\n\n        // Combine intermediate values into the output.\n        var c11 = Matrix.add(m1, m4);\n        c11.sub(m5);\n        c11.add(m7);\n        var c12 = Matrix.add(m3, m5);\n        var c21 = Matrix.add(m2, m4);\n        var c22 = Matrix.sub(m1, m2);\n        c22.add(m3);\n        c22.add(m6);\n\n        // Crop output to the desired size (undo dynamic padding).\n        var resultat = Matrix.zeros(2 * c11.rows, 2 * c11.columns);\n        resultat = resultat.setSubMatrix(c11, 0, 0);\n        resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n        resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n        resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n        return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n      }\n      return blockMult(x, y, r, c);\n    }\n\n    /**\n         * Returns a row-by-row scaled matrix\n         * @param {number} [min=0] - Minimum scaled value\n         * @param {number} [max=1] - Maximum scaled value\n         * @return {Matrix} - The scaled matrix\n         */\n    scaleRows(min, max) {\n      min = min === undefined ? 0 : min;\n      max = max === undefined ? 1 : max;\n      if (min >= max) {\n        throw new RangeError('min should be strictly smaller than max');\n      }\n      var newMatrix = this.constructor.empty(this.rows, this.columns);\n      for (var i = 0; i < this.rows; i++) {\n        var scaled = rescale(this.getRow(i), { min, max });\n        newMatrix.setRow(i, scaled);\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Returns a new column-by-column scaled matrix\n         * @param {number} [min=0] - Minimum scaled value\n         * @param {number} [max=1] - Maximum scaled value\n         * @return {Matrix} - The new scaled matrix\n         * @example\n         * var matrix = new Matrix([[1,2],[-1,0]]);\n         * var scaledMatrix = matrix.scaleColumns(); // [[1,1],[0,0]]\n         */\n    scaleColumns(min, max) {\n      min = min === undefined ? 0 : min;\n      max = max === undefined ? 1 : max;\n      if (min >= max) {\n        throw new RangeError('min should be strictly smaller than max');\n      }\n      var newMatrix = this.constructor.empty(this.rows, this.columns);\n      for (var i = 0; i < this.columns; i++) {\n        var scaled = rescale(this.getColumn(i), {\n          min: min,\n          max: max\n        });\n        newMatrix.setColumn(i, scaled);\n      }\n      return newMatrix;\n    }\n\n\n    /**\n         * Returns the Kronecker product (also known as tensor product) between this and other\n         * See https://en.wikipedia.org/wiki/Kronecker_product\n         * @param {Matrix} other\n         * @return {Matrix}\n         */\n    kroneckerProduct(other) {\n      other = this.constructor.checkMatrix(other);\n\n      var m = this.rows;\n      var n = this.columns;\n      var p = other.rows;\n      var q = other.columns;\n\n      var result = new this.constructor[Symbol.species](m * p, n * q);\n      for (var i = 0; i < m; i++) {\n        for (var j = 0; j < n; j++) {\n          for (var k = 0; k < p; k++) {\n            for (var l = 0; l < q; l++) {\n              result[p * i + k][q * j + l] = this.get(i, j) * other.get(k, l);\n            }\n          }\n        }\n      }\n      return result;\n    }\n\n    /**\n         * Transposes the matrix and returns a new one containing the result\n         * @return {Matrix}\n         */\n    transpose() {\n      var result = new this.constructor[Symbol.species](this.columns, this.rows);\n      for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n          result.set(j, i, this.get(i, j));\n        }\n      }\n      return result;\n    }\n\n    /**\n         * Sorts the rows (in place)\n         * @param {function} compareFunction - usual Array.prototype.sort comparison function\n         * @return {Matrix} this\n         */\n    sortRows(compareFunction) {\n      if (compareFunction === undefined) compareFunction = compareNumbers;\n      for (var i = 0; i < this.rows; i++) {\n        this.setRow(i, this.getRow(i).sort(compareFunction));\n      }\n      return this;\n    }\n\n    /**\n         * Sorts the columns (in place)\n         * @param {function} compareFunction - usual Array.prototype.sort comparison function\n         * @return {Matrix} this\n         */\n    sortColumns(compareFunction) {\n      if (compareFunction === undefined) compareFunction = compareNumbers;\n      for (var i = 0; i < this.columns; i++) {\n        this.setColumn(i, this.getColumn(i).sort(compareFunction));\n      }\n      return this;\n    }\n\n    /**\n         * Returns a subset of the matrix\n         * @param {number} startRow - First row index\n         * @param {number} endRow - Last row index\n         * @param {number} startColumn - First column index\n         * @param {number} endColumn - Last column index\n         * @return {Matrix}\n         */\n    subMatrix(startRow, endRow, startColumn, endColumn) {\n      checkRange(this, startRow, endRow, startColumn, endColumn);\n      var newMatrix = new this.constructor[Symbol.species](endRow - startRow + 1, endColumn - startColumn + 1);\n      for (var i = startRow; i <= endRow; i++) {\n        for (var j = startColumn; j <= endColumn; j++) {\n          newMatrix[i - startRow][j - startColumn] = this.get(i, j);\n        }\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Returns a subset of the matrix based on an array of row indices\n         * @param {Array} indices - Array containing the row indices\n         * @param {number} [startColumn = 0] - First column index\n         * @param {number} [endColumn = this.columns-1] - Last column index\n         * @return {Matrix}\n         */\n    subMatrixRow(indices, startColumn, endColumn) {\n      if (startColumn === undefined) startColumn = 0;\n      if (endColumn === undefined) endColumn = this.columns - 1;\n      if ((startColumn > endColumn) || (startColumn < 0) || (startColumn >= this.columns) || (endColumn < 0) || (endColumn >= this.columns)) {\n        throw new RangeError('Argument out of range');\n      }\n\n      var newMatrix = new this.constructor[Symbol.species](indices.length, endColumn - startColumn + 1);\n      for (var i = 0; i < indices.length; i++) {\n        for (var j = startColumn; j <= endColumn; j++) {\n          if (indices[i] < 0 || indices[i] >= this.rows) {\n            throw new RangeError(`Row index out of range: ${indices[i]}`);\n          }\n          newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n        }\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Returns a subset of the matrix based on an array of column indices\n         * @param {Array} indices - Array containing the column indices\n         * @param {number} [startRow = 0] - First row index\n         * @param {number} [endRow = this.rows-1] - Last row index\n         * @return {Matrix}\n         */\n    subMatrixColumn(indices, startRow, endRow) {\n      if (startRow === undefined) startRow = 0;\n      if (endRow === undefined) endRow = this.rows - 1;\n      if ((startRow > endRow) || (startRow < 0) || (startRow >= this.rows) || (endRow < 0) || (endRow >= this.rows)) {\n        throw new RangeError('Argument out of range');\n      }\n\n      var newMatrix = new this.constructor[Symbol.species](endRow - startRow + 1, indices.length);\n      for (var i = 0; i < indices.length; i++) {\n        for (var j = startRow; j <= endRow; j++) {\n          if (indices[i] < 0 || indices[i] >= this.columns) {\n            throw new RangeError(`Column index out of range: ${indices[i]}`);\n          }\n          newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n        }\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Set a part of the matrix to the given sub-matrix\n         * @param {Matrix|Array< Array >} matrix - The source matrix from which to extract values.\n         * @param {number} startRow - The index of the first row to set\n         * @param {number} startColumn - The index of the first column to set\n         * @return {Matrix}\n         */\n    setSubMatrix(matrix, startRow, startColumn) {\n      matrix = this.constructor.checkMatrix(matrix);\n      var endRow = startRow + matrix.rows - 1;\n      var endColumn = startColumn + matrix.columns - 1;\n      checkRange(this, startRow, endRow, startColumn, endColumn);\n      for (var i = 0; i < matrix.rows; i++) {\n        for (var j = 0; j < matrix.columns; j++) {\n          this[startRow + i][startColumn + j] = matrix.get(i, j);\n        }\n      }\n      return this;\n    }\n\n    /**\n         * Return a new matrix based on a selection of rows and columns\n         * @param {Array<number>} rowIndices - The row indices to select. Order matters and an index can be more than once.\n         * @param {Array<number>} columnIndices - The column indices to select. Order matters and an index can be use more than once.\n         * @return {Matrix} The new matrix\n         */\n    selection(rowIndices, columnIndices) {\n      var indices = checkIndices(this, rowIndices, columnIndices);\n      var newMatrix = new this.constructor[Symbol.species](rowIndices.length, columnIndices.length);\n      for (var i = 0; i < indices.row.length; i++) {\n        var rowIndex = indices.row[i];\n        for (var j = 0; j < indices.column.length; j++) {\n          var columnIndex = indices.column[j];\n          newMatrix[i][j] = this.get(rowIndex, columnIndex);\n        }\n      }\n      return newMatrix;\n    }\n\n    /**\n         * Returns the trace of the matrix (sum of the diagonal elements)\n         * @return {number}\n         */\n    trace() {\n      var min = Math.min(this.rows, this.columns);\n      var trace = 0;\n      for (var i = 0; i < min; i++) {\n        trace += this.get(i, i);\n      }\n      return trace;\n    }\n\n    /*\n         Matrix views\n         */\n\n    /**\n         * Returns a view of the transposition of the matrix\n         * @return {MatrixTransposeView}\n         */\n    transposeView() {\n      return new MatrixTransposeView(this);\n    }\n\n    /**\n         * Returns a view of the row vector with the given index\n         * @param {number} row - row index of the vector\n         * @return {MatrixRowView}\n         */\n    rowView(row) {\n      checkRowIndex(this, row);\n      return new MatrixRowView(this, row);\n    }\n\n    /**\n         * Returns a view of the column vector with the given index\n         * @param {number} column - column index of the vector\n         * @return {MatrixColumnView}\n         */\n    columnView(column) {\n      checkColumnIndex(this, column);\n      return new MatrixColumnView(this, column);\n    }\n\n    /**\n         * Returns a view of the matrix flipped in the row axis\n         * @return {MatrixFlipRowView}\n         */\n    flipRowView() {\n      return new MatrixFlipRowView(this);\n    }\n\n    /**\n         * Returns a view of the matrix flipped in the column axis\n         * @return {MatrixFlipColumnView}\n         */\n    flipColumnView() {\n      return new MatrixFlipColumnView(this);\n    }\n\n    /**\n         * Returns a view of a submatrix giving the index boundaries\n         * @param {number} startRow - first row index of the submatrix\n         * @param {number} endRow - last row index of the submatrix\n         * @param {number} startColumn - first column index of the submatrix\n         * @param {number} endColumn - last column index of the submatrix\n         * @return {MatrixSubView}\n         */\n    subMatrixView(startRow, endRow, startColumn, endColumn) {\n      return new MatrixSubView(this, startRow, endRow, startColumn, endColumn);\n    }\n\n    /**\n         * Returns a view of the cross of the row indices and the column indices\n         * @example\n         * // resulting vector is [[2], [2]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).selectionView([0, 0], [1])\n         * @param {Array<number>} rowIndices\n         * @param {Array<number>} columnIndices\n         * @return {MatrixSelectionView}\n         */\n    selectionView(rowIndices, columnIndices) {\n      return new MatrixSelectionView(this, rowIndices, columnIndices);\n    }\n\n    /**\n         * Returns a view of the row indices\n         * @example\n         * // resulting vector is [[1,2,3], [1,2,3]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).rowSelectionView([0, 0])\n         * @param {Array<number>} rowIndices\n         * @return {MatrixRowSelectionView}\n         */\n    rowSelectionView(rowIndices) {\n      return new MatrixRowSelectionView(this, rowIndices);\n    }\n\n    /**\n         * Returns a view of the column indices\n         * @example\n         * // resulting vector is [[2, 2], [5, 5]]\n         * var matrix = new Matrix([[1,2,3], [4,5,6]]).columnSelectionView([1, 1])\n         * @param {Array<number>} columnIndices\n         * @return {MatrixColumnSelectionView}\n         */\n    columnSelectionView(columnIndices) {\n      return new MatrixColumnSelectionView(this, columnIndices);\n    }\n\n\n    /**\n        * Calculates and returns the determinant of a matrix as a Number\n        * @example\n        *   new Matrix([[1,2,3], [4,5,6]]).det()\n        * @return {number}\n        */\n    det() {\n      if (this.isSquare()) {\n        var a, b, c, d;\n        if (this.columns === 2) {\n          // 2 x 2 matrix\n          a = this.get(0, 0);\n          b = this.get(0, 1);\n          c = this.get(1, 0);\n          d = this.get(1, 1);\n\n          return a * d - (b * c);\n        } else if (this.columns === 3) {\n          // 3 x 3 matrix\n          var subMatrix0, subMatrix1, subMatrix2;\n          subMatrix0 = this.selectionView([1, 2], [1, 2]);\n          subMatrix1 = this.selectionView([1, 2], [0, 2]);\n          subMatrix2 = this.selectionView([1, 2], [0, 1]);\n          a = this.get(0, 0);\n          b = this.get(0, 1);\n          c = this.get(0, 2);\n\n          return a * subMatrix0.det() - b * subMatrix1.det() + c * subMatrix2.det();\n        } else {\n          // general purpose determinant using the LU decomposition\n          return new LuDecomposition(this).determinant;\n        }\n      } else {\n        throw Error('Determinant can only be calculated for a square matrix.');\n      }\n    }\n\n    /**\n         * Returns inverse of a matrix if it exists or the pseudoinverse\n         * @param {number} threshold - threshold for taking inverse of singular values (default = 1e-15)\n         * @return {Matrix} the (pseudo)inverted matrix.\n         */\n    pseudoInverse(threshold) {\n      if (threshold === undefined) threshold = Number.EPSILON;\n      var svdSolution = new SvDecomposition(this, { autoTranspose: true });\n\n      var U = svdSolution.leftSingularVectors;\n      var V = svdSolution.rightSingularVectors;\n      var s = svdSolution.diagonal;\n\n      for (var i = 0; i < s.length; i++) {\n        if (Math.abs(s[i]) > threshold) {\n          s[i] = 1.0 / s[i];\n        } else {\n          s[i] = 0.0;\n        }\n      }\n\n      // convert list to diagonal\n      s = this.constructor[Symbol.species].diag(s);\n      return V.mmul(s.mmul(U.transposeView()));\n    }\n\n    /**\n         * Creates an exact and independent copy of the matrix\n         * @return {Matrix}\n         */\n    clone() {\n      var newMatrix = new this.constructor[Symbol.species](this.rows, this.columns);\n      for (var row = 0; row < this.rows; row++) {\n        for (var column = 0; column < this.columns; column++) {\n          newMatrix.set(row, column, this.get(row, column));\n        }\n      }\n      return newMatrix;\n    }\n  }\n\n  Matrix.prototype.klass = 'Matrix';\n\n  function compareNumbers(a, b) {\n    return a - b;\n  }\n\n  /*\n     Synonyms\n     */\n\n  Matrix.random = Matrix.rand;\n  Matrix.diagonal = Matrix.diag;\n  Matrix.prototype.diagonal = Matrix.prototype.diag;\n  Matrix.identity = Matrix.eye;\n  Matrix.prototype.negate = Matrix.prototype.neg;\n  Matrix.prototype.tensorProduct = Matrix.prototype.kroneckerProduct;\n  Matrix.prototype.determinant = Matrix.prototype.det;\n\n  /*\n     Add dynamically instance and static methods for mathematical operations\n     */\n\n  var inplaceOperator = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\n  var inplaceOperatorScalar = `\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n`;\n\n  var inplaceOperatorMatrix = `\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n`;\n\n  var staticOperator = `\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n`;\n\n  var inplaceMethod = `\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n`;\n\n  var staticMethod = `\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n`;\n\n  var inplaceMethodWithArgs = `\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n`;\n\n  var staticMethodWithArgs = `\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n`;\n\n\n  var inplaceMethodWithOneArgScalar = `\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n`;\n  var inplaceMethodWithOneArgMatrix = `\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n`;\n\n  var inplaceMethodWithOneArg = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\n  var staticMethodWithOneArg = staticMethodWithArgs;\n\n  var operators = [\n    // Arithmetic operators\n    ['+', 'add'],\n    ['-', 'sub', 'subtract'],\n    ['*', 'mul', 'multiply'],\n    ['/', 'div', 'divide'],\n    ['%', 'mod', 'modulus'],\n    // Bitwise operators\n    ['&', 'and'],\n    ['|', 'or'],\n    ['^', 'xor'],\n    ['<<', 'leftShift'],\n    ['>>', 'signPropagatingRightShift'],\n    ['>>>', 'rightShift', 'zeroFillRightShift']\n  ];\n\n  var i;\n  var eval2 = eval; // eslint-disable-line no-eval\n  for (var operator of operators) {\n    var inplaceOp = eval2(fillTemplateFunction(inplaceOperator, { name: operator[1], op: operator[0] }));\n    var inplaceOpS = eval2(fillTemplateFunction(inplaceOperatorScalar, { name: `${operator[1]}S`, op: operator[0] }));\n    var inplaceOpM = eval2(fillTemplateFunction(inplaceOperatorMatrix, { name: `${operator[1]}M`, op: operator[0] }));\n    var staticOp = eval2(fillTemplateFunction(staticOperator, { name: operator[1] }));\n    for (i = 1; i < operator.length; i++) {\n      Matrix.prototype[operator[i]] = inplaceOp;\n      Matrix.prototype[`${operator[i]}S`] = inplaceOpS;\n      Matrix.prototype[`${operator[i]}M`] = inplaceOpM;\n      Matrix[operator[i]] = staticOp;\n    }\n  }\n\n  var methods = [['~', 'not']];\n\n  [\n    'abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'cbrt', 'ceil',\n    'clz32', 'cos', 'cosh', 'exp', 'expm1', 'floor', 'fround', 'log', 'log1p',\n    'log10', 'log2', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc'\n  ].forEach(function (mathMethod) {\n    methods.push([`Math.${mathMethod}`, mathMethod]);\n  });\n\n  for (var method of methods) {\n    var inplaceMeth = eval2(fillTemplateFunction(inplaceMethod, { name: method[1], method: method[0] }));\n    var staticMeth = eval2(fillTemplateFunction(staticMethod, { name: method[1] }));\n    for (i = 1; i < method.length; i++) {\n      Matrix.prototype[method[i]] = inplaceMeth;\n      Matrix[method[i]] = staticMeth;\n    }\n  }\n\n  var methodsWithArgs = [['Math.pow', 1, 'pow']];\n\n  for (var methodWithArg of methodsWithArgs) {\n    var args = 'arg0';\n    for (i = 1; i < methodWithArg[1]; i++) {\n      args += `, arg${i}`;\n    }\n    if (methodWithArg[1] !== 1) {\n      var inplaceMethWithArgs = eval2(fillTemplateFunction(inplaceMethodWithArgs, {\n        name: methodWithArg[2],\n        method: methodWithArg[0],\n        args: args\n      }));\n      var staticMethWithArgs = eval2(fillTemplateFunction(staticMethodWithArgs, { name: methodWithArg[2], args: args }));\n      for (i = 2; i < methodWithArg.length; i++) {\n        Matrix.prototype[methodWithArg[i]] = inplaceMethWithArgs;\n        Matrix[methodWithArg[i]] = staticMethWithArgs;\n      }\n    } else {\n      var tmplVar = {\n        name: methodWithArg[2],\n        args: args,\n        method: methodWithArg[0]\n      };\n      var inplaceMethod2 = eval2(fillTemplateFunction(inplaceMethodWithOneArg, tmplVar));\n      var inplaceMethodS = eval2(fillTemplateFunction(inplaceMethodWithOneArgScalar, tmplVar));\n      var inplaceMethodM = eval2(fillTemplateFunction(inplaceMethodWithOneArgMatrix, tmplVar));\n      var staticMethod2 = eval2(fillTemplateFunction(staticMethodWithOneArg, tmplVar));\n      for (i = 2; i < methodWithArg.length; i++) {\n        Matrix.prototype[methodWithArg[i]] = inplaceMethod2;\n        Matrix.prototype[`${methodWithArg[i]}M`] = inplaceMethodM;\n        Matrix.prototype[`${methodWithArg[i]}S`] = inplaceMethodS;\n        Matrix[methodWithArg[i]] = staticMethod2;\n      }\n    }\n  }\n\n  function fillTemplateFunction(template, values) {\n    for (var value in values) {\n      template = template.replace(new RegExp(`%${value}%`, 'g'), values[value]);\n    }\n    return template;\n  }\n\n  return Matrix;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/abstractMatrix.js","/**\n * Computes the mean of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function mean(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var sum = 0;\n    for (var i = 0; i < input.length; i++) {\n        sum += input[i];\n    }\n    return sum / input.length;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-mean/src/index.js","import { Matrix, WrapperMatrix2D } from '../index';\n\nimport { hypotenuse, getFilled2DArray } from './util';\n\n/**\n * @class SingularValueDecomposition\n * @see https://github.com/accord-net/framework/blob/development/Sources/Accord.Math/Decompositions/SingularValueDecomposition.cs\n * @param {Matrix} value\n * @param {object} [options]\n * @param {boolean} [options.computeLeftSingularVectors=true]\n * @param {boolean} [options.computeRightSingularVectors=true]\n * @param {boolean} [options.autoTranspose=false]\n */\nexport default class SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    var m = value.rows;\n    var n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false\n    } = options;\n\n    var wantu = Boolean(computeLeftSingularVectors);\n    var wantv = Boolean(computeRightSingularVectors);\n\n    var swapped = false;\n    var a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose'\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        var aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    var nu = Math.min(m, n);\n    var ni = Math.min(m + 1, n);\n    var s = new Array(ni);\n    var U = getFilled2DArray(m, nu, 0);\n    var V = getFilled2DArray(n, n, 0);\n\n    var e = new Array(n);\n    var work = new Array(m);\n\n    var si = new Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    var nct = Math.min(m - 1, n);\n    var nrt = Math.max(0, Math.min(n - 2, m));\n    var mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a[i][k]);\n        }\n        if (s[k] !== 0) {\n          if (a[k][k] < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a[i][k] /= s[k];\n          }\n          a[k][k] += 1;\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a[i][k] * a[i][j];\n          }\n          t = -t / a[k][k];\n          for (let i = k; i < m; i++) {\n            a[i][j] += t * a[i][k];\n          }\n        }\n        e[j] = a[k][j];\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U[i][k] = a[i][k];\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a[i][j];\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a[i][j] += t * work[i];\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V[i][k] = e[i];\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a[nct][nct];\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a[nrt][p - 1];\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U[i][j] = 0;\n        }\n        U[j][j] = 1;\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U[i][k] * U[i][j];\n            }\n            t = -t / U[k][k];\n            for (let i = k; i < m; i++) {\n              U[i][j] += t * U[i][k];\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U[i][k] = -U[i][k];\n          }\n          U[k][k] = 1 + U[k][k];\n          for (let i = 0; i < k - 1; i++) {\n            U[i][k] = 0;\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U[i][k] = 0;\n          }\n          U[k][k] = 1;\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V[i][k] * V[i][j];\n            }\n            t = -t / V[k + 1][k];\n            for (let i = k + 1; i < n; i++) {\n              V[i][j] += t * V[i][k];\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V[i][k] = 0;\n        }\n        V[k][k] = 1;\n      }\n    }\n\n    var pp = p - 1;\n    var iter = 0;\n    var eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V[i][j] + sn * V[i][p - 1];\n                V[i][p - 1] = -sn * V[i][j] + cs * V[i][p - 1];\n                V[i][j] = t;\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U[i][j] + sn * U[i][k - 1];\n                U[i][k - 1] = -sn * U[i][j] + cs * U[i][k - 1];\n                U[i][j] = t;\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k])\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V[i][j] + sn * V[i][j + 1];\n                V[i][j + 1] = -sn * V[i][j] + cs * V[i][j + 1];\n                V[i][j] = t;\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U[i][j] + sn * U[i][j + 1];\n                U[i][j + 1] = -sn * U[i][j] + cs * U[i][j + 1];\n                U[i][j] = t;\n              }\n            }\n          }\n          e[p - 2] = f;\n          iter = iter + 1;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V[i][k] = -V[i][k];\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V[i][k + 1];\n                V[i][k + 1] = V[i][k];\n                V[i][k] = t;\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U[i][k + 1];\n                U[i][k + 1] = U[i][k];\n                U[i][k] = t;\n              }\n            }\n            k++;\n          }\n          iter = 0;\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      var tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  /**\n   * Solve a problem of least square (Ax=b) by using the SVD. Useful when A is singular. When A is not singular, it would be better to use qr.solve(value).\n   * Example : We search to approximate x, with A matrix shape m*n, x vector size n, b vector size m (m > n). We will use :\n   * var svd = SingularValueDecomposition(A);\n   * var x = svd.solve(b);\n   * @param {Matrix} value - Matrix 1D which is the vector b (in the equation Ax = b)\n   * @return {Matrix} - The vector x\n   */\n  solve(value) {\n    var Y = value;\n    var e = this.threshold;\n    var scols = this.s.length;\n    var Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls[i][i] = 0;\n      } else {\n        Ls[i][i] = 1 / this.s[i];\n      }\n    }\n\n    var U = this.U;\n    var V = this.rightSingularVectors;\n\n    var VL = V.mmul(Ls);\n    var vrows = V.rows;\n    var urows = U.length;\n    var VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL[i][k] * U[j][k];\n        }\n        VLU[i][j] = sum;\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  /**\n   *\n   * @param {Array<number>} value\n   * @return {Matrix}\n   */\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  /**\n   * Get the inverse of the matrix. We compute the inverse of a matrix using SVD when this matrix is singular or ill-conditioned. Example :\n   * var svd = SingularValueDecomposition(A);\n   * var inverseA = svd.inverse();\n   * @return {Matrix} - The approximation of the inverse of the matrix\n   */\n  inverse() {\n    var V = this.V;\n    var e = this.threshold;\n    var vrows = V.length;\n    var vcols = V[0].length;\n    var X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X[i][j] = V[i][j] / this.s[j];\n        } else {\n          X[i][j] = 0;\n        }\n      }\n    }\n\n    var U = this.U;\n\n    var urows = U.length;\n    var ucols = U[0].length;\n    var Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X[i][k] * U[j][k];\n        }\n        Y[i][j] = sum;\n      }\n    }\n\n    return Y;\n  }\n\n  /**\n   *\n   * @return {number}\n   */\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  /**\n   *\n   * @return {number}\n   */\n  get norm2() {\n    return this.s[0];\n  }\n\n  /**\n   *\n   * @return {number}\n   */\n  get rank() {\n    var tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    var r = 0;\n    var s = this.s;\n    for (var i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  /**\n   *\n   * @return {Array<number>}\n   */\n  get diagonal() {\n    return this.s;\n  }\n\n  /**\n   *\n   * @return {number}\n   */\n  get threshold() {\n    return Number.EPSILON / 2 * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get leftSingularVectors() {\n    if (!Matrix.isMatrix(this.U)) {\n      this.U = new Matrix(this.U);\n    }\n    return this.U;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get rightSingularVectors() {\n    if (!Matrix.isMatrix(this.V)) {\n      this.V = new Matrix(this.V);\n    }\n    return this.V;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/svd.js","'use strict';\n\nvar arrayStat = require('./array');\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\nexports.max = function max(matrix) {\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return max;\n};\n\nexports.min = function min(matrix) {\n    var min = Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n        }\n    }\n    return min;\n};\n\nexports.minMax = function minMax(matrix) {\n    var min = Infinity;\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return {\n        min:min,\n        max:max\n    };\n};\n\nexports.entropy = function entropy(matrix, eps) {\n    if (typeof (eps) === 'undefined') {\n        eps = 0;\n    }\n    var sum = 0,\n        l1 = matrix.length,\n        l2 = matrix[0].length;\n    for (var i = 0; i < l1; i++) {\n        for (var j = 0; j < l2; j++) {\n            sum += matrix[i][j] * Math.log(matrix[i][j] + eps);\n        }\n    }\n    return -sum;\n};\n\nexports.mean = function mean(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theMean, N, i, j;\n\n    if (dimension === -1) {\n        theMean = [0];\n        N = rows * cols;\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theMean[0] += matrix[i][j];\n            }\n        }\n        theMean[0] /= N;\n    } else if (dimension === 0) {\n        theMean = new Array(cols);\n        N = rows;\n        for (j = 0; j < cols; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theMean[j] += matrix[i][j];\n            }\n            theMean[j] /= N;\n        }\n    } else if (dimension === 1) {\n        theMean = new Array(rows);\n        N = cols;\n        for (j = 0; j < rows; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theMean[j] += matrix[j][i];\n            }\n            theMean[j] /= N;\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theMean;\n};\n\nexports.sum = function sum(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theSum, i, j;\n\n    if (dimension === -1) {\n        theSum = [0];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theSum[0] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theSum = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theSum[j] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theSum = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theSum[j] += matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theSum;\n};\n\nexports.product = function product(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theProduct, i, j;\n\n    if (dimension === -1) {\n        theProduct = [1];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theProduct[0] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theProduct = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < rows; i++) {\n                theProduct[j] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theProduct = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < cols; i++) {\n                theProduct[j] *= matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theProduct;\n};\n\nexports.standardDeviation = function standardDeviation(matrix, means, unbiased) {\n    var vari = exports.variance(matrix, means, unbiased), l = vari.length;\n    for (var i = 0; i < l; i++) {\n        vari[i] = Math.sqrt(vari[i]);\n    }\n    return vari;\n};\n\nexports.variance = function variance(matrix, means, unbiased) {\n    if (typeof (unbiased) === 'undefined') {\n        unbiased = true;\n    }\n    means = means || exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum1 = 0, sum2 = 0, x = 0;\n        for (var i = 0; i < rows; i++) {\n            x = matrix[i][j] - means[j];\n            sum1 += x;\n            sum2 += x * x;\n        }\n        if (unbiased) {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / (rows - 1);\n        } else {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / rows;\n        }\n    }\n    return vari;\n};\n\nexports.median = function median(matrix) {\n    var rows = matrix.length, cols = matrix[0].length;\n    var medians = new Array(cols);\n\n    for (var i = 0; i < cols; i++) {\n        var data = new Array(rows);\n        for (var j = 0; j < rows; j++) {\n            data[j] = matrix[j][i];\n        }\n        data.sort(compareNumbers);\n        var N = data.length;\n        if (N % 2 === 0) {\n            medians[i] = (data[N / 2] + data[(N / 2) - 1]) * 0.5;\n        } else {\n            medians[i] = data[Math.floor(N / 2)];\n        }\n    }\n    return medians;\n};\n\nexports.mode = function mode(matrix) {\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        modes = new Array(cols),\n        i, j;\n    for (i = 0; i < cols; i++) {\n        var itemCount = new Array(rows);\n        for (var k = 0; k < rows; k++) {\n            itemCount[k] = 0;\n        }\n        var itemArray = new Array(rows);\n        var count = 0;\n\n        for (j = 0; j < rows; j++) {\n            var index = itemArray.indexOf(matrix[j][i]);\n            if (index >= 0) {\n                itemCount[index]++;\n            } else {\n                itemArray[count] = matrix[j][i];\n                itemCount[count] = 1;\n                count++;\n            }\n        }\n\n        var maxValue = 0, maxIndex = 0;\n        for (j = 0; j < count; j++) {\n            if (itemCount[j] > maxValue) {\n                maxValue = itemCount[j];\n                maxIndex = j;\n            }\n        }\n\n        modes[i] = itemArray[maxIndex];\n    }\n    return modes;\n};\n\nexports.skewness = function skewness(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, l = means.length;\n    var skew = new Array(l);\n\n    for (var j = 0; j < l; j++) {\n        var s2 = 0, s3 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s3 += dev * dev * dev;\n        }\n\n        var m2 = s2 / n;\n        var m3 = s3 / n;\n        var g = m3 / Math.pow(m2, 3 / 2);\n\n        if (unbiased) {\n            var a = Math.sqrt(n * (n - 1));\n            var b = n - 2;\n            skew[j] = (a / b) * g;\n        } else {\n            skew[j] = g;\n        }\n    }\n    return skew;\n};\n\nexports.kurtosis = function kurtosis(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, m = matrix[0].length;\n    var kurt = new Array(m);\n\n    for (var j = 0; j < m; j++) {\n        var s2 = 0, s4 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s4 += dev * dev * dev * dev;\n        }\n        var m2 = s2 / n;\n        var m4 = s4 / n;\n\n        if (unbiased) {\n            var v = s2 / (n - 1);\n            var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n            var b = s4 / (v * v);\n            var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n            kurt[j] = a * b - 3 * c;\n        } else {\n            kurt[j] = m4 / (m2 * m2) - 3;\n        }\n    }\n    return kurt;\n};\n\nexports.standardError = function standardError(matrix) {\n    var samples = matrix.length;\n    var standardDeviations = exports.standardDeviation(matrix);\n    var l = standardDeviations.length;\n    var standardErrors = new Array(l);\n    var sqrtN = Math.sqrt(samples);\n\n    for (var i = 0; i < l; i++) {\n        standardErrors[i] = standardDeviations[i] / sqrtN;\n    }\n    return standardErrors;\n};\n\nexports.covariance = function covariance(matrix, dimension) {\n    return exports.scatter(matrix, undefined, dimension);\n};\n\nexports.scatter = function scatter(matrix, divisor, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    if (typeof (divisor) === 'undefined') {\n        if (dimension === 0) {\n            divisor = matrix.length - 1;\n        } else if (dimension === 1) {\n            divisor = matrix[0].length - 1;\n        }\n    }\n    var means = exports.mean(matrix, dimension);\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, s, k;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n\nexports.correlation = function correlation(matrix) {\n    var means = exports.mean(matrix),\n        standardDeviations = exports.standardDeviation(matrix, true, means),\n        scores = exports.zScores(matrix, means, standardDeviations),\n        rows = matrix.length,\n        cols = matrix[0].length,\n        i, j;\n\n    var cor = new Array(cols);\n    for (i = 0; i < cols; i++) {\n        cor[i] = new Array(cols);\n    }\n    for (i = 0; i < cols; i++) {\n        for (j = i; j < cols; j++) {\n            var c = 0;\n            for (var k = 0, l = scores.length; k < l; k++) {\n                c += scores[k][j] * scores[k][i];\n            }\n            c /= rows - 1;\n            cor[i][j] = c;\n            cor[j][i] = c;\n        }\n    }\n    return cor;\n};\n\nexports.zScores = function zScores(matrix, means, standardDeviations) {\n    means = means || exports.mean(matrix);\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix, true, means);\n    return exports.standardize(exports.center(matrix, means, false), standardDeviations, true);\n};\n\nexports.center = function center(matrix, means, inPlace) {\n    means = means || exports.mean(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var row = result[i];\n        for (j = 0, jj = row.length; j < jj; j++) {\n            row[j] = matrix[i][j] - means[j];\n        }\n    }\n    return result;\n};\n\nexports.standardize = function standardize(matrix, standardDeviations, inPlace) {\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var resultRow = result[i];\n        var sourceRow = matrix[i];\n        for (j = 0, jj = resultRow.length; j < jj; j++) {\n            if (standardDeviations[j] !== 0 && !isNaN(standardDeviations[j])) {\n                resultRow[j] = sourceRow[j] / standardDeviations[j];\n            }\n        }\n    }\n    return result;\n};\n\nexports.weightedVariance = function weightedVariance(matrix, weights) {\n    var means = exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum = 0;\n        var a = 0, b = 0;\n\n        for (var i = 0; i < rows; i++) {\n            var z = matrix[i][j] - means[j];\n            var w = weights[i];\n\n            sum += w * (z * z);\n            b += w;\n            a += w * w;\n        }\n\n        vari[j] = sum * (b / (b * b - a));\n    }\n\n    return vari;\n};\n\nexports.weightedMean = function weightedMean(matrix, weights, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length,\n        means, i, ii, j, w, row;\n\n    if (dimension === 0) {\n        means = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            means[i] = 0;\n        }\n        for (i = 0; i < rows; i++) {\n            row = matrix[i];\n            w = weights[i];\n            for (j = 0; j < cols; j++) {\n                means[j] += row[j] * w;\n            }\n        }\n    } else if (dimension === 1) {\n        means = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            means[i] = 0;\n        }\n        for (j = 0; j < rows; j++) {\n            row = matrix[j];\n            w = weights[j];\n            for (i = 0; i < cols; i++) {\n                means[j] += row[i] * w;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    var weightSum = arrayStat.sum(weights);\n    if (weightSum !== 0) {\n        for (i = 0, ii = means.length; i < ii; i++) {\n            means[i] /= weightSum;\n        }\n    }\n    return means;\n};\n\nexports.weightedCovariance = function weightedCovariance(matrix, weights, means, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    var s1 = 0, s2 = 0;\n    for (var i = 0, ii = weights.length; i < ii; i++) {\n        s1 += weights[i];\n        s2 += weights[i] * weights[i];\n    }\n    var factor = s1 / (s1 * s1 - s2);\n    return exports.weightedScatter(matrix, weights, means, factor, dimension);\n};\n\nexports.weightedScatter = function weightedScatter(matrix, weights, means, factor, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    if (typeof (factor) === 'undefined') {\n        factor = 1;\n    }\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, k, s;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += weights[k] * (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += weights[k] * (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/matrix.js","/**\n * Computes the maximum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function max(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var max = input[0];\n    for (var i = 1; i < input.length; i++) {\n        if (input[i] > max) max = input[i];\n    }\n    return max;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-max/src/index.js","import { Matrix, WrapperMatrix2D } from '../index';\n\n/**\n * @class LuDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/LuDecomposition.cs\n * @param {Matrix} matrix\n */\nexport default class LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    var lu = matrix.clone();\n    var rows = lu.rows;\n    var columns = lu.columns;\n    var pivotVector = new Array(rows);\n    var pivotSign = 1;\n    var i, j, k, p, s, t, v;\n    var LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  /**\n   *\n   * @return {boolean}\n   */\n  isSingular() {\n    var data = this.LU;\n    var col = data.columns;\n    for (var j = 0; j < col; j++) {\n      if (data[j][j] === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @param {Matrix} value\n   * @return {Matrix}\n   */\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    var lu = this.LU;\n    var rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    var count = value.columns;\n    var X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    var columns = lu.columns;\n    var i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X[i][j] -= X[k][j] * lu[i][k];\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X[k][j] /= lu[k][k];\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X[i][j] -= X[k][j] * lu[i][k];\n        }\n      }\n    }\n    return X;\n  }\n\n  /**\n   *\n   * @return {number}\n   */\n  get determinant() {\n    var data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    var determinant = this.pivotSign;\n    var col = data.columns;\n    for (var j = 0; j < col; j++) {\n      determinant *= data[j][j];\n    }\n    return determinant;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get lowerTriangularMatrix() {\n    var data = this.LU;\n    var rows = data.rows;\n    var columns = data.columns;\n    var X = new Matrix(rows, columns);\n    for (var i = 0; i < rows; i++) {\n      for (var j = 0; j < columns; j++) {\n        if (i > j) {\n          X[i][j] = data[i][j];\n        } else if (i === j) {\n          X[i][j] = 1;\n        } else {\n          X[i][j] = 0;\n        }\n      }\n    }\n    return X;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get upperTriangularMatrix() {\n    var data = this.LU;\n    var rows = data.rows;\n    var columns = data.columns;\n    var X = new Matrix(rows, columns);\n    for (var i = 0; i < rows; i++) {\n      for (var j = 0; j < columns; j++) {\n        if (i <= j) {\n          X[i][j] = data[i][j];\n        } else {\n          X[i][j] = 0;\n        }\n      }\n    }\n    return X;\n  }\n\n  /**\n   *\n   * @return {Array<number>}\n   */\n  get pivotPermutationVector() {\n    return this.pivotVector.slice();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/lu.js","export function hypotenuse(a, b) {\n  var r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n\nexport function getFilled2DArray(rows, columns, value) {\n  var array = new Array(rows);\n  for (var i = 0; i < rows; i++) {\n    array[i] = new Array(columns);\n    for (var j = 0; j < columns; j++) {\n      array[i][j] = value;\n    }\n  }\n  return array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/util.js","'use strict';\n\nconst Heap = require('heap');\n\nfunction Cluster() {\n    this.children = [];\n    this.distance = -1;\n    this.index = [];\n}\n\n/**\n * Creates an array of values where maximum distance smaller than the threshold\n * @param {number} threshold\n * @return {Array <Cluster>}\n */\nCluster.prototype.cut = function (threshold) {\n    if (threshold < 0) throw new RangeError('Threshold too small');\n    var root = new Cluster();\n    root.children = this.children;\n    root.distance = this.distance;\n    root.index = this.index;\n    var list = [root];\n    var ans = [];\n    while (list.length > 0) {\n        var aux = list.shift();\n        if (threshold >= aux.distance) {\n            ans.push(aux);\n        } else {\n            list = list.concat(aux.children);\n        }\n    }\n    return ans;\n};\n\n/**\n * Merge the leaves in the minimum way to have 'minGroups' number of clusters\n * @param {number} minGroups - Them minimum number of children the first level of the tree should have\n * @return {Cluster}\n */\nCluster.prototype.group = function (minGroups) {\n    if (!Number.isInteger(minGroups) || minGroups < 1) throw new RangeError('Number of groups must be a positive integer');\n\n    const heap = new Heap(function (a, b) {\n        return b.distance - a.distance;\n    });\n\n    heap.push(this);\n\n    while (heap.size() < minGroups) {\n        var first = heap.pop();\n        if (first.children.length === 0) {\n            break;\n        }\n        first.children.forEach(child => heap.push(child));\n    }\n\n    var root = new Cluster();\n    root.children = heap.toArray();\n    root.distance = this.distance;\n\n    return root;\n};\n\n/**\n * Traverses the tree depth-first and provide callback to be called on each individual node\n * @param {function} cb - The callback to be called on each node encounter\n * @type {Cluster}\n */\nCluster.prototype.traverse = function (cb) {\n    function visit(root, callback) {\n        callback(root);\n        if (root.children) {\n            for (var i = root.children.length - 1; i >= 0; i--) {\n                visit(root.children[i], callback);\n            }\n        }\n    }\n    visit(this, cb);\n};\n\nmodule.exports = Cluster;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/Cluster.js","'use strict';\n\nconst Matrix = require('ml-matrix').Matrix;\n\nconst GaussianKernel = require('ml-kernel-gaussian');\nconst PolynomialKernel = require('ml-kernel-polynomial');\nconst ANOVAKernel = require('./kernels/anova-kernel');\nconst CauchyKernel = require('./kernels/cauchy-kernel');\nconst ExponentialKernel = require('./kernels/exponential-kernel');\nconst HistogramKernel = require('./kernels/histogram-intersection-kernel');\nconst LaplacianKernel = require('./kernels/laplacian-kernel');\nconst MultiquadraticKernel = require('./kernels/multiquadratic-kernel');\nconst RationalKernel = require('./kernels/rational-quadratic-kernel');\nconst SigmoidKernel = require('ml-kernel-sigmoid');\n\nconst kernelType = {\n    gaussian: GaussianKernel,\n    rbf: GaussianKernel,\n    polynomial: PolynomialKernel,\n    poly: PolynomialKernel,\n    anova: ANOVAKernel,\n    cauchy: CauchyKernel,\n    exponential: ExponentialKernel,\n    histogram: HistogramKernel,\n    min: HistogramKernel,\n    laplacian: LaplacianKernel,\n    multiquadratic: MultiquadraticKernel,\n    rational: RationalKernel,\n    sigmoid: SigmoidKernel,\n    mlp: SigmoidKernel\n};\n\nclass Kernel {\n    constructor(type, options) {\n        this.kernelType = type;\n        if (type === 'linear') return;\n\n        if (typeof type === 'string') {\n            type = type.toLowerCase();\n\n            var KernelConstructor = kernelType[type];\n            if (KernelConstructor) {\n                this.kernelFunction = new KernelConstructor(options);\n            } else {\n                throw new Error('unsupported kernel type: ' + type);\n            }\n        } else if (typeof type === 'object' && typeof type.compute === 'function') {\n            this.kernelFunction = type;\n        } else {\n            throw new TypeError('first argument must be a valid kernel type or instance');\n        }\n    }\n\n    compute(inputs, landmarks) {\n        if (landmarks === undefined) {\n            landmarks = inputs;\n        }\n\n        if (this.kernelType === 'linear') {\n            var matrix = new Matrix(inputs);\n            return matrix.mmul(new Matrix(landmarks).transposeView());\n        }\n\n        const kernelMatrix = new Matrix(inputs.length, landmarks.length);\n        var i, j;\n        if (inputs === landmarks) { // fast path, matrix is symmetric\n            for (i = 0; i < inputs.length; i++) {\n                for (j = i; j < inputs.length; j++) {\n                    kernelMatrix[i][j] = kernelMatrix[j][i] = this.kernelFunction.compute(inputs[i], inputs[j]);\n                }\n            }\n        } else {\n            for (i = 0; i < inputs.length; i++) {\n                for (j = 0; j < landmarks.length; j++) {\n                    kernelMatrix[i][j] = this.kernelFunction.compute(inputs[i], landmarks[j]);\n                }\n            }\n        }\n        return kernelMatrix;\n    }\n}\n\nmodule.exports = Kernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernel.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\n\nexport default class SimpleLinearRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            this.slope = y.slope;\n            this.intercept = y.intercept;\n            this.coefficients = [y.intercept, y.slope];\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    toJSON() {\n        return {\n            name: 'simpleLinearRegression',\n            slope: this.slope,\n            intercept: this.intercept\n        };\n    }\n\n    _predict(x) {\n        return this.slope * x + this.intercept;\n    }\n\n    computeX(y) {\n        return (y - this.intercept) / this.slope;\n    }\n\n    toString(precision) {\n        let result = 'f(x) = ';\n        if (this.slope !== 0) {\n            const xFactor = maybeToPrecision(this.slope, precision);\n            result += (xFactor === '1' ? '' : xFactor + ' * ') + 'x';\n            if (this.intercept) {\n                const absIntercept = Math.abs(this.intercept);\n                const operator = absIntercept === this.intercept ? '+' : '-';\n                result += ` ${operator} ${maybeToPrecision(absIntercept, precision)}`;\n            }\n        } else {\n            result += maybeToPrecision(this.intercept, precision);\n        }\n        return result;\n    }\n\n    toLaTeX(precision) {\n        return this.toString(precision);\n    }\n\n    static load(json) {\n        if (json.name !== 'simpleLinearRegression') {\n            throw new TypeError('not a SLR model');\n        }\n        return new SimpleLinearRegression(true, json);\n    }\n}\n\nfunction regress(slr, x, y) {\n    const n = x.length;\n    let xSum = 0;\n    let ySum = 0;\n\n    let xSquared = 0;\n    let xY = 0;\n\n    for (let i = 0; i < n; i++) {\n        xSum += x[i];\n        ySum += y[i];\n        xSquared += x[i] * x[i];\n        xY += x[i] * y[i];\n    }\n\n    const numerator = (n * xY - xSum * ySum);\n    slr.slope = numerator / (n * xSquared - xSum * xSum);\n    slr.intercept = (1 / n) * ySum - slr.slope * (1 / n) * xSum;\n    slr.coefficients = [slr.intercept, slr.slope];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-simple-linear/src/index.js","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/extend/index.js","export {DecisionTreeClassifier} from './DecisionTreeClassifier';\nexport {DecisionTreeRegression} from './DecisionTreeRegression';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/index.js","import max from 'ml-array-max';\nimport min from 'ml-array-min';\n\nexport default function rescale(input, options = {}) {\n    if (!Array.isArray(input)) {\n        throw new TypeError('input must be an array');\n    } else if (input.length === 0) {\n        throw new TypeError('input must not be empty');\n    }\n\n    let output;\n    if (options.output !== undefined) {\n        if (!Array.isArray(options.output)) {\n            throw new TypeError('output option must be an array if specified');\n        }\n        output = options.output;\n    } else {\n        output = new Array(input.length);\n    }\n\n    const currentMin = min(input);\n    const currentMax = max(input);\n\n    if (currentMin === currentMax) {\n        throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n    }\n\n    const {\n        min: minValue = options.autoMinMax ? currentMin : 0,\n        max: maxValue = options.autoMinMax ? currentMax : 1\n    } = options;\n\n    if (minValue >= maxValue) {\n        throw new RangeError('min option must be smaller than max option');\n    }\n\n    const factor = (maxValue - minValue) / (currentMax - currentMin);\n    for (var i = 0; i < input.length; i++) {\n        output[i] = (input[i] - currentMin) * factor + minValue;\n    }\n\n    return output;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-rescale/src/index.js","/**\n * Computes the minimum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function min(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var min = input[0];\n    for (var i = 1; i < input.length; i++) {\n        if (input[i] < min) min = input[i];\n    }\n    return min;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-min/src/index.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class WrapperMatrix1D extends AbstractMatrix() {\n  /**\n   * @class WrapperMatrix1D\n   * @param {Array<number>} data\n   * @param {object} [options]\n   * @param {object} [options.rows = 1]\n   */\n  constructor(data, options = {}) {\n    const { rows = 1 } = options;\n\n    if (data.length % rows !== 0) {\n      throw new Error('the data length is not divisible by the number of rows');\n    }\n    super();\n    this.rows = rows;\n    this.columns = data.length / rows;\n    this.data = data;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    var index = this._calculateIndex(rowIndex, columnIndex);\n    this.data[index] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    var index = this._calculateIndex(rowIndex, columnIndex);\n    return this.data[index];\n  }\n\n  _calculateIndex(row, column) {\n    return row * this.columns + column;\n  }\n\n  static get [Symbol.species]() {\n    return Matrix;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/WrapperMatrix1D.js","import AbstractMatrix from '../abstractMatrix';\nimport Matrix from '../matrix';\n\nexport default class WrapperMatrix2D extends AbstractMatrix() {\n  /**\n   * @class WrapperMatrix2D\n   * @param {Array<Array<number>>} data\n   */\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  static get [Symbol.species]() {\n    return Matrix;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","import { Matrix, WrapperMatrix2D } from '../index';\n\nimport { hypotenuse } from './util';\n\n/**\n * @class QrDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/QrDecomposition.cs\n * @param {Matrix} value\n */\nexport default class QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    var qr = value.clone();\n    var m = value.rows;\n    var n = value.columns;\n    var rdiag = new Array(n);\n    var i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      var nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  /**\n   * Solve a problem of least square (Ax=b) by using the QR decomposition. Useful when A is rectangular, but not working when A is singular.\n   * Example : We search to approximate x, with A matrix shape m*n, x vector size n, b vector size m (m > n). We will use :\n   * var qr = QrDecomposition(A);\n   * var x = qr.solve(b);\n   * @param {Matrix} value - Matrix 1D which is the vector b (in the equation Ax = b)\n   * @return {Matrix} - The vector x\n   */\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    var qr = this.QR;\n    var m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    var count = value.columns;\n    var X = value.clone();\n    var n = qr.columns;\n    var i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr[i][k] * X[i][j];\n        }\n        s = -s / qr[k][k];\n        for (i = k; i < m; i++) {\n          X[i][j] += s * qr[i][k];\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X[k][j] /= this.Rdiag[k];\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X[i][j] -= X[k][j] * qr[i][k];\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  /**\n   *\n   * @return {boolean}\n   */\n  isFullRank() {\n    var columns = this.QR.columns;\n    for (var i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get upperTriangularMatrix() {\n    var qr = this.QR;\n    var n = qr.columns;\n    var X = new Matrix(n, n);\n    var i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X[i][j] = qr[i][j];\n        } else if (i === j) {\n          X[i][j] = this.Rdiag[i];\n        } else {\n          X[i][j] = 0;\n        }\n      }\n    }\n    return X;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get orthogonalMatrix() {\n    var qr = this.QR;\n    var rows = qr.rows;\n    var columns = qr.columns;\n    var X = new Matrix(rows, columns);\n    var i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X[i][k] = 0;\n      }\n      X[k][k] = 1;\n      for (j = k; j < columns; j++) {\n        if (qr[k][k] !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr[i][k] * X[i][j];\n          }\n\n          s = -s / qr[k][k];\n\n          for (i = k; i < rows; i++) {\n            X[i][j] += s * qr[i][k];\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/qr.js","import Matrix from 'ml-matrix';\nimport * as Utils from './utils';\nimport mean from 'ml-array-mean';\n\nconst gainFunctions = {\n    gini: Utils.giniGain,\n    regression: Utils.regressionError\n};\n\nconst splitFunctions = {\n    mean: Utils.mean\n};\n\nexport default class TreeNode {\n\n    /**\n     * @private\n     * Constructor for a tree node given the options received on the main classes (DecisionTreeClassifier, DecisionTreeRegression)\n     * @param {object|TreeNode} options for loading\n     * @constructor\n     */\n    constructor(options) {\n        // options parameters\n        this.kind = options.kind;\n        this.gainFunction = options.gainFunction;\n        this.splitFunction = options.splitFunction;\n        this.minNumSamples = options.minNumSamples;\n        this.maxDepth = options.maxDepth;\n    }\n\n    /**\n     * @private\n     * Function that retrieve the best feature to make the split.\n     * @param {Matrix} XTranspose - Training set transposed\n     * @param {Array} y - labels or values (depending of the decision tree)\n     * @return {object} - return tree values, the best gain, column and the split value.\n     */\n    bestSplit(XTranspose, y) {\n\n        // Depending in the node tree class, we set the variables to check information gain (to classify)\n        // or error (for regression)\n\n        var bestGain = this.kind === 'classifier' ? -Infinity : Infinity;\n        var check = this.kind === 'classifier' ? (a, b) => a > b : (a, b) => a < b;\n\n\n        var maxColumn;\n        var maxValue;\n\n        for (var i = 0; i < XTranspose.rows; ++i) {\n            var currentFeature = XTranspose[i];\n            var splitValues = this.featureSplit(currentFeature, y);\n            for (var j = 0; j < splitValues.length; ++j) {\n                var currentSplitVal = splitValues[j];\n                var splitted = this.split(currentFeature, y, currentSplitVal);\n\n                var gain = gainFunctions[this.gainFunction](y, splitted);\n                if (check(gain, bestGain)) {\n                    maxColumn = i;\n                    maxValue = currentSplitVal;\n                    bestGain = gain;\n                }\n            }\n        }\n\n        return {\n            maxGain: bestGain,\n            maxColumn: maxColumn,\n            maxValue: maxValue\n        };\n    }\n\n    /**\n     * @private\n     * Makes the split of the training labels or values from the training set feature given a split value.\n     * @param {Array} x - Training set feature\n     * @param {Array} y - Training set value or label\n     * @param {number} splitValue\n     * @return {object}\n     */\n\n    split(x, y, splitValue) {\n        var lesser = [];\n        var greater = [];\n\n        for (var i = 0; i < x.length; ++i) {\n            if (x[i] < splitValue) {\n                lesser.push(y[i]);\n            } else {\n                greater.push(y[i]);\n            }\n        }\n\n        return {\n            greater: greater,\n            lesser: lesser\n        };\n    }\n\n    /**\n     * @private\n     * Calculates the possible points to split over the tree given a training set feature and corresponding labels or values.\n     * @param {Array} x - Training set feature\n     * @param {Array} y - Training set value or label\n     * @return {Array} possible split values.\n     */\n    featureSplit(x, y) {\n        var splitValues = [];\n        var arr = Utils.zip(x, y);\n        arr.sort(function (a, b) {\n            return a[0] - b[0];\n        });\n\n        for (var i = 1; i < arr.length; ++i) {\n            if (arr[i - 1][1] !== arr[i][1]) {\n                splitValues.push(splitFunctions[this.splitFunction](arr[i - 1][0], arr[i][0]));\n            }\n        }\n\n        return splitValues;\n    }\n\n    /**\n     * @private\n     * Calculate the predictions of a leaf tree node given the training labels or values\n     * @param {Array} y\n     */\n    calculatePrediction(y) {\n        if (this.kind === 'classifier') {\n            this.distribution = Utils.toDiscreteDistribution(y, Utils.getNumberOfClasses(y));\n            if (this.distribution.columns === 0) {\n                throw new TypeError('Error on calculate the prediction');\n            }\n        } else {\n            this.distribution = mean(y);\n        }\n    }\n\n    /**\n     * @private\n     * Train a node given the training set and labels, because it trains recursively, it also receive\n     * the current depth of the node, parent gain to avoid infinite recursion and boolean value to check if\n     * the training set is transposed.\n     * @param {Matrix} X - Training set (could be transposed or not given transposed).\n     * @param {Array} y - Training labels or values.\n     * @param {number} currentDepth - Current depth of the node.\n     * @param {number} parentGain - parent node gain or error.\n     */\n    train(X, y, currentDepth, parentGain) {\n        if (X.rows <= this.minNumSamples) {\n            this.calculatePrediction(y);\n            return;\n        }\n        if (parentGain === undefined) parentGain = 0.0;\n\n        var XTranspose = X.transpose();\n        var split = this.bestSplit(XTranspose, y);\n\n        this.splitValue = split.maxValue;\n        this.splitColumn = split.maxColumn;\n        this.gain = split.maxGain;\n\n        var splittedMatrix = Utils.matrixSplitter(X, y, this.splitColumn, this.splitValue);\n\n        if (currentDepth < this.maxDepth &&\n            (this.gain > 0.01 && this.gain !== parentGain) &&\n            (splittedMatrix.lesserX.length > 0 && splittedMatrix.greaterX.length > 0)) {\n            this.left = new TreeNode(this);\n            this.right = new TreeNode(this);\n\n            var lesserX = new Matrix(splittedMatrix.lesserX);\n            var greaterX = new Matrix(splittedMatrix.greaterX);\n\n            this.left.train(lesserX, splittedMatrix.lesserY, currentDepth + 1, this.gain);\n            this.right.train(greaterX, splittedMatrix.greaterY, currentDepth + 1, this.gain);\n        } else {\n            this.calculatePrediction(y);\n        }\n    }\n\n    /**\n     * @private\n     * Calculates the prediction of a given element.\n     * @param {Array} row\n     * @return {number|Array} prediction\n     *          * if a node is a classifier returns an array of probabilities of each class.\n     *          * if a node is for regression returns a number with the prediction.\n     */\n    classify(row) {\n        if (this.right && this.left) {\n            if (row[this.splitColumn] < this.splitValue) {\n                return this.left.classify(row);\n            } else {\n                return this.right.classify(row);\n            }\n        }\n\n        return this.distribution;\n    }\n\n    /**\n     * @private\n     * Set the parameter of the current node and their children.\n     * @param {object} node - parameters of the current node and the children.\n     */\n    setNodeParameters(node) {\n        if (node.distribution !== undefined) {\n            this.distribution = node.distribution.constructor === Array ? new Matrix(node.distribution) :\n                                                                          node.distribution;\n        } else {\n            this.distribution = undefined;\n            this.splitValue = node.splitValue;\n            this.splitColumn = node.splitColumn;\n            this.gain = node.gain;\n\n            this.left = new TreeNode(this);\n            this.right = new TreeNode(this);\n\n            if (node.left !== {}) {\n                this.left.setNodeParameters(node.left);\n            }\n            if (node.right !== {}) {\n                this.right.setNodeParameters(node.right);\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/TreeNode.js","import {\n  DecisionTreeClassifier as DTClassifier,\n  DecisionTreeRegression as DTRegression\n} from 'ml-cart';\nimport { Matrix, WrapperMatrix2D } from 'ml-matrix';\n\nimport * as Utils from './utils';\n\n/**\n * @class RandomForestBase\n */\nexport class RandomForestBase {\n  /**\n   * Create a new base random forest for a classifier or regression model.\n   * @constructor\n   * @param {object} options\n   * @param {number|String} [options.maxFeatures] - the number of features used on each estimator.\n   *        * if is an integer it selects maxFeatures elements over the sample features.\n   *        * if is a float between (0, 1), it takes the percentage of features.\n   * @param {boolean} [options.replacement] - use replacement over the sample features.\n   * @param {number} [options.seed] - seed for feature and samples selection, must be a 32-bit integer.\n   * @param {number} [options.nEstimators] - number of estimator to use.\n   * @param {object} [options.treeOptions] - options for the tree classifier, see [ml-cart]{@link https://mljs.github.io/decision-tree-cart/}\n   * @param {boolean} [options.isClassifier] - boolean to check if is a classifier or regression model (used by subclasses).\n   * @param {boolean} [options.useSampleBagging] - use bagging over training samples.\n   * @param {object} model - for load purposes.\n   */\n  constructor(options, model) {\n    if (options === true) {\n      this.replacement = model.replacement;\n      this.maxFeatures = model.maxFeatures;\n      this.nEstimators = model.nEstimators;\n      this.treeOptions = model.treeOptions;\n      this.isClassifier = model.isClassifier;\n      this.seed = model.seed;\n      this.n = model.n;\n      this.indexes = model.indexes;\n      this.useSampleBagging = model.useSampleBagging;\n\n      var Estimator = this.isClassifier ? DTClassifier : DTRegression;\n      this.estimators = model.estimators.map((est) => Estimator.load(est));\n    } else {\n      this.replacement = options.replacement;\n      this.maxFeatures = options.maxFeatures;\n      this.nEstimators = options.nEstimators;\n      this.treeOptions = options.treeOptions;\n      this.isClassifier = options.isClassifier;\n      this.seed = options.seed;\n      this.useSampleBagging = options.useSampleBagging;\n    }\n  }\n\n  /**\n   * Train the decision tree with the given training set and labels.\n   * @param {Matrix|Array} trainingSet\n   * @param {Array} trainingValues\n   */\n  train(trainingSet, trainingValues) {\n    trainingSet = Matrix.checkMatrix(trainingSet);\n\n    this.maxFeatures = this.maxFeatures || trainingSet.columns;\n\n    if (Utils.checkFloat(this.maxFeatures)) {\n      this.n = Math.floor(trainingSet.columns * this.maxFeatures);\n    } else if (Number.isInteger(this.maxFeatures)) {\n      if (this.maxFeatures > trainingSet.columns) {\n        throw new RangeError(`The maxFeatures parameter should be less than ${trainingSet.columns}`);\n      } else {\n        this.n = this.maxFeatures;\n      }\n    } else {\n      throw new RangeError(`Cannot process the maxFeatures parameter ${this.maxFeatures}`);\n    }\n\n\n    if (this.isClassifier) {\n      var Estimator = DTClassifier;\n    } else {\n      Estimator = DTRegression;\n    }\n\n    this.estimators = new Array(this.nEstimators);\n    this.indexes = new Array(this.nEstimators);\n\n    for (var i = 0; i < this.nEstimators; ++i) {\n      var res = this.useSampleBagging ? Utils.examplesBaggingWithReplacement(trainingSet, trainingValues, this.seed) : { X: trainingSet, y: trainingValues };\n      var X = res.X;\n      var y = res.y;\n\n      res = Utils.featureBagging(X, this.n, this.replacement, this.seed);\n      X = res.X;\n\n      this.indexes[i] = res.usedIndex;\n      this.estimators[i] = new Estimator(this.treeOptions);\n      this.estimators[i].train(X, y);\n    }\n  }\n\n  /**\n   * Method that returns the way the algorithm generates the predictions, for example, in classification\n   * you can return the mode of all predictions retrieved by the trees, or in case of regression you can\n   * use the mean or the median.\n   * @abstract\n   * @param {Array} values - predictions of the estimators.\n   * @return {number} prediction.\n   */\n  // eslint-disable-next-line no-unused-vars\n  selection(values) {\n    throw new Error('Abstract method \\'selection\\' not implemented!');\n  }\n\n  /**\n   * Predicts the output given the matrix to predict.\n   * @param {Matrix|Array} toPredict\n   * @return {Array} predictions\n   */\n  predict(toPredict) {\n    var predictionValues = new Array(this.nEstimators);\n    toPredict = Matrix.checkMatrix(toPredict);\n    for (var i = 0; i < this.nEstimators; ++i) {\n      var X = toPredict.columnSelectionView(this.indexes[i]); // get features for estimator\n      predictionValues[i] = this.estimators[i].predict(X);\n    }\n\n    predictionValues = new WrapperMatrix2D(predictionValues).transposeView();\n    var predictions = new Array(predictionValues.rows);\n    for (i = 0; i < predictionValues.rows; ++i) {\n      predictions[i] = this.selection(predictionValues.getRow(i));\n    }\n\n    return predictions;\n  }\n\n  /**\n   * Export the current model to JSON.\n   * @return {object} - Current model.\n   */\n  toJSON() {\n    return {\n      indexes: this.indexes,\n      n: this.n,\n      replacement: this.replacement,\n      maxFeatures: this.maxFeatures,\n      nEstimators: this.nEstimators,\n      treeOptions: this.treeOptions,\n      isClassifier: this.isClassifier,\n      seed: this.seed,\n      estimators: this.estimators.map((est) => est.toJSON()),\n      useSampleBagging: this.useSampleBagging\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random-forest/src/RandomForestBase.js","import quickSelectMedian from 'median-quickselect';\n\n/**\n * Computes the median of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function median(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    return quickSelectMedian(input.slice());\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-median/src/index.js","'use strict';\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\n/**\n * Computes the sum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.sum = function sum(values) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n        sum += values[i];\n    }\n    return sum;\n};\n\n/**\n * Computes the maximum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.max = function max(values) {\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] > max) max = values[i];\n    }\n    return max;\n};\n\n/**\n * Computes the minimum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.min = function min(values) {\n    var min = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n    }\n    return min;\n};\n\n/**\n * Computes the min and max of the given values\n * @param {Array} values\n * @returns {{min: number, max: number}}\n */\nexports.minMax = function minMax(values) {\n    var min = values[0];\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n        if (values[i] > max) max = values[i];\n    }\n    return {\n        min: min,\n        max: max\n    };\n};\n\n/**\n * Computes the arithmetic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.arithmeticMean = function arithmeticMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        sum += values[i];\n    }\n    return sum / l;\n};\n\n/**\n * {@link arithmeticMean}\n */\nexports.mean = exports.arithmeticMean;\n\n/**\n * Computes the geometric mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.geometricMean = function geometricMean(values) {\n    var mul = 1;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        mul *= values[i];\n    }\n    return Math.pow(mul, 1 / l);\n};\n\n/**\n * Computes the mean of the log of the given values\n * If the return value is exponentiated, it gives the same result as the\n * geometric mean.\n * @param {Array} values\n * @returns {number}\n */\nexports.logMean = function logMean(values) {\n    var lnsum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        lnsum += Math.log(values[i]);\n    }\n    return lnsum / l;\n};\n\n/**\n * Computes the weighted grand mean for a list of means and sample sizes\n * @param {Array} means - Mean values for each set of samples\n * @param {Array} samples - Number of original values for each set of samples\n * @returns {number}\n */\nexports.grandMean = function grandMean(means, samples) {\n    var sum = 0;\n    var n = 0;\n    var l = means.length;\n    for (var i = 0; i < l; i++) {\n        sum += samples[i] * means[i];\n        n += samples[i];\n    }\n    return sum / n;\n};\n\n/**\n * Computes the truncated mean of the given values using a given percentage\n * @param {Array} values\n * @param {number} percent - The percentage of values to keep (range: [0,1])\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.truncatedMean = function truncatedMean(values, percent, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var k = Math.floor(l * percent);\n    var sum = 0;\n    for (var i = k; i < (l - k); i++) {\n        sum += values[i];\n    }\n    return sum / (l - 2 * k);\n};\n\n/**\n * Computes the harmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.harmonicMean = function harmonicMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] === 0) {\n            throw new RangeError('value at index ' + i + 'is zero');\n        }\n        sum += 1 / values[i];\n    }\n    return l / sum;\n};\n\n/**\n * Computes the contraharmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.contraHarmonicMean = function contraHarmonicMean(values) {\n    var r1 = 0;\n    var r2 = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        r1 += values[i] * values[i];\n        r2 += values[i];\n    }\n    if (r2 < 0) {\n        throw new RangeError('sum of values is negative');\n    }\n    return r1 / r2;\n};\n\n/**\n * Computes the median of the given values\n * @param {Array} values\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.median = function median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n};\n\n/**\n * Computes the variance of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.variance = function variance(values, unbiased) {\n    if (unbiased === undefined) unbiased = true;\n    var theMean = exports.mean(values);\n    var theVariance = 0;\n    var l = values.length;\n\n    for (var i = 0; i < l; i++) {\n        var x = values[i] - theMean;\n        theVariance += x * x;\n    }\n\n    if (unbiased) {\n        return theVariance / (l - 1);\n    } else {\n        return theVariance / l;\n    }\n};\n\n/**\n * Computes the standard deviation of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.standardDeviation = function standardDeviation(values, unbiased) {\n    return Math.sqrt(exports.variance(values, unbiased));\n};\n\nexports.standardError = function standardError(values) {\n    return exports.standardDeviation(values) / Math.sqrt(values.length);\n};\n\n/**\n * IEEE Transactions on biomedical engineering, vol. 52, no. 1, january 2005, p. 76-\n * Calculate the standard deviation via the Median of the absolute deviation\n *  The formula for the standard deviation only holds for Gaussian random variables.\n * @returns {{mean: number, stdev: number}}\n */\nexports.robustMeanAndStdev = function robustMeanAndStdev(y) {\n    var mean = 0, stdev = 0;\n    var length = y.length, i = 0;\n    for (i = 0; i < length; i++) {\n        mean += y[i];\n    }\n    mean /= length;\n    var averageDeviations = new Array(length);\n    for (i = 0; i < length; i++)\n        averageDeviations[i] = Math.abs(y[i] - mean);\n    averageDeviations.sort(compareNumbers);\n    if (length % 2 === 1) {\n        stdev = averageDeviations[(length - 1) / 2] / 0.6745;\n    } else {\n        stdev = 0.5 * (averageDeviations[length / 2] + averageDeviations[length / 2 - 1]) / 0.6745;\n    }\n\n    return {\n        mean: mean,\n        stdev: stdev\n    };\n};\n\nexports.quartiles = function quartiles(values, alreadySorted) {\n    if (typeof (alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n\n    var quart = values.length / 4;\n    var q1 = values[Math.ceil(quart) - 1];\n    var q2 = exports.median(values, true);\n    var q3 = values[Math.ceil(quart * 3) - 1];\n\n    return {q1: q1, q2: q2, q3: q3};\n};\n\nexports.pooledStandardDeviation = function pooledStandardDeviation(samples, unbiased) {\n    return Math.sqrt(exports.pooledVariance(samples, unbiased));\n};\n\nexports.pooledVariance = function pooledVariance(samples, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var sum = 0;\n    var length = 0, l = samples.length;\n    for (var i = 0; i < l; i++) {\n        var values = samples[i];\n        var vari = exports.variance(values);\n\n        sum += (values.length - 1) * vari;\n\n        if (unbiased)\n            length += values.length - 1;\n        else\n            length += values.length;\n    }\n    return sum / length;\n};\n\nexports.mode = function mode(values) {\n    var l = values.length,\n        itemCount = new Array(l),\n        i;\n    for (i = 0; i < l; i++) {\n        itemCount[i] = 0;\n    }\n    var itemArray = new Array(l);\n    var count = 0;\n\n    for (i = 0; i < l; i++) {\n        var index = itemArray.indexOf(values[i]);\n        if (index >= 0)\n            itemCount[index]++;\n        else {\n            itemArray[count] = values[i];\n            itemCount[count] = 1;\n            count++;\n        }\n    }\n\n    var maxValue = 0, maxIndex = 0;\n    for (i = 0; i < count; i++) {\n        if (itemCount[i] > maxValue) {\n            maxValue = itemCount[i];\n            maxIndex = i;\n        }\n    }\n\n    return itemArray[maxIndex];\n};\n\nexports.covariance = function covariance(vector1, vector2, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var mean1 = exports.mean(vector1);\n    var mean2 = exports.mean(vector2);\n\n    if (vector1.length !== vector2.length)\n        throw 'Vectors do not have the same dimensions';\n\n    var cov = 0, l = vector1.length;\n    for (var i = 0; i < l; i++) {\n        var x = vector1[i] - mean1;\n        var y = vector2[i] - mean2;\n        cov += x * y;\n    }\n\n    if (unbiased)\n        return cov / (l - 1);\n    else\n        return cov / l;\n};\n\nexports.skewness = function skewness(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n\n    var s2 = 0, s3 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s3 += dev * dev * dev;\n    }\n    var m2 = s2 / l;\n    var m3 = s3 / l;\n\n    var g = m3 / (Math.pow(m2, 3 / 2.0));\n    if (unbiased) {\n        var a = Math.sqrt(l * (l - 1));\n        var b = l - 2;\n        return (a / b) * g;\n    } else {\n        return g;\n    }\n};\n\nexports.kurtosis = function kurtosis(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n    var n = values.length, s2 = 0, s4 = 0;\n\n    for (var i = 0; i < n; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s4 += dev * dev * dev * dev;\n    }\n    var m2 = s2 / n;\n    var m4 = s4 / n;\n\n    if (unbiased) {\n        var v = s2 / (n - 1);\n        var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n        var b = s4 / (v * v);\n        var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n\n        return a * b - 3 * c;\n    } else {\n        return m4 / (m2 * m2) - 3;\n    }\n};\n\nexports.entropy = function entropy(values, eps) {\n    if (typeof (eps) === 'undefined') eps = 0;\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * Math.log(values[i] + eps);\n    return -sum;\n};\n\nexports.weightedMean = function weightedMean(values, weights) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * weights[i];\n    return sum;\n};\n\nexports.weightedStandardDeviation = function weightedStandardDeviation(values, weights) {\n    return Math.sqrt(exports.weightedVariance(values, weights));\n};\n\nexports.weightedVariance = function weightedVariance(values, weights) {\n    var theMean = exports.weightedMean(values, weights);\n    var vari = 0, l = values.length;\n    var a = 0, b = 0;\n\n    for (var i = 0; i < l; i++) {\n        var z = values[i] - theMean;\n        var w = weights[i];\n\n        vari += w * (z * z);\n        b += w;\n        a += w * w;\n    }\n\n    return vari * (b / (b * b - a));\n};\n\nexports.center = function center(values, inPlace) {\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n\n    var result = values;\n    if (!inPlace)\n        result = [].concat(values);\n\n    var theMean = exports.mean(result), l = result.length;\n    for (var i = 0; i < l; i++)\n        result[i] -= theMean;\n};\n\nexports.standardize = function standardize(values, standardDev, inPlace) {\n    if (typeof (standardDev) === 'undefined') standardDev = exports.standardDeviation(values);\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n    var l = values.length;\n    var result = inPlace ? values : new Array(l);\n    for (var i = 0; i < l; i++)\n        result[i] = values[i] / standardDev;\n    return result;\n};\n\nexports.cumulativeSum = function cumulativeSum(array) {\n    var l = array.length;\n    var result = new Array(l);\n    result[0] = array[0];\n    for (var i = 1; i < l; i++)\n        result[i] = result[i - 1] + array[i];\n    return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-stat/array.js","'use strict';\n\nconst Cluster = require('./Cluster');\nconst util = require('util');\n\nfunction ClusterLeaf(index) {\n    Cluster.call(this);\n    this.index = index;\n    this.distance = 0;\n    this.children = [];\n}\n\nutil.inherits(ClusterLeaf, Cluster);\n\nmodule.exports = ClusterLeaf;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/ClusterLeaf.js","'use strict';\n\n\n/**\n * Computes a distance/similarity matrix given an array of data and a distance/similarity function.\n * @param {Array} data An array of data\n * @param {function} distanceFn  A function that accepts two arguments and computes a distance/similarity between them\n * @return {Array<Array>} The similarity matrix. The similarity matrix is square and has a size equal to the length of\n * the data array\n */\nfunction distanceMatrix(data, distanceFn) {\n    const length = data.length;\n    let result = Array.from({length}).map(() => Array.from({length}));\n\n    // Compute upper distance matrix\n    for (let i = 0; i < length; i++) {\n        for (let j = 0; j <= i; j++) {\n            result[i][j] = distanceFn(data[i], data[j]);\n        }\n    }\n\n    // Copy to lower distance matrix\n    for (let i = 0; i < length; i++) {\n        for (let j = i + 1; j < length; j++) {\n            result[i][j] = result[j][i];\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = distanceMatrix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance-matrix/src/index.js","import nearestVector from 'ml-nearest-vector';\n\n/**\n * Calculates the distance matrix for a given array of points\n * @ignore\n * @param {Array<Array<number>>} data - the [x,y,z,...] points to cluster\n * @param {function} distance - Distance function to use between the points\n * @return {Array<Array<number>>} - matrix with the distance values\n */\nexport function calculateDistanceMatrix(data, distance) {\n  var distanceMatrix = new Array(data.length);\n  for (var i = 0; i < data.length; ++i) {\n    for (var j = i; j < data.length; ++j) {\n      if (!distanceMatrix[i]) {\n        distanceMatrix[i] = new Array(data.length);\n      }\n      if (!distanceMatrix[j]) {\n        distanceMatrix[j] = new Array(data.length);\n      }\n      const dist = distance(data[i], data[j]);\n      distanceMatrix[i][j] = dist;\n      distanceMatrix[j][i] = dist;\n    }\n  }\n  return distanceMatrix;\n}\n\n/**\n * Updates the cluster identifier based in the new data\n * @ignore\n * @param {Array<Array<number>>} data - the [x,y,z,...] points to cluster\n * @param {Array<Array<number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array <number>} clusterID - the cluster identifier for each data dot\n * @param {function} distance - Distance function to use between the points\n * @return {Array} the cluster identifier for each data dot\n */\nexport function updateClusterID(data, centers, clusterID, distance) {\n  for (var i = 0; i < data.length; i++) {\n    clusterID[i] = nearestVector(centers, data[i], {\n      distanceFunction: distance\n    });\n  }\n  return clusterID;\n}\n\n/**\n * Update the center values based in the new configurations of the clusters\n * @ignore\n * @param {Array<Array<number>>} prevCenters - Centroids from the previous iteration\n * @param {Array <Array <number>>} data - the [x,y,z,...] points to cluster\n * @param {Array <number>} clusterID - the cluster identifier for each data dot\n * @param {number} K - Number of clusters\n * @return {Array} he K centers in format [x,y,z,...]\n */\nexport function updateCenters(prevCenters, data, clusterID, K) {\n  const nDim = data[0].length;\n\n  // copy previous centers\n  var centers = new Array(K);\n  var centersLen = new Array(K);\n  for (var i = 0; i < K; i++) {\n    centers[i] = new Array(nDim);\n    centersLen[i] = 0;\n    for (var j = 0; j < nDim; j++) {\n      centers[i][j] = 0;\n    }\n  }\n\n  // add the value for all dimensions of the point\n  for (var l = 0; l < data.length; l++) {\n    centersLen[clusterID[l]]++;\n    for (var dim = 0; dim < nDim; dim++) {\n      centers[clusterID[l]][dim] += data[l][dim];\n    }\n  }\n\n  // divides by length\n  for (var id = 0; id < K; id++) {\n    for (var d = 0; d < nDim; d++) {\n      if (centersLen[id]) {\n        centers[id][d] /= centersLen[id];\n      } else {\n        centers[id][d] = prevCenters[id][d];\n      }\n    }\n  }\n  return centers;\n}\n\n/**\n * The centers have moved more than the tolerance value?\n * @ignore\n * @param {Array<Array<number>>} centers - the K centers in format [x,y,z,...]\n * @param {Array<Array<number>>} oldCenters - the K old centers in format [x,y,z,...]\n * @param {function} distanceFunction - Distance function to use between the points\n * @param {number} tolerance - Allowed distance for the centroids to move\n * @return {boolean}\n */\nexport function hasConverged(centers, oldCenters, distanceFunction, tolerance) {\n  for (var i = 0; i < centers.length; i++) {\n    if (distanceFunction(centers[i], oldCenters[i]) > tolerance) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/utils.js","// tslint:disable-next-line\nconst XSAdd = require('ml-xsadd');\nimport choice from './choice';\n/**\n * @classdesc Random class\n */\nexport default class Random {\n    /**\n     * @param [seedOrRandom=Math.random] - Control the random number generator used by the Random class instance. Pass a random number generator function with a uniform distribution over the half-open interval [0, 1[. If seed will pass it to ml-xsadd to create a seeded random number generator. If undefined will use Math.random.\n     */\n    constructor(seedOrRandom = Math.random) {\n        if (typeof seedOrRandom === 'number') {\n            const xsadd = new XSAdd(seedOrRandom);\n            this.randomGenerator = xsadd.random;\n        }\n        else {\n            this.randomGenerator = seedOrRandom;\n        }\n    }\n    choice(values, options) {\n        if (typeof values === 'number') {\n            return choice(values, options, this.randomGenerator);\n        }\n        return choice(values, options, this.randomGenerator);\n    }\n    /**\n     * Draw a random number from a uniform distribution on [0,1)\n     * @return The random number\n     */\n    random() {\n        return this.randomGenerator();\n    }\n    /**\n     * Draw a random integer from a uniform distribution on [low, high). If only low is specified, the number is drawn on [0, low)\n     * @param low - The lower bound of the uniform distribution interval.\n     * @param high - The higher bound of the uniform distribution interval.\n     */\n    randInt(low, high) {\n        if (high === undefined) {\n            high = low;\n            low = 0;\n        }\n        return low + Math.floor(this.randomGenerator() * (high - low));\n    }\n    /**\n     * Draw several random number from a uniform distribution on [0, 1)\n     * @param size - The number of number to draw\n     * @return - The list of drawn numbers.\n     */\n    randomSample(size) {\n        const result = [];\n        for (let i = 0; i < size; i++) {\n            result.push(this.random());\n        }\n        return result;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random/lib-es6/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LOOP = 8;\nvar FLOAT_MUL = 1 / 16777216;\n\nfunction multiply_uint32(n, m) {\n    n >>>= 0;\n    m >>>= 0;\n    var nlo = n & 0xffff;\n    var nhi = n - nlo;\n    return (nhi * m >>> 0) + nlo * m >>> 0;\n}\n\nvar XSadd = (function () {\n    function XSadd() {\n        var seed = arguments.length <= 0 || arguments[0] === undefined ? Date.now() : arguments[0];\n\n        _classCallCheck(this, XSadd);\n\n        this.state = new Uint32Array(4);\n        this.init(seed);\n    }\n\n    _createClass(XSadd, [{\n        key: \"init\",\n        value: function init(seed) {\n            this.state[0] = seed;\n            this.state[1] = 0;\n            this.state[2] = 0;\n            this.state[3] = 0;\n            for (var i = 1; i < LOOP; i++) {\n                this.state[i & 3] ^= i + multiply_uint32(1812433253, this.state[i - 1 & 3] ^ this.state[i - 1 & 3] >>> 30 >>> 0) >>> 0;\n            }\n            period_certification(this);\n            for (var i = 0; i < LOOP; i++) {\n                next_state(this);\n            }\n        }\n\n        /**\n         * Returns a 32-bit integer r (0 <= r < 2^32)\n         */\n    }, {\n        key: \"getUint32\",\n        value: function getUint32() {\n            next_state(this);\n            return this.state[3] + this.state[2] >>> 0;\n        }\n\n        /**\n         * Returns a floating point number r (0.0 <= r < 1.0)\n         */\n    }, {\n        key: \"getFloat\",\n        value: function getFloat() {\n            return (this.getUint32() >>> 8) * FLOAT_MUL;\n        }\n    }, {\n        key: \"random\",\n        get: function get() {\n            if (!this._random) {\n                this._random = this.getFloat.bind(this);\n            }\n            return this._random;\n        }\n    }]);\n\n    return XSadd;\n})();\n\nexports[\"default\"] = XSadd;\n\nfunction period_certification(xsadd) {\n    if (xsadd.state[0] === 0 && xsadd.state[1] === 0 && xsadd.state[2] === 0 && xsadd.state[3] === 0) {\n        xsadd.state[0] = 88; // X\n        xsadd.state[1] = 83; // S\n        xsadd.state[2] = 65; // A\n        xsadd.state[3] = 68; // D\n    }\n}\n\nvar sh1 = 15;\nvar sh2 = 18;\nvar sh3 = 11;\nfunction next_state(xsadd) {\n    var t = xsadd.state[0];\n    t ^= t << sh1;\n    t ^= t >>> sh2;\n    t ^= xsadd.state[3] << sh3;\n    xsadd.state[0] = xsadd.state[1];\n    xsadd.state[1] = xsadd.state[2];\n    xsadd.state[2] = xsadd.state[3];\n    xsadd.state[3] = t;\n}\nmodule.exports = exports[\"default\"];\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-xsadd/xsadd-es5.js","import Matrix from 'ml-matrix';\n\n/**\n * @private\n * Function that retuns an array of matrices of the cases that belong to each class.\n * @param {Matrix} X - dataset\n * @param {Array} y - predictions\n * @return {Array}\n */\nexport function separateClasses(X, y) {\n    var features = X.columns;\n\n    var classes = 0;\n    var totalPerClasses = new Array(10000); // max upperbound of classes\n    for (var i = 0; i < y.length; i++) {\n        if (totalPerClasses[y[i]] === undefined) {\n            totalPerClasses[y[i]] = 0;\n            classes++;\n        }\n        totalPerClasses[y[i]]++;\n    }\n    var separatedClasses = new Array(classes);\n    var currentIndex = new Array(classes);\n    for (i = 0; i < classes; ++i) {\n        separatedClasses[i] = new Matrix(totalPerClasses[i], features);\n        currentIndex[i] = 0;\n    }\n    for (i = 0; i < X.rows; ++i) {\n        separatedClasses[y[i]].setRow(currentIndex[y[i]], X.getRow(i));\n        currentIndex[y[i]]++;\n    }\n    return separatedClasses;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/utils.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat/matrix';\n\n/**\n * @private\n * Function that given vector, returns his norm\n * @param {Vector} X\n * @return {number} Norm of the vector\n */\nexport function norm(X) {\n    return Math.sqrt(X.clone().apply(pow2array).sum());\n}\n\n/**\n * @private\n * Function that pow 2 each element of a Matrix or a Vector,\n * used in the apply method of the Matrix object\n * @param {number} i - index i.\n * @param {number} j - index j.\n * @return {Matrix} The Matrix object modified at the index i, j.\n * */\nexport function pow2array(i, j) {\n    this[i][j] = this[i][j] * this[i][j];\n    return this;\n}\n\n/**\n * @private\n * Function that normalize the dataset and return the means and\n * standard deviation of each feature.\n * @param {Matrix} dataset\n * @return {object} dataset normalized, means and standard deviations\n */\nexport function featureNormalize(dataset) {\n    var means = Stat.mean(dataset);\n    var std = Stat.standardDeviation(dataset, means, true);\n    var result = Matrix.checkMatrix(dataset).subRowVector(means);\n    return {result: result.divRowVector(std), means: means, std: std};\n}\n\n/**\n * @private\n * Function that initialize an array of matrices.\n * @param {Array} array\n * @param {boolean} isMatrix\n * @return {Array} array with the matrices initialized.\n */\nexport function initializeMatrices(array, isMatrix) {\n    if (isMatrix) {\n        for (var i = 0; i < array.length; ++i) {\n            for (var j = 0; j < array[i].length; ++j) {\n                var elem = array[i][j];\n                array[i][j] = elem !== null ? new Matrix(array[i][j]) : undefined;\n            }\n        }\n    } else {\n        for (i = 0; i < array.length; ++i) {\n            array[i] = new Matrix(array[i]);\n        }\n    }\n\n    return array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/utils.js","/**\n *  Constructs a confusion matrix\n * @class ConfusionMatrix\n * @example\n * const CM = new ConfusionMatrix([[13, 2], [10, 5]], ['cat', 'dog'])\n * @param {Array<Array<number>>} matrix - The confusion matrix, a 2D Array. Rows represent the actual label and columns\n *     the predicted label.\n * @param {Array<any>} labels - Labels of the confusion matrix, a 1D Array\n */\nclass ConfusionMatrix {\n    constructor(matrix, labels) {\n        if (matrix.length !== matrix[0].length) {\n            throw new Error('Confusion matrix must be square');\n        }\n        if (labels.length !== matrix.length) {\n            throw new Error('Confusion matrix and labels should have the same length');\n        }\n        this.labels = labels;\n        this.matrix = matrix;\n    }\n\n\n    /**\n     * Construct confusion matrix from the predicted and actual labels (classes). Be sure to provide the arguments in\n     * the correct order!\n     * @param {Array<any>} actual  - The predicted labels of the classification\n     * @param {Array<any>} predicted     - The actual labels of the classification. Has to be of same length as\n     *     predicted.\n     * @param {object} [options] - Additional options\n     * @param {Array<any>} [options.labels] - The list of labels that should be used. If not provided the distinct set\n     *     of labels present in predicted and actual is used. Labels are compared using the strict equality operator\n     *     '==='\n     * @return {ConfusionMatrix} - Confusion matrix\n     */\n    static fromLabels(actual, predicted, options = {}) {\n        if (predicted.length !== actual.length) {\n            throw new Error('predicted and actual must have the same length');\n        }\n        let distinctLabels;\n        if (options.labels) {\n            distinctLabels = new Set(options.labels);\n        } else {\n            distinctLabels = new Set([...actual, ...predicted]);\n        }\n        distinctLabels = Array.from(distinctLabels);\n        if (options.sort) {\n            distinctLabels.sort(options.sort);\n        }\n\n        // Create confusion matrix and fill with 0's\n        const matrix = Array.from({length: distinctLabels.length});\n        for (let i = 0; i < matrix.length; i++) {\n            matrix[i] = new Array(matrix.length);\n            matrix[i].fill(0);\n        }\n\n        for (let i = 0; i < predicted.length; i++) {\n            const actualIdx = distinctLabels.indexOf(actual[i]);\n            const predictedIdx = distinctLabels.indexOf(predicted[i]);\n            if (actualIdx >= 0 && predictedIdx >= 0) {\n                matrix[actualIdx][predictedIdx]++;\n            }\n        }\n\n        return new ConfusionMatrix(matrix, distinctLabels);\n    }\n\n    /**\n     * Get the confusion matrix\n     * @return {Array<Array<number> >}\n     */\n    getMatrix() {\n        return this.matrix;\n    }\n\n    getLabels() {\n        return this.labels;\n    }\n\n    /**\n     * Get the total number of samples\n     * @return {number}\n     */\n    getTotalCount() {\n        let predicted = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                predicted += this.matrix[i][j];\n            }\n        }\n        return predicted;\n    }\n\n    /**\n     * Get the total number of true predictions\n     * @return {number}\n     */\n    getTrueCount() {\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            count += this.matrix[i][i];\n        }\n        return count;\n    }\n\n    /**\n     * Get the total number of false predictions.\n     * @return {number}\n     */\n    getFalseCount() {\n        return this.getTotalCount() - this.getTrueCount();\n    }\n\n    /**\n     * Get the number of true positive predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTruePositiveCount(label) {\n        const index = this.getIndex(label);\n        return this.matrix[index][index];\n    }\n\n    /**\n     * Get the number of true negative predictions\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTrueNegativeCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                if (i !== index && j !== index) {\n                    count += this.matrix[i][j];\n                }\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of false positive predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalsePositiveCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            if (i !== index) {\n                count += this.matrix[i][index];\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of false negative predictions.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseNegativeCount(label) {\n        const index = this.getIndex(label);\n        var count = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            if (i !== index) {\n                count += this.matrix[index][i];\n            }\n        }\n        return count;\n    }\n\n    /**\n     * Get the number of real positive samples.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getPositiveCount(label) {\n        return this.getTruePositiveCount(label) + this.getFalseNegativeCount(label);\n    }\n\n    /**\n     * Get the number of real negative samples.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getNegativeCount(label) {\n        return this.getTrueNegativeCount(label) + this.getFalsePositiveCount(label);\n    }\n\n    /**\n     * Get the index in the confusion matrix that corresponds to the given label\n     * @param {any} label - The label to search for\n     * @throws if the label is not found\n     * @return {number}\n     */\n    getIndex(label) {\n        const index = this.labels.indexOf(label);\n        if (index === -1) throw new Error('The label does not exist');\n        return index;\n    }\n\n    /**\n     * Get the true positive rate a.k.a. sensitivity. Computes the ratio between the number of true positive predictions and the total number of positive samples.\n     * {@link https://en.wikipedia.org/wiki/Sensitivity_and_specificity}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number} - The true positive rate [0-1]\n     */\n    getTruePositiveRate(label) {\n        return this.getTruePositiveCount(label) / this.getPositiveCount(label);\n    }\n\n    /**\n     * Get the true negative rate a.k.a. specificity. Computes the ration between the number of true negative predictions and the total number of negative samples.\n     * {@link https://en.wikipedia.org/wiki/Sensitivity_and_specificity}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getTrueNegativeRate(label) {\n        return this.getTrueNegativeCount(label) / this.getNegativeCount(label);\n    }\n\n    /**\n     * Get the positive predictive value a.k.a. precision. Computes TP / (TP + FP)\n     * {@link https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getPositivePredictiveValue(label) {\n        const TP = this.getTruePositiveCount(label);\n        return TP / (TP + this.getFalsePositiveCount(label));\n    }\n\n    /**\n     * Negative predictive value\n     * {@link https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getNegativePredictiveValue(label) {\n        const TN = this.getTrueNegativeCount(label);\n        return TN / (TN + this.getFalseNegativeCount(label));\n    }\n\n    /**\n     * False negative rate a.k.a. miss rate.\n     * {@link https://en.wikipedia.org/wiki/Type_I_and_type_II_errors#False_positive_and_false_negative_rates}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseNegativeRate(label) {\n        return 1 - this.getTruePositiveRate(label);\n    }\n\n    /**\n     * False positive rate a.k.a. fall-out rate.\n     * {@link https://en.wikipedia.org/wiki/Type_I_and_type_II_errors#False_positive_and_false_negative_rates}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalsePositiveRate(label) {\n        return 1 - this.getTrueNegativeRate(label);\n    }\n\n    /**\n     * False discovery rate (FDR)\n     * {@link https://en.wikipedia.org/wiki/False_discovery_rate}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseDiscoveryRate(label) {\n        const FP = this.getFalsePositiveCount(label);\n        return FP / (FP + this.getTruePositiveCount(label));\n    }\n\n    /**\n     * False omission rate (FOR)\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getFalseOmissionRate(label) {\n        const FN = this.getFalseNegativeCount(label);\n        return FN / (FN + this.getTruePositiveCount(label));\n    }\n\n    /**\n     * F1 score\n     * {@link https://en.wikipedia.org/wiki/F1_score}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getF1Score(label) {\n        const TP = this.getTruePositiveCount(label);\n        return 2 * TP / (2 * TP + this.getFalsePositiveCount(label) + this.getFalseNegativeCount(label));\n    }\n\n    /**\n     * Matthews correlation coefficient (MCC)\n     * {@link https://en.wikipedia.org/wiki/Matthews_correlation_coefficient}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getMatthewsCorrelationCoefficient(label) {\n        const TP = this.getTruePositiveCount(label);\n        const TN = this.getTrueNegativeCount(label);\n        const FP = this.getFalsePositiveCount(label);\n        const FN = this.getFalseNegativeCount(label);\n        return (TP * TN - FP * FN) / Math.sqrt((TP + FP) * (TP + FN) * (TN + FP) * (TN + FN));\n    }\n\n    /**\n     * Informedness\n     * {@link https://en.wikipedia.org/wiki/Youden%27s_J_statistic}\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getInformedness(label) {\n        return this.getTruePositiveRate(label) + this.getTrueNegativeRate(label) - 1;\n    }\n\n    /**\n     * Markedness\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {number}\n     */\n    getMarkedness(label) {\n        return this.getPositivePredictiveValue(label) + this.getNegativePredictiveValue(label) - 1;\n    }\n\n    /**\n     * Get the confusion table.\n     * @param {any} label - The label that should be considered \"positive\"\n     * @return {Array<Array<number> >} - The 2x2 confusion table. [[TP, FN], [FP, TN]]\n     */\n    getConfusionTable(label) {\n        return [\n            [\n                this.getTruePositiveCount(label),\n                this.getFalseNegativeCount(label)\n            ],\n            [\n                this.getFalsePositiveCount(label),\n                this.getTrueNegativeCount(label)\n            ]\n        ];\n    }\n\n    /**\n     * Get total accuracy.\n     * @return {number} - The ratio between the number of true predictions and total number of classifications ([0-1])\n     */\n    getAccuracy() {\n        let correct = 0;\n        let incorrect = 0;\n        for (var i = 0; i < this.matrix.length; i++) {\n            for (var j = 0; j < this.matrix.length; j++) {\n                if (i === j) correct += this.matrix[i][j];\n                else incorrect += this.matrix[i][j];\n            }\n        }\n        return correct / (correct + incorrect);\n    }\n\n\n    /**\n     * Returns the element in the confusion matrix that corresponds to the given actual and predicted labels.\n     * @param {any} actual - The true label\n     * @param {any} predicted - The predicted label\n     * @return {number} - The element in the confusion matrix\n     */\n    getCount(actual, predicted) {\n        const actualIndex = this.getIndex(actual);\n        const predictedIndex = this.getIndex(predicted);\n        return this.matrix[actualIndex][predictedIndex];\n    }\n\n    /**\n     * Compute the general prediction accuracy\n     * @deprecated Use getAccuracy\n     * @return {number} - The prediction accuracy ([0-1]\n     */\n    get accuracy() {\n        return this.getAccuracy();\n    }\n\n    /**\n     * Compute the number of predicted observations\n     * @deprecated Use getTotalCount\n     * @return {number}\n     */\n    get total() {\n        return this.getTotalCount();\n    }\n}\n\nmodule.exports = ConfusionMatrix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-confusion-matrix/src/index.js","'use strict';\n\nvar Matrix = require('ml-matrix').Matrix;\n\nvar Utils = require('./utils');\nconst ACTIVATION_FUNCTIONS = require('./activationFunctions');\n\nclass Layer {\n    /**\n     * @private\n     * Create a new layer with the given options\n     * @param {object} options\n     * @param {number} [options.inputSize] - Number of conections that enter the neurons.\n     * @param {number} [options.outputSize] - Number of conections that leave the neurons.\n     * @param {number} [options.regularization] - Regularization parameter.\n     * @param {number} [options.epsilon] - Learning rate parameter.\n     * @param {string} [options.activation] - Activation function parameter from the FeedForwardNeuralNetwork class.\n     * @param {number} [options.activationParam] - Activation parameter if needed.\n     */\n    constructor(options) {\n        this.inputSize = options.inputSize;\n        this.outputSize = options.outputSize;\n        this.regularization = options.regularization;\n        this.epsilon = options.epsilon;\n        this.activation = options.activation;\n        this.activationParam = options.activationParam;\n\n        var selectedFunction = ACTIVATION_FUNCTIONS[options.activation];\n        var params = selectedFunction.activation.length;\n\n        var actFunction = params > 1 ? val => selectedFunction.activation(val, options.activationParam) : selectedFunction.activation;\n        var derFunction = params > 1 ? val => selectedFunction.derivate(val, options.activationParam) : selectedFunction.derivate;\n\n        this.activationFunction = function (i, j) {\n            this[i][j] = actFunction(this[i][j]);\n        };\n        this.derivate = function (i, j) {\n            this[i][j] = derFunction(this[i][j]);\n        };\n\n        if (options.model) {\n            // load model\n            this.W = Matrix.checkMatrix(options.W);\n            this.b = Matrix.checkMatrix(options.b);\n\n        } else {\n            // default constructor\n\n            this.W = Matrix.rand(this.inputSize, this.outputSize);\n            this.b = Matrix.zeros(1, this.outputSize);\n\n            this.W.apply(function (i, j) {\n                this[i][j] /= Math.sqrt(options.inputSize);\n            });\n        }\n    }\n\n    /**\n     * @private\n     * propagate the given input through the current layer.\n     * @param {Matrix} X - input.\n     * @return {Matrix} output at the current layer.\n     */\n    forward(X) {\n        var z = X.mmul(this.W).addRowVector(this.b);\n        z.apply(this.activationFunction);\n        this.a = z.clone();\n        return z;\n    }\n\n    /**\n     * @private\n     * apply backpropagation algorithm at the current layer\n     * @param {Matrix} delta - delta values estimated at the following layer.\n     * @param {Matrix} a - 'a' values from the following layer.\n     * @return {Matrix} the new delta values for the next layer.\n     */\n    backpropagation(delta, a) {\n        this.dW = a.transposeView().mmul(delta);\n        this.db = Utils.sumCol(delta);\n\n        var aCopy = a.clone();\n        return delta.mmul(this.W.transposeView()).mul(aCopy.apply(this.derivate));\n    }\n\n    /**\n     * @private\n     * Function that updates the weights at the current layer with the derivatives.\n     */\n    update() {\n        this.dW.add(this.W.clone().mul(this.regularization));\n        this.W.add(this.dW.mul(-this.epsilon));\n        this.b.add(this.db.mul(-this.epsilon));\n    }\n\n    /**\n     * @private\n     * Export the current layer to JSON.\n     * @return {object} model\n     */\n    toJSON() {\n        return {\n            model: 'Layer',\n            inputSize: this.inputSize,\n            outputSize: this.outputSize,\n            regularization: this.regularization,\n            epsilon: this.epsilon,\n            activation: this.activation,\n            W: this.W,\n            b: this.b\n        };\n    }\n\n    /**\n     * @private\n     * Creates a new Layer with the given model.\n     * @param {object} model\n     * @return {Layer}\n     */\n    static load(model) {\n        if (model.model !== 'Layer') {\n            throw new RangeError('the current model is not a Layer model');\n        }\n        return new Layer(model);\n    }\n\n}\n\nmodule.exports = Layer;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/Layer.js","'use strict';\n\nvar Matrix = require('ml-matrix').Matrix;\n\n/**\n * @private\n * Retrieves the sum at each row of the given matrix.\n * @param {Matrix} matrix\n * @return {Matrix}\n */\nfunction sumRow(matrix) {\n    var sum = Matrix.zeros(matrix.rows, 1);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum[i][0] += matrix[i][j];\n        }\n    }\n    return sum;\n}\n\n/**\n * @private\n * Retrieves the sum at each column of the given matrix.\n * @param {Matrix} matrix\n * @return {Matrix}\n */\nfunction sumCol(matrix) {\n    var sum = Matrix.zeros(1, matrix.columns);\n    for (var i = 0; i < matrix.rows; ++i) {\n        for (var j = 0; j < matrix.columns; ++j) {\n            sum[0][j] += matrix[i][j];\n        }\n    }\n    return sum;\n}\n\n/**\n * @private\n * Method that given an array of labels(predictions), returns two dictionaries, one to transform from labels to\n * numbers and other in the reverse way\n * @param {Array} array\n * @return {object}\n */\nfunction dictOutputs(array) {\n    var inputs = {};\n    var outputs = {};\n    var index = 0;\n    for (var i = 0; i < array.length; i += 1) {\n        if (inputs[array[i]] === undefined) {\n            inputs[array[i]] = index;\n            outputs[index] = array[i];\n            index++;\n        }\n    }\n\n    return {\n        inputs: inputs,\n        outputs: outputs\n    };\n}\n\nmodule.exports = {\n    dictOutputs: dictOutputs,\n    sumCol: sumCol,\n    sumRow: sumRow\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/utils.js","'use strict';\n\nfunction logistic(val) {\n    return 1 / (1 + Math.exp(-val));\n}\n\nfunction expELU(val, param) {\n    return val < 0 ? param * (Math.exp(val) - 1) : val;\n}\n\nfunction softExponential(val, param) {\n    if (param < 0) {\n        return -Math.log(1 - param * (val + param)) / param;\n    }\n    if (param > 0) {\n        return ((Math.exp(param * val) - 1) / param) + param;\n    }\n    return val;\n}\n\nfunction softExponentialPrime(val, param) {\n    if (param < 0) {\n        return 1 / (1 - param * (param + val));\n    } else {\n        return Math.exp(param * val);\n    }\n}\n\nconst ACTIVATION_FUNCTIONS = {\n    tanh: {\n        activation: Math.tanh,\n        derivate: val => 1 - (val * val)\n    },\n    identity: {\n        activation: val => val,\n        derivate: () => 1\n    },\n    logistic: {\n        activation: logistic,\n        derivate: val => logistic(val) * (1 - logistic(val))\n    },\n    arctan: {\n        activation: Math.atan,\n        derivate: val => 1 / (val * val + 1)\n    },\n    softsign: {\n        activation: val => val / (1 + Math.abs(val)),\n        derivate: val => 1 / ((1 + Math.abs(val)) * (1 + Math.abs(val)))\n    },\n    relu: {\n        activation: val => val < 0 ? 0 : val,\n        derivate: val => val < 0 ? 0 : 1\n    },\n    softplus: {\n        activation: val => Math.log(1 + Math.exp(val)),\n        derivate: val => 1 / (1 + Math.exp(-val))\n    },\n    bent: {\n        activation: val => ((Math.sqrt(val * val + 1) - 1) / 2) + val,\n        derivate: val => (val / (2 * Math.sqrt(val * val + 1))) + 1\n    },\n    sinusoid: {\n        activation: Math.sin,\n        derivate: Math.cos\n    },\n    sinc: {\n        activation: val => val === 0 ? 1 : Math.sin(val) / val,\n        derivate: val => val === 0 ? 0 : (Math.cos(val) / val) - (Math.sin(val) / (val * val))\n    },\n    gaussian: {\n        activation: val => Math.exp(-(val * val)),\n        derivate: val => -2 * val * Math.exp(-(val * val))\n    },\n    'parametric-relu': {\n        activation: (val, param) => val < 0 ? param * val : val,\n        derivate: (val, param) => val < 0 ? param : 1\n    },\n    'exponential-elu': {\n        activation: expELU,\n        derivate: (val, param) => val < 0 ? expELU(val, param) + param : 1\n    },\n    'soft-exponential': {\n        activation: softExponential,\n        derivate: softExponentialPrime\n    }\n};\n\nmodule.exports = ACTIVATION_FUNCTIONS;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/activationFunctions.js","function NodeSquare(x, y, weights, som) {\n    this.x = x;\n    this.y = y;\n    this.weights = weights;\n    this.som = som;\n    this.neighbors = {};\n}\n\nNodeSquare.prototype.adjustWeights = function adjustWeights(target, learningRate, influence) {\n    for (var i = 0, ii = this.weights.length; i < ii; i++) {\n        this.weights[i] += learningRate * influence * (target[i] - this.weights[i]);\n    }\n};\n\nNodeSquare.prototype.getDistance = function getDistance(otherNode) {\n    return Math.max(Math.abs(this.x - otherNode.x), Math.abs(this.y - otherNode.y));\n};\n\nNodeSquare.prototype.getDistanceTorus = function getDistanceTorus(otherNode) {\n    var distX = Math.abs(this.x - otherNode.x),\n        distY = Math.abs(this.y - otherNode.y);\n    return Math.max(Math.min(distX, this.som.gridDim.x - distX), Math.min(distY, this.som.gridDim.y - distY));\n};\n\nNodeSquare.prototype.getNeighbors = function getNeighbors(xy) {\n    if (!this.neighbors[xy]) {\n        this.neighbors[xy] = new Array(2);\n\n        // left or bottom neighbor\n        var v;\n        if (this[xy] > 0) {\n            v = this[xy] - 1;\n        } else if (this.som.torus) {\n            v = this.som.gridDim[xy] - 1\n        }\n        if (typeof v !== 'undefined') {\n            var x, y;\n            if (xy === 'x') {\n                x = v;\n                y = this.y;\n            } else {\n                x = this.x;\n                y = v;\n            }\n            this.neighbors[xy][0] = this.som.nodes[x][y];\n        }\n\n        // top or right neighbor\n        var w;\n        if (this[xy] < (this.som.gridDim[xy] - 1)) {\n            w = this[xy] + 1;\n        } else if (this.som.torus) {\n            w = 0;\n        }\n        if (typeof w !== 'undefined') {\n            if (xy === 'x') {\n                x = w;\n                y = this.y;\n            } else {\n                x = this.x;\n                y = w;\n            }\n            this.neighbors[xy][1] = this.som.nodes[x][y];\n        }\n    }\n    return this.neighbors[xy];\n};\n\nNodeSquare.prototype.getPos = function getPos(xy, element) {\n    var neighbors = this.getNeighbors(xy),\n        distance = this.som.distance,\n        bestNeighbor,\n        direction;\n    if(neighbors[0]) {\n        if (neighbors[1]) {\n            var dist1 = distance(element, neighbors[0].weights),\n                dist2 = distance(element, neighbors[1].weights);\n            if(dist1 < dist2) {\n                bestNeighbor = neighbors[0];\n                direction = -1;\n            } else {\n                bestNeighbor = neighbors[1];\n                direction = 1;\n            }\n        } else {\n            bestNeighbor = neighbors[0];\n            direction = -1;\n        }\n    } else {\n        bestNeighbor = neighbors[1];\n        direction = 1;\n    }\n    var simA = 1 - distance(element, this.weights),\n        simB = 1 - distance(element, bestNeighbor.weights);\n    var factor = ((simA - simB) / (2 - simA - simB));\n    return 0.5 + 0.5 * factor * direction;\n};\n\nNodeSquare.prototype.getPosition = function getPosition(element) {\n    return [\n        this.getPos('x', element),\n        this.getPos('y', element)\n    ];\n};\n\nmodule.exports = NodeSquare;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/node-square.js","export {default as SimpleLinearRegression, default as SLR} from 'ml-regression-simple-linear';\nexport {default as PolynomialRegression} from 'ml-regression-polynomial';\nexport {default as ExponentialRegression} from 'ml-regression-exponential';\nexport {default as PowerRegression} from 'ml-regression-power';\nexport {default as MultivariateLinearRegression} from 'ml-regression-multivariate-linear';\n\nimport PotentialRegression from './regression/potential-regression';\nconst NLR = {\n    PotentialRegression\n};\nexport {NLR, NLR as NonLinearRegression};\n\nexport {default as KernelRidgeRegression, default as KRR} from './regression/kernel-ridge-regression';\nexport {default as PolinomialFitting2D} from './regression/poly-fit-regression2d';\n\n// robust regressions\nexport {default as TheilSenRegression} from 'ml-regression-theil-sen';\nexport {default as RobustPolynomialRegression} from 'ml-regression-robust-polynomial';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport Matrix, {solve} from 'ml-matrix';\n\nexport default class PolynomialRegression extends BaseRegression {\n    constructor(x, y, degree) {\n        super();\n        if (x === true) {\n            this.degree = y.degree;\n            this.powers = y.powers;\n            this.coefficients = y.coefficients;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y, degree);\n        }\n    }\n\n    _predict(x) {\n        let y = 0;\n        for (let k = 0; k < this.powers.length; k++) {\n            y += this.coefficients[k] * Math.pow(x, this.powers[k]);\n        }\n        return y;\n    }\n\n    toJSON() {\n        return {\n            name: 'polynomialRegression',\n            degree: this.degree,\n            powers: this.powers,\n            coefficients: this.coefficients\n        };\n    }\n\n    toString(precision) {\n        return this._toFormula(precision, false);\n    }\n\n    toLaTeX(precision) {\n        return this._toFormula(precision, true);\n    }\n\n    _toFormula(precision, isLaTeX) {\n        let sup = '^';\n        let closeSup = '';\n        let times = ' * ';\n        if (isLaTeX) {\n            sup = '^{';\n            closeSup = '}';\n            times = '';\n        }\n\n        let fn = '';\n        let str = '';\n        for (let k = 0; k < this.coefficients.length; k++) {\n            str = '';\n            if (this.coefficients[k] !== 0) {\n                if (this.powers[k] === 0) {\n                    str = maybeToPrecision(this.coefficients[k], precision);\n                } else {\n                    if (this.powers[k] === 1) {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x';\n                    } else {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x' + sup + this.powers[k] + closeSup;\n                    }\n                }\n\n                if (this.coefficients[k] > 0 && k !== (this.coefficients.length - 1)) {\n                    str = ' + ' + str;\n                } else if (k !== (this.coefficients.length - 1)) {\n                    str = ' ' + str;\n                }\n            }\n            fn = str + fn;\n        }\n        if (fn.charAt(0) === '+') {\n            fn = fn.slice(1);\n        }\n\n        return 'f(x) = ' + fn;\n    }\n\n    static load(json) {\n        if (json.name !== 'polynomialRegression') {\n            throw new TypeError('not a polynomial regression model');\n        }\n        return new PolynomialRegression(true, json);\n    }\n}\n\nfunction regress(pr, x, y, degree) {\n    const n = x.length;\n    let powers;\n    if (Array.isArray(degree)) {\n        powers = degree;\n        degree = powers.length;\n    } else {\n        degree++;\n        powers = new Array(degree);\n        for (let k = 0; k < degree; k++) {\n            powers[k] = k;\n        }\n    }\n    const F = new Matrix(n, degree);\n    const Y = new Matrix([y]);\n    for (let k = 0; k < degree; k++) {\n        for (let i = 0; i < n; i++) {\n            if (powers[k] === 0) {\n                F[i][k] = 1;\n            } else {\n                F[i][k] = Math.pow(x[i], powers[k]);\n            }\n        }\n    }\n\n    const FT = F.transposeView();\n    const A = FT.mmul(F);\n    const B = FT.mmul(Y.transposeView());\n\n    pr.degree = degree - 1;\n    pr.powers = powers;\n    pr.coefficients = solve(A, B).to1DArray();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-polynomial/src/index.js","'use strict';\n\nconst newArray = require('new-array');\n\nconst primeFinder = require('./primeFinder');\nconst nextPrime = primeFinder.nextPrime;\nconst largestPrime = primeFinder.largestPrime;\n\nconst FREE = 0;\nconst FULL = 1;\nconst REMOVED = 2;\n\nconst defaultInitialCapacity = 150;\nconst defaultMinLoadFactor = 1 / 6;\nconst defaultMaxLoadFactor = 2 / 3;\n\nclass HashTable {\n    constructor(options = {}) {\n        if (options instanceof HashTable) {\n            this.table = options.table.slice();\n            this.values = options.values.slice();\n            this.state = options.state.slice();\n            this.minLoadFactor = options.minLoadFactor;\n            this.maxLoadFactor = options.maxLoadFactor;\n            this.distinct = options.distinct;\n            this.freeEntries = options.freeEntries;\n            this.lowWaterMark = options.lowWaterMark;\n            this.highWaterMark = options.maxLoadFactor;\n            return;\n        }\n\n        const initialCapacity = options.initialCapacity === undefined ? defaultInitialCapacity : options.initialCapacity;\n        if (initialCapacity < 0) {\n            throw new RangeError(`initial capacity must not be less than zero: ${initialCapacity}`);\n        }\n\n        const minLoadFactor = options.minLoadFactor === undefined ? defaultMinLoadFactor : options.minLoadFactor;\n        const maxLoadFactor = options.maxLoadFactor === undefined ? defaultMaxLoadFactor : options.maxLoadFactor;\n        if (minLoadFactor < 0 || minLoadFactor >= 1) {\n            throw new RangeError(`invalid minLoadFactor: ${minLoadFactor}`);\n        }\n        if (maxLoadFactor <= 0 || maxLoadFactor >= 1) {\n            throw new RangeError(`invalid maxLoadFactor: ${maxLoadFactor}`);\n        }\n        if (minLoadFactor >= maxLoadFactor) {\n            throw new RangeError(`minLoadFactor (${minLoadFactor}) must be smaller than maxLoadFactor (${maxLoadFactor})`);\n        }\n\n        let capacity = initialCapacity;\n        // User wants to put at least capacity elements. We need to choose the size based on the maxLoadFactor to\n        // avoid the need to rehash before this capacity is reached.\n        // actualCapacity * maxLoadFactor >= capacity\n        capacity = (capacity / maxLoadFactor) | 0;\n        capacity = nextPrime(capacity);\n        if (capacity === 0) capacity = 1;\n\n        this.table = newArray(capacity, 0);\n        this.values = newArray(capacity, 0);\n        this.state = newArray(capacity, 0);\n\n        this.minLoadFactor = minLoadFactor;\n        if (capacity === largestPrime) {\n            this.maxLoadFactor = 1;\n        } else {\n            this.maxLoadFactor = maxLoadFactor;\n        }\n\n        this.distinct = 0;\n        this.freeEntries = capacity;\n\n        this.lowWaterMark = 0;\n        this.highWaterMark = chooseHighWaterMark(capacity, this.maxLoadFactor);\n    }\n\n    clone() {\n        return new HashTable(this);\n    }\n\n    get size() {\n        return this.distinct;\n    }\n\n    get(key) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return 0;\n        return this.values[i];\n    }\n\n    set(key, value) {\n        let i = this.indexOfInsertion(key);\n        if (i < 0) {\n            i = -i - 1;\n            this.values[i] = value;\n            return false;\n        }\n\n        if (this.distinct > this.highWaterMark) {\n            const newCapacity = chooseGrowCapacity(this.distinct + 1, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n            return this.set(key, value);\n        }\n\n        this.table[i] = key;\n        this.values[i] = value;\n        if (this.state[i] === FREE) this.freeEntries--;\n        this.state[i] = FULL;\n        this.distinct++;\n\n        if (this.freeEntries < 1) {\n            const newCapacity = chooseGrowCapacity(this.distinct + 1, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n        }\n\n        return true;\n    }\n    \n    remove(key, noRehash) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return false;\n\n        this.state[i] = REMOVED;\n        this.distinct--;\n\n        if (!noRehash) this.maybeShrinkCapacity();\n\n        return true;\n    }\n\n    delete(key, noRehash) {\n        const i = this.indexOfKey(key);\n        if (i < 0) return false;\n\n        this.state[i] = FREE;\n        this.distinct--;\n\n        if (!noRehash) this.maybeShrinkCapacity();\n\n        return true;\n    }\n\n    maybeShrinkCapacity() {\n        if (this.distinct < this.lowWaterMark) {\n            const newCapacity = chooseShrinkCapacity(this.distinct, this.minLoadFactor, this.maxLoadFactor);\n            this.rehash(newCapacity);\n        }\n    }\n\n    containsKey(key) {\n        return this.indexOfKey(key) >= 0;\n    }\n\n    indexOfKey(key) {\n        const table = this.table;\n        const state = this.state;\n        const length = this.table.length;\n\n        const hash = key & 0x7fffffff;\n        let i = hash % length;\n        let decrement = hash % (length - 2);\n        if (decrement === 0) decrement = 1;\n\n        while (state[i] !== FREE && (state[i] === REMOVED || table[i] !== key)) {\n            i -= decrement;\n            if (i < 0) i += length;\n        }\n\n        if (state[i] === FREE) return -1;\n        return i;\n    }\n\n    containsValue(value) {\n        return this.indexOfValue(value) >= 0;\n    }\n\n    indexOfValue(value) {\n        const values = this.values;\n        const state = this.state;\n\n        for (var i = 0; i < state.length; i++) {\n            if (state[i] === FULL && values[i] === value) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    indexOfInsertion(key) {\n        const table = this.table;\n        const state = this.state;\n        const length = table.length;\n\n\n        const hash = key & 0x7fffffff;\n        let i = hash % length;\n        let decrement = hash % (length - 2);\n        if (decrement === 0) decrement = 1;\n\n        while (state[i] === FULL && table[i] !== key) {\n            i -= decrement;\n            if (i < 0) i += length;\n        }\n\n        if (state[i] === REMOVED) {\n            const j = i;\n            while (state[i] !== FREE && (state[i] === REMOVED || table[i] !== key)) {\n                i -= decrement;\n                if (i < 0) i += length;\n            }\n            if (state[i] === FREE) i = j;\n        }\n\n        if (state[i] === FULL) {\n            return -i - 1;\n        }\n\n        return i;\n    }\n\n    ensureCapacity(minCapacity) {\n        if (this.table.length < minCapacity) {\n            const newCapacity = nextPrime(minCapacity);\n            this.rehash(newCapacity);\n        }\n    }\n\n    rehash(newCapacity) {\n        const oldCapacity = this.table.length;\n\n        if (newCapacity <= this.distinct) throw new Error('Unexpected');\n\n        const oldTable = this.table;\n        const oldValues = this.values;\n        const oldState = this.state;\n\n        const newTable = newArray(newCapacity, 0);\n        const newValues = newArray(newCapacity, 0);\n        const newState = newArray(newCapacity, 0);\n\n        this.lowWaterMark = chooseLowWaterMark(newCapacity, this.minLoadFactor);\n        this.highWaterMark = chooseHighWaterMark(newCapacity, this.maxLoadFactor);\n\n        this.table = newTable;\n        this.values = newValues;\n        this.state = newState;\n        this.freeEntries = newCapacity - this.distinct;\n\n        for (var i = 0; i < oldCapacity; i++) {\n            if (oldState[i] === FULL) {\n                var element = oldTable[i];\n                var index = this.indexOfInsertion(element);\n                newTable[index] = element;\n                newValues[index] = oldValues[i];\n                newState[index] = FULL;\n            }\n        }\n    }\n\n    forEachKey(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.table[i])) return false;\n            }\n        }\n        return true;\n    }\n\n    forEachValue(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.values[i])) return false;\n            }\n        }\n        return true;\n    }\n\n    forEachPair(callback) {\n        for (var i = 0; i < this.state.length; i++) {\n            if (this.state[i] === FULL) {\n                if (!callback(this.table[i], this.values[i])) return false;\n            }\n        }\n        return true;\n    }\n}\n\nmodule.exports = HashTable;\n\nfunction chooseLowWaterMark(capacity, minLoad) {\n    return (capacity * minLoad) | 0;\n}\n\nfunction chooseHighWaterMark(capacity, maxLoad) {\n    return Math.min(capacity - 2, (capacity * maxLoad) | 0);\n}\n\nfunction chooseGrowCapacity(size, minLoad, maxLoad) {\n    return nextPrime(Math.max(size + 1, (4 * size / (3 * minLoad + maxLoad)) | 0));\n}\n\nfunction chooseShrinkCapacity(size, minLoad, maxLoad) {\n    return nextPrime(Math.max(size + 1, (4 * size / (minLoad + 3 * maxLoad)) | 0));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hash-table/src/HashTable.js","module.exports = function(haystack, needle, comparator, low, high) {\n  var mid, cmp;\n\n  if(low === undefined)\n    low = 0;\n\n  else {\n    low = low|0;\n    if(low < 0 || low >= haystack.length)\n      throw new RangeError(\"invalid lower bound\");\n  }\n\n  if(high === undefined)\n    high = haystack.length - 1;\n\n  else {\n    high = high|0;\n    if(high < low || high >= haystack.length)\n      throw new RangeError(\"invalid upper bound\");\n  }\n\n  while(low <= high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + (high - low >> 1);\n    cmp = +comparator(haystack[mid], needle, mid, haystack);\n\n    /* Too low. */\n    if(cmp < 0.0)\n      low  = mid + 1;\n\n    /* Too high. */\n    else if(cmp > 0.0)\n      high = mid - 1;\n\n    /* Key found. */\n    else\n      return mid;\n  }\n\n  /* Key not found. */\n  return ~low;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/binary-search/index.js","'use strict';\nvar numberIsNan = require('number-is-nan');\n\nfunction assertNum(x) {\n\tif (typeof x !== 'number' || numberIsNan(x)) {\n\t\tthrow new TypeError('Expected a number');\n\t}\n}\n\nexports.asc = function (a, b) {\n\tassertNum(a);\n\tassertNum(b);\n\treturn a - b;\n};\n\nexports.desc = function (a, b) {\n\tassertNum(a);\n\tassertNum(b);\n\treturn b - a;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/num-sort/index.js","'use strict';\n\nexports.distance = require('./distances');\nexports.similarity = require('./similarities');\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/index.js","'use strict';\n\nmodule.exports = function czekanowskiSimilarity(a, b) {\n    var up = 0;\n    var down = 0;\n    for (var i = 0; i < a.length; i++) {\n        up += Math.min(a[i], b[i]);\n        down += a[i] + b[i];\n    }\n    return 2 * up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/czekanowski.js","module.exports = function dice(a, b) {\n    var ii = a.length,\n        p = 0,\n        q1 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * a[i];\n        q1 += b[i] * b[i];\n        q2 += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return q2 / (p + q1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/dice.js","module.exports = function intersection(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.min(a[i], b[i]);\n    }\n    return 1 - ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/intersection.js","module.exports = function jaccard(a, b) {\n    var ii = a.length,\n        p1 = 0,\n        p2 = 0,\n        q1 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p1 += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q1 += b[i] * b[i];\n        q2 += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return q2 / (p2 + q1 - p1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jaccard.js","module.exports = function kulczynski(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += Math.min(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kulczynski.js","module.exports = function motyka(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.min(a[i], b[i]);\n        down += a[i] + b[i];\n    }\n    return 1 - (up / down);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/motyka.js","module.exports = function squaredChord(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (Math.sqrt(a[i]) - Math.sqrt(b[i])) * (Math.sqrt(a[i]) - Math.sqrt(b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/squaredChord.js","module.exports = function tanimoto(a, b, bitvector) {\n    if (bitvector) {\n        var inter = 0,\n            union = 0;\n        for (var j = 0; j < a.length; j++) {\n            inter += a[j] && b[j];\n            union += a[j] || b[j];\n        }\n        if (union === 0)\n            return 1;\n        return inter / union;\n    }\n    else {\n        var ii = a.length,\n            p = 0,\n            q = 0,\n            m = 0;\n        for (var i = 0; i < ii ; i++) {\n            p += a[i];\n            q += b[i];\n            m += Math.min(a[i],b[i]);\n        }\n        return 1 - (p + q - 2 * m) / (p + q - m);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/tanimoto.js","module.exports = function cosine(a, b) {\n    var ii = a.length,\n        p = 0,\n        p2 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q2 += b[i] * b[i];\n    }\n    return p / (Math.sqrt(p2) * Math.sqrt(q2));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/cosine.js","'use strict';\n\nvar extend = require('extend');\n\nvar defaultOptions = {\n    size: 1,\n    value: 0\n};\n\n/**\n * Case when the entry is an array\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction arrayCase(data, options) {\n    var len = data.length;\n    if (typeof options.size === 'number')\n        options.size = [options.size, options.size];\n\n    var cond = len + options.size[0] + options.size[1];\n\n    var output;\n    if (options.output) {\n        if (options.output.length !== cond)\n            throw new RangeError('Wrong output size');\n        output = options.output;\n    }\n    else\n        output = new Array(cond);\n\n    var i;\n\n    // circular option\n    if (options.value === 'circular') {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[((len - (options.size[0] % len)) + i) % len];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[(i - options.size[0]) % len];\n        }\n    }\n\n    // replicate option\n    else if (options.value === 'replicate') {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[0];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[len - 1];\n        }\n    }\n\n    // symmetric option\n    else if (options.value === 'symmetric') {\n        if ((options.size[0] > len) || (options.size[1] > len))\n            throw new RangeError('expanded value should not be bigger than the data length');\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = data[options.size[0] - 1 - i];\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = data[2*len + options.size[0] - i - 1];\n        }\n    }\n\n    // default option\n    else {\n        for (i = 0; i < cond; i++) {\n            if (i < options.size[0])\n                output[i] = options.value;\n            else if (i < (options.size[0] + len))\n                output[i] = data[i - options.size[0]];\n            else\n                output[i] = options.value;\n        }\n    }\n\n    return output;\n}\n\n/**\n * Case when the entry is a matrix\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction matrixCase(data, options) {\n    var row = data.length;\n    var col = data[0].length;\n    if (options.size[0] === undefined)\n        options.size = [options.size, options.size, options.size, options.size];\n    throw new Error('matrix not supported yet, sorry');\n}\n\n/**\n * Pads and array\n * @param {Array <number>} data\n * @param {object} options\n */\nfunction padArray (data, options) {\n    options = extend({}, defaultOptions, options);\n\n    if (Array.isArray(data)) {\n        if (Array.isArray(data[0]))\n            return matrixCase(data, options);\n        else\n            return arrayCase(data, options);\n    }\n    else\n        throw new TypeError('data should be an array');\n}\n\nmodule.exports = padArray;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pad-array/src/index.js","import arrayMean from 'ml-array-mean';\n\n/**\n * Computes the variance of the given values\n * @param {Array} values\n * @param {object} [options]\n * @param {boolean} [options.unbiased = true] - if true, divide by (n-1); if false, divide by n.\n * @param {number} [options.mean = arrayMean] - precalculated mean, if any.\n * @return {number}\n */\nexport default function (values, options = {}) {\n    const {\n        unbiased = true,\n        mean = arrayMean(values)\n    } = options;\n    var sqrError = 0;\n\n    for (var i = 0; i < values.length; i++) {\n        var x = values[i] - mean;\n        sqrError += x * x;\n    }\n\n    if (unbiased) {\n        return sqrError / (values.length - 1);\n    } else {\n        return sqrError / values.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-variance/src/index.js","'use strict';\n\nconst mlCart = require('ml-cart');\nconst mlRandomForest = require('ml-random-forest');\n\nconst ML = exports;\n\n// Try to keep this list in the same structure as the README.\n\n// Unsupervised learning\nML.PCA = require('ml-pca');\nML.HClust = require('ml-hclust');\nML.KMeans = require('ml-kmeans');\n\n// Supervised learning\nML.SVM = require('ml-svm');\nML.NaiveBayes = require('ml-naivebayes');\nML.KNN = require('ml-knn');\nML.PLS = require('ml-pls');\nML.CrossValidation = require('ml-cross-validation');\nML.ConfusionMatrix = require('ml-confusion-matrix');\nML.DecisionTreeClassifier = mlCart.DecisionTreeClassifier;\nML.RandomForestClassifier = mlRandomForest.RandomForestClassifier;\n\n// Artificial neural networks\nML.FNN = require('ml-fnn');\nML.SOM = require('ml-som');\n\n// Regression\nconst Regression = require('ml-regression');\nML.SimpleLinearRegression = Regression.SimpleLinearRegression;\nML.PolynomialRegression = Regression.PolynomialRegression;\nML.MultivariateLinearRegression = Regression.MultivariateLinearRegression;\nML.PowerRegression = Regression.PowerRegression;\nML.ExponentialRegression = Regression.ExponentialRegression;\nML.TheilSenRegression = Regression.TheilSenRegression;\nML.RobustPolynomialRegression = Regression.RobustPolynomialRegression;\nML.DecisionTreeRegression = mlCart.DecisionTreeRegression;\nML.RandomForestRegression = mlRandomForest.RandomForestRegression;\n\n// Optimization\nML.levenbergMarquardt = require('ml-levenberg-marquardt');\n\n// Math\nconst Matrix = require('ml-matrix');\nML.Matrix = Matrix.Matrix;\nML.SVD = Matrix.SVD;\nML.EVD = Matrix.EVD;\nML.CholeskyDecomposition = Matrix.CholeskyDecomposition;\nML.LuDecomposition = Matrix.LuDecomposition;\nML.QrDecomposition = Matrix.QrDecomposition;\n\nML.SparseMatrix = require('ml-sparse-matrix');\nML.Kernel = require('ml-kernel');\nML.Distance = require('ml-distance').distance;\nML.Similarity = require('ml-distance').similarity;\nML.distanceMatrix = require('ml-distance-matrix');\nML.XSadd = require('ml-xsadd');\n\n// Statistics\nML.Performance = require('ml-performance');\n\n// Data preprocessing\nML.savitzkyGolay = require('ml-savitzky-golay');\nML.savitzkyGolayGeneralized = require('ml-savitzky-golay-generalized');\n\n// Utility\nML.BitArray = require('ml-bit-array');\nML.HashTable = require('ml-hash-table');\nML.padArray = require('ml-pad-array');\nML.binarySearch = require('binary-search');\nML.numSort = require('num-sort');\nML.Random = require('ml-random');\n\n// Undocumented/deprecated packages\nML.ArrayUtils = require('ml-array-utils');\nML.Regression = require('ml-regression');\nML.MatrixUtil = require('ml-matrix');\nML.ArrayStat = require('ml-stat').array;\nML.MatrixStat = require('ml-stat').matrix;\n\nML.Array = {\n    min: require('ml-array-min').default,\n    max: require('ml-array-max').default,\n    median: require('ml-array-median').default,\n    mean: require('ml-array-mean').default,\n    mode: require('ml-array-mode').default,\n    rescale: require('ml-array-rescale').default,\n    standardDeviation: require('ml-array-standard-deviation').default,\n    variance: require('ml-array-variance').default,\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Matrix from 'ml-matrix';\nimport Tree from './TreeNode';\n\nconst defaultOptions = {\n    gainFunction: 'gini',\n    splitFunction: 'mean',\n    minNumSamples: 3,\n    maxDepth: Infinity\n};\n\nexport class DecisionTreeClassifier {\n\n    /**\n     * Create new Decision Tree Classifier with CART implementation with the given options\n     * @param {object} options\n     * @param {string} [options.gainFunction=\"gini\"] - gain function to get the best split, \"gini\" the only one supported.\n     * @param {string} [options.splitFunction=\"mean\"] - given two integers from a split feature, get the value to split, \"mean\" the only one supported.\n     * @param {number} [options.minNumSamples=3] - minimum number of samples to create a leaf node to decide a class.\n     * @param {number} [options.maxDepth=Infinity] - Max depth of the tree.\n     * @param {object} model - for load purposes.\n     * @constructor\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.options = model.options;\n            this.root = new Tree(model.options);\n            this.root.setNodeParameters(model.root);\n        } else {\n            this.options = Object.assign({}, defaultOptions, options);\n            this.options.kind = 'classifier';\n        }\n    }\n\n    /**\n     * Train the decision tree with the given training set and labels.\n     * @param {Matrix|MatrixTransposeView|Array} trainingSet\n     * @param {Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        this.root = new Tree(this.options);\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        this.root.train(trainingSet, trainingLabels, 0, null);\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Matrix|MatrixTransposeView|Array} toPredict\n     * @return {Array} predictions\n     */\n    predict(toPredict) {\n        toPredict = Matrix.checkMatrix(toPredict);\n        var predictions = new Array(toPredict.rows);\n\n        for (var i = 0; i < toPredict.rows; ++i) {\n            predictions[i] = this.root.classify(toPredict.getRow(i)).maxRowIndex(0)[1];\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            options: this.options,\n            root: this.root,\n            name: 'DTClassifier'\n        };\n    }\n\n    /**\n     * Load a Decision tree classifier with the given model.\n     * @param {object} model\n     * @return {DecisionTreeClassifier}\n     */\n    static load(model) {\n        if (model.name !== 'DTClassifier') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n\n        return new DecisionTreeClassifier(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/DecisionTreeClassifier.js","import BaseView from './base';\n\nexport default class MatrixTransposeView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.columns, matrix.rows);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(columnIndex, rowIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(columnIndex, rowIndex);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/transpose.js","import BaseView from './base';\n\nexport default class MatrixRowView extends BaseView {\n  constructor(matrix, row) {\n    super(matrix, 1, matrix.columns);\n    this.row = row;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.row, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.row, columnIndex);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/row.js","import { checkRange } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixSubView extends BaseView {\n  constructor(matrix, startRow, endRow, startColumn, endColumn) {\n    checkRange(matrix, startRow, endRow, startColumn, endColumn);\n    super(matrix, endRow - startRow + 1, endColumn - startColumn + 1);\n    this.startRow = startRow;\n    this.startColumn = startColumn;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n      value\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/sub.js","import { checkIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixSelectionView extends BaseView {\n  constructor(matrix, rowIndices, columnIndices) {\n    var indices = checkIndices(matrix, rowIndices, columnIndices);\n    super(matrix, indices.row.length, indices.column.length);\n    this.rowIndices = indices.row;\n    this.columnIndices = indices.column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n      value\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex]\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/selection.js","import { checkRowIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixRowSelectionView extends BaseView {\n  constructor(matrix, rowIndices) {\n    rowIndices = checkRowIndices(matrix, rowIndices);\n    super(matrix, rowIndices.length, matrix.columns);\n    this.rowIndices = rowIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rowIndices[rowIndex], columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rowIndices[rowIndex], columnIndex);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/rowSelection.js","import { checkColumnIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixColumnSelectionView extends BaseView {\n  constructor(matrix, columnIndices) {\n    columnIndices = checkColumnIndices(matrix, columnIndices);\n    super(matrix, matrix.rows, columnIndices.length);\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columnIndices[columnIndex], value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columnIndices[columnIndex]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/columnSelection.js","import BaseView from './base';\n\nexport default class MatrixColumnView extends BaseView {\n  constructor(matrix, column) {\n    super(matrix, matrix.rows, 1);\n    this.column = column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.column, value);\n    return this;\n  }\n\n  get(rowIndex) {\n    return this.matrix.get(rowIndex, this.column);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/column.js","import BaseView from './base';\n\nexport default class MatrixFlipRowView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rows - rowIndex - 1, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rows - rowIndex - 1, columnIndex);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/flipRow.js","import BaseView from './base';\n\nexport default class MatrixFlipColumnView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columns - columnIndex - 1, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columns - columnIndex - 1);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/views/flipColumn.js","import WrapperMatrix1D from './WrapperMatrix1D';\nimport WrapperMatrix2D from './WrapperMatrix2D';\n\n/**\n * @param {Array<Array<number>>|Array<number>} array\n * @param {object} [options]\n * @param {object} [options.rows = 1]\n * @return {WrapperMatrix1D|WrapperMatrix2D}\n */\nexport function wrap(array, options) {\n  if (Array.isArray(array)) {\n    if (array[0] && Array.isArray(array[0])) {\n      return new WrapperMatrix2D(array);\n    } else {\n      return new WrapperMatrix1D(array, options);\n    }\n  } else {\n    throw new Error('the argument is not an array');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/wrap/wrap.js","import LuDecomposition from './dc/lu';\nimport QrDecomposition from './dc/qr';\nimport SingularValueDecomposition from './dc/svd';\n\nimport { Matrix, WrapperMatrix2D } from './index';\n\n/**\n * Computes the inverse of a Matrix\n * @param {Matrix} matrix\n * @param {boolean} [useSVD=false]\n * @return {Matrix}\n */\nexport function inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\n/**\n *\n * @param {Matrix} leftHandSide\n * @param {Matrix} rightHandSide\n * @param {boolean} [useSVD = false]\n * @return {Matrix}\n */\nexport function solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/decompositions.js","import max from 'ml-array-max';\n\nimport Matrix from './matrix';\nimport SingularValueDecomposition from './dc/svd';\n\n// function used by rowsDependencies\nfunction xrange(n, exception) {\n  var range = [];\n  for (var i = 0; i < n; i++) {\n    if (i !== exception) {\n      range.push(i);\n    }\n  }\n  return range;\n}\n\n// function used by rowsDependencies\nfunction dependenciesOneRow(\n  error,\n  matrix,\n  index,\n  thresholdValue = 10e-10,\n  thresholdError = 10e-10\n) {\n  if (error > thresholdError) {\n    return new Array(matrix.rows + 1).fill(0);\n  } else {\n    var returnArray = matrix.addRow(index, [0]);\n    for (var i = 0; i < returnArray.rows; i++) {\n      if (Math.abs(returnArray.get(i, 0)) < thresholdValue) {\n        returnArray.set(i, 0, 0);\n      }\n    }\n    return returnArray.to1DArray();\n  }\n}\n\n/**\n * Creates a matrix which represents the dependencies between rows.\n * If a row is a linear combination of others rows, the result will be a row with the coefficients of this combination.\n * For example : for A = [[2, 0, 0, 1], [0, 1, 6, 0], [0, 3, 0, 1], [0, 0, 1, 0], [0, 1, 2, 0]], the result will be [[0, 0, 0, 0, 0], [0, 0, 0, 4, 1], [0, 0, 0, 0, 0], [0, 0.25, 0, 0, -0.25], [0, 1, 0, -4, 0]]\n * @param {Matrix} matrix\n * @param {Object} [options] includes thresholdValue and thresholdError.\n * @param {number} [options.thresholdValue = 10e-10] If an absolute value is inferior to this threshold, it will equals zero.\n * @param {number} [options.thresholdError = 10e-10] If the error is inferior to that threshold, the linear combination found is accepted and the row is dependent from other rows.\n * @return {Matrix} the matrix which represents the dependencies between rows.\n */\n\nexport function linearDependencies(matrix, options = {}) {\n  const { thresholdValue = 10e-10, thresholdError = 10e-10 } = options;\n\n  var n = matrix.rows;\n  var results = new Matrix(n, n);\n\n  for (var i = 0; i < n; i++) {\n    var b = Matrix.columnVector(matrix.getRow(i));\n    var Abis = matrix.subMatrixRow(xrange(n, i)).transposeView();\n    var svd = new SingularValueDecomposition(Abis);\n    var x = svd.solve(b);\n    var error = max(\n      Matrix.sub(b, Abis.mmul(x))\n        .abs()\n        .to1DArray()\n    );\n    results.setRow(\n      i,\n      dependenciesOneRow(error, x, i, thresholdValue, thresholdError)\n    );\n  }\n  return results;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/linearDependencies.js","import { Matrix, WrapperMatrix2D } from '../index';\n\nimport { hypotenuse, getFilled2DArray } from './util';\n\n/**\n * @class EigenvalueDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/EigenvalueDecomposition.cs\n * @param {Matrix} matrix\n * @param {object} [options]\n * @param {boolean} [options.assumeSymmetric=false]\n */\nexport default class EigenvalueDecomposition {\n  constructor(matrix, options = {}) {\n    const { assumeSymmetric = false } = options;\n\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n    if (!matrix.isSquare()) {\n      throw new Error('Matrix is not a square matrix');\n    }\n\n    var n = matrix.columns;\n    var V = getFilled2DArray(n, n, 0);\n    var d = new Array(n);\n    var e = new Array(n);\n    var value = matrix;\n    var i, j;\n\n    var isSymmetric = false;\n    if (assumeSymmetric) {\n      isSymmetric = true;\n    } else {\n      isSymmetric = matrix.isSymmetric();\n    }\n\n    if (isSymmetric) {\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          V[i][j] = value.get(i, j);\n        }\n      }\n      tred2(n, e, d, V);\n      tql2(n, e, d, V);\n    } else {\n      var H = getFilled2DArray(n, n, 0);\n      var ort = new Array(n);\n      for (j = 0; j < n; j++) {\n        for (i = 0; i < n; i++) {\n          H[i][j] = value.get(i, j);\n        }\n      }\n      orthes(n, H, ort, V);\n      hqr2(n, e, d, V, H);\n    }\n\n    this.n = n;\n    this.e = e;\n    this.d = d;\n    this.V = V;\n  }\n\n  /**\n   *\n   * @return {Array<number>}\n   */\n  get realEigenvalues() {\n    return this.d;\n  }\n\n  /**\n   *\n   * @return {Array<number>}\n   */\n  get imaginaryEigenvalues() {\n    return this.e;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get eigenvectorMatrix() {\n    if (!Matrix.isMatrix(this.V)) {\n      this.V = new Matrix(this.V);\n    }\n    return this.V;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get diagonalMatrix() {\n    var n = this.n;\n    var e = this.e;\n    var d = this.d;\n    var X = new Matrix(n, n);\n    var i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        X[i][j] = 0;\n      }\n      X[i][i] = d[i];\n      if (e[i] > 0) {\n        X[i][i + 1] = e[i];\n      } else if (e[i] < 0) {\n        X[i][i - 1] = e[i];\n      }\n    }\n    return X;\n  }\n}\n\nfunction tred2(n, e, d, V) {\n  var f, g, h, i, j, k, hh, scale;\n\n  for (j = 0; j < n; j++) {\n    d[j] = V[n - 1][j];\n  }\n\n  for (i = n - 1; i > 0; i--) {\n    scale = 0;\n    h = 0;\n    for (k = 0; k < i; k++) {\n      scale = scale + Math.abs(d[k]);\n    }\n\n    if (scale === 0) {\n      e[i] = d[i - 1];\n      for (j = 0; j < i; j++) {\n        d[j] = V[i - 1][j];\n        V[i][j] = 0;\n        V[j][i] = 0;\n      }\n    } else {\n      for (k = 0; k < i; k++) {\n        d[k] /= scale;\n        h += d[k] * d[k];\n      }\n\n      f = d[i - 1];\n      g = Math.sqrt(h);\n      if (f > 0) {\n        g = -g;\n      }\n\n      e[i] = scale * g;\n      h = h - f * g;\n      d[i - 1] = f - g;\n      for (j = 0; j < i; j++) {\n        e[j] = 0;\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        V[j][i] = f;\n        g = e[j] + V[j][j] * f;\n        for (k = j + 1; k <= i - 1; k++) {\n          g += V[k][j] * d[k];\n          e[k] += V[k][j] * f;\n        }\n        e[j] = g;\n      }\n\n      f = 0;\n      for (j = 0; j < i; j++) {\n        e[j] /= h;\n        f += e[j] * d[j];\n      }\n\n      hh = f / (h + h);\n      for (j = 0; j < i; j++) {\n        e[j] -= hh * d[j];\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        g = e[j];\n        for (k = j; k <= i - 1; k++) {\n          V[k][j] -= f * e[k] + g * d[k];\n        }\n        d[j] = V[i - 1][j];\n        V[i][j] = 0;\n      }\n    }\n    d[i] = h;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    V[n - 1][i] = V[i][i];\n    V[i][i] = 1;\n    h = d[i + 1];\n    if (h !== 0) {\n      for (k = 0; k <= i; k++) {\n        d[k] = V[k][i + 1] / h;\n      }\n\n      for (j = 0; j <= i; j++) {\n        g = 0;\n        for (k = 0; k <= i; k++) {\n          g += V[k][i + 1] * V[k][j];\n        }\n        for (k = 0; k <= i; k++) {\n          V[k][j] -= g * d[k];\n        }\n      }\n    }\n\n    for (k = 0; k <= i; k++) {\n      V[k][i + 1] = 0;\n    }\n  }\n\n  for (j = 0; j < n; j++) {\n    d[j] = V[n - 1][j];\n    V[n - 1][j] = 0;\n  }\n\n  V[n - 1][n - 1] = 1;\n  e[0] = 0;\n}\n\nfunction tql2(n, e, d, V) {\n  var g, h, i, j, k, l, m, p, r, dl1, c, c2, c3, el1, s, s2, iter;\n\n  for (i = 1; i < n; i++) {\n    e[i - 1] = e[i];\n  }\n\n  e[n - 1] = 0;\n\n  var f = 0;\n  var tst1 = 0;\n  var eps = Number.EPSILON;\n\n  for (l = 0; l < n; l++) {\n    tst1 = Math.max(tst1, Math.abs(d[l]) + Math.abs(e[l]));\n    m = l;\n    while (m < n) {\n      if (Math.abs(e[m]) <= eps * tst1) {\n        break;\n      }\n      m++;\n    }\n\n    if (m > l) {\n      iter = 0;\n      do {\n        iter = iter + 1;\n\n        g = d[l];\n        p = (d[l + 1] - g) / (2 * e[l]);\n        r = hypotenuse(p, 1);\n        if (p < 0) {\n          r = -r;\n        }\n\n        d[l] = e[l] / (p + r);\n        d[l + 1] = e[l] * (p + r);\n        dl1 = d[l + 1];\n        h = g - d[l];\n        for (i = l + 2; i < n; i++) {\n          d[i] -= h;\n        }\n\n        f = f + h;\n\n        p = d[m];\n        c = 1;\n        c2 = c;\n        c3 = c;\n        el1 = e[l + 1];\n        s = 0;\n        s2 = 0;\n        for (i = m - 1; i >= l; i--) {\n          c3 = c2;\n          c2 = c;\n          s2 = s;\n          g = c * e[i];\n          h = c * p;\n          r = hypotenuse(p, e[i]);\n          e[i + 1] = s * r;\n          s = e[i] / r;\n          c = p / r;\n          p = c * d[i] - s * g;\n          d[i + 1] = h + s * (c * g + s * d[i]);\n\n          for (k = 0; k < n; k++) {\n            h = V[k][i + 1];\n            V[k][i + 1] = s * V[k][i] + c * h;\n            V[k][i] = c * V[k][i] - s * h;\n          }\n        }\n\n        p = -s * s2 * c3 * el1 * e[l] / dl1;\n        e[l] = s * p;\n        d[l] = c * p;\n      } while (Math.abs(e[l]) > eps * tst1);\n    }\n    d[l] = d[l] + f;\n    e[l] = 0;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    k = i;\n    p = d[i];\n    for (j = i + 1; j < n; j++) {\n      if (d[j] < p) {\n        k = j;\n        p = d[j];\n      }\n    }\n\n    if (k !== i) {\n      d[k] = d[i];\n      d[i] = p;\n      for (j = 0; j < n; j++) {\n        p = V[j][i];\n        V[j][i] = V[j][k];\n        V[j][k] = p;\n      }\n    }\n  }\n}\n\nfunction orthes(n, H, ort, V) {\n  var low = 0;\n  var high = n - 1;\n  var f, g, h, i, j, m;\n  var scale;\n\n  for (m = low + 1; m <= high - 1; m++) {\n    scale = 0;\n    for (i = m; i <= high; i++) {\n      scale = scale + Math.abs(H[i][m - 1]);\n    }\n\n    if (scale !== 0) {\n      h = 0;\n      for (i = high; i >= m; i--) {\n        ort[i] = H[i][m - 1] / scale;\n        h += ort[i] * ort[i];\n      }\n\n      g = Math.sqrt(h);\n      if (ort[m] > 0) {\n        g = -g;\n      }\n\n      h = h - ort[m] * g;\n      ort[m] = ort[m] - g;\n\n      for (j = m; j < n; j++) {\n        f = 0;\n        for (i = high; i >= m; i--) {\n          f += ort[i] * H[i][j];\n        }\n\n        f = f / h;\n        for (i = m; i <= high; i++) {\n          H[i][j] -= f * ort[i];\n        }\n      }\n\n      for (i = 0; i <= high; i++) {\n        f = 0;\n        for (j = high; j >= m; j--) {\n          f += ort[j] * H[i][j];\n        }\n\n        f = f / h;\n        for (j = m; j <= high; j++) {\n          H[i][j] -= f * ort[j];\n        }\n      }\n\n      ort[m] = scale * ort[m];\n      H[m][m - 1] = scale * g;\n    }\n  }\n\n  for (i = 0; i < n; i++) {\n    for (j = 0; j < n; j++) {\n      V[i][j] = i === j ? 1 : 0;\n    }\n  }\n\n  for (m = high - 1; m >= low + 1; m--) {\n    if (H[m][m - 1] !== 0) {\n      for (i = m + 1; i <= high; i++) {\n        ort[i] = H[i][m - 1];\n      }\n\n      for (j = m; j <= high; j++) {\n        g = 0;\n        for (i = m; i <= high; i++) {\n          g += ort[i] * V[i][j];\n        }\n\n        g = g / ort[m] / H[m][m - 1];\n        for (i = m; i <= high; i++) {\n          V[i][j] += g * ort[i];\n        }\n      }\n    }\n  }\n}\n\nfunction hqr2(nn, e, d, V, H) {\n  var n = nn - 1;\n  var low = 0;\n  var high = nn - 1;\n  var eps = Number.EPSILON;\n  var exshift = 0;\n  var norm = 0;\n  var p = 0;\n  var q = 0;\n  var r = 0;\n  var s = 0;\n  var z = 0;\n  var iter = 0;\n  var i, j, k, l, m, t, w, x, y;\n  var ra, sa, vr, vi;\n  var notlast, cdivres;\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      d[i] = H[i][i];\n      e[i] = 0;\n    }\n\n    for (j = Math.max(i - 1, 0); j < nn; j++) {\n      norm = norm + Math.abs(H[i][j]);\n    }\n  }\n\n  while (n >= low) {\n    l = n;\n    while (l > low) {\n      s = Math.abs(H[l - 1][l - 1]) + Math.abs(H[l][l]);\n      if (s === 0) {\n        s = norm;\n      }\n      if (Math.abs(H[l][l - 1]) < eps * s) {\n        break;\n      }\n      l--;\n    }\n\n    if (l === n) {\n      H[n][n] = H[n][n] + exshift;\n      d[n] = H[n][n];\n      e[n] = 0;\n      n--;\n      iter = 0;\n    } else if (l === n - 1) {\n      w = H[n][n - 1] * H[n - 1][n];\n      p = (H[n - 1][n - 1] - H[n][n]) / 2;\n      q = p * p + w;\n      z = Math.sqrt(Math.abs(q));\n      H[n][n] = H[n][n] + exshift;\n      H[n - 1][n - 1] = H[n - 1][n - 1] + exshift;\n      x = H[n][n];\n\n      if (q >= 0) {\n        z = p >= 0 ? p + z : p - z;\n        d[n - 1] = x + z;\n        d[n] = d[n - 1];\n        if (z !== 0) {\n          d[n] = x - w / z;\n        }\n        e[n - 1] = 0;\n        e[n] = 0;\n        x = H[n][n - 1];\n        s = Math.abs(x) + Math.abs(z);\n        p = x / s;\n        q = z / s;\n        r = Math.sqrt(p * p + q * q);\n        p = p / r;\n        q = q / r;\n\n        for (j = n - 1; j < nn; j++) {\n          z = H[n - 1][j];\n          H[n - 1][j] = q * z + p * H[n][j];\n          H[n][j] = q * H[n][j] - p * z;\n        }\n\n        for (i = 0; i <= n; i++) {\n          z = H[i][n - 1];\n          H[i][n - 1] = q * z + p * H[i][n];\n          H[i][n] = q * H[i][n] - p * z;\n        }\n\n        for (i = low; i <= high; i++) {\n          z = V[i][n - 1];\n          V[i][n - 1] = q * z + p * V[i][n];\n          V[i][n] = q * V[i][n] - p * z;\n        }\n      } else {\n        d[n - 1] = x + p;\n        d[n] = x + p;\n        e[n - 1] = z;\n        e[n] = -z;\n      }\n\n      n = n - 2;\n      iter = 0;\n    } else {\n      x = H[n][n];\n      y = 0;\n      w = 0;\n      if (l < n) {\n        y = H[n - 1][n - 1];\n        w = H[n][n - 1] * H[n - 1][n];\n      }\n\n      if (iter === 10) {\n        exshift += x;\n        for (i = low; i <= n; i++) {\n          H[i][i] -= x;\n        }\n        s = Math.abs(H[n][n - 1]) + Math.abs(H[n - 1][n - 2]);\n        x = y = 0.75 * s;\n        w = -0.4375 * s * s;\n      }\n\n      if (iter === 30) {\n        s = (y - x) / 2;\n        s = s * s + w;\n        if (s > 0) {\n          s = Math.sqrt(s);\n          if (y < x) {\n            s = -s;\n          }\n          s = x - w / ((y - x) / 2 + s);\n          for (i = low; i <= n; i++) {\n            H[i][i] -= s;\n          }\n          exshift += s;\n          x = y = w = 0.964;\n        }\n      }\n\n      iter = iter + 1;\n\n      m = n - 2;\n      while (m >= l) {\n        z = H[m][m];\n        r = x - z;\n        s = y - z;\n        p = (r * s - w) / H[m + 1][m] + H[m][m + 1];\n        q = H[m + 1][m + 1] - z - r - s;\n        r = H[m + 2][m + 1];\n        s = Math.abs(p) + Math.abs(q) + Math.abs(r);\n        p = p / s;\n        q = q / s;\n        r = r / s;\n        if (m === l) {\n          break;\n        }\n        if (\n          Math.abs(H[m][m - 1]) * (Math.abs(q) + Math.abs(r)) <\n          eps *\n            (Math.abs(p) *\n              (Math.abs(H[m - 1][m - 1]) +\n                Math.abs(z) +\n                Math.abs(H[m + 1][m + 1])))\n        ) {\n          break;\n        }\n        m--;\n      }\n\n      for (i = m + 2; i <= n; i++) {\n        H[i][i - 2] = 0;\n        if (i > m + 2) {\n          H[i][i - 3] = 0;\n        }\n      }\n\n      for (k = m; k <= n - 1; k++) {\n        notlast = k !== n - 1;\n        if (k !== m) {\n          p = H[k][k - 1];\n          q = H[k + 1][k - 1];\n          r = notlast ? H[k + 2][k - 1] : 0;\n          x = Math.abs(p) + Math.abs(q) + Math.abs(r);\n          if (x !== 0) {\n            p = p / x;\n            q = q / x;\n            r = r / x;\n          }\n        }\n\n        if (x === 0) {\n          break;\n        }\n\n        s = Math.sqrt(p * p + q * q + r * r);\n        if (p < 0) {\n          s = -s;\n        }\n\n        if (s !== 0) {\n          if (k !== m) {\n            H[k][k - 1] = -s * x;\n          } else if (l !== m) {\n            H[k][k - 1] = -H[k][k - 1];\n          }\n\n          p = p + s;\n          x = p / s;\n          y = q / s;\n          z = r / s;\n          q = q / p;\n          r = r / p;\n\n          for (j = k; j < nn; j++) {\n            p = H[k][j] + q * H[k + 1][j];\n            if (notlast) {\n              p = p + r * H[k + 2][j];\n              H[k + 2][j] = H[k + 2][j] - p * z;\n            }\n\n            H[k][j] = H[k][j] - p * x;\n            H[k + 1][j] = H[k + 1][j] - p * y;\n          }\n\n          for (i = 0; i <= Math.min(n, k + 3); i++) {\n            p = x * H[i][k] + y * H[i][k + 1];\n            if (notlast) {\n              p = p + z * H[i][k + 2];\n              H[i][k + 2] = H[i][k + 2] - p * r;\n            }\n\n            H[i][k] = H[i][k] - p;\n            H[i][k + 1] = H[i][k + 1] - p * q;\n          }\n\n          for (i = low; i <= high; i++) {\n            p = x * V[i][k] + y * V[i][k + 1];\n            if (notlast) {\n              p = p + z * V[i][k + 2];\n              V[i][k + 2] = V[i][k + 2] - p * r;\n            }\n\n            V[i][k] = V[i][k] - p;\n            V[i][k + 1] = V[i][k + 1] - p * q;\n          }\n        }\n      }\n    }\n  }\n\n  if (norm === 0) {\n    return;\n  }\n\n  for (n = nn - 1; n >= 0; n--) {\n    p = d[n];\n    q = e[n];\n\n    if (q === 0) {\n      l = n;\n      H[n][n] = 1;\n      for (i = n - 1; i >= 0; i--) {\n        w = H[i][i] - p;\n        r = 0;\n        for (j = l; j <= n; j++) {\n          r = r + H[i][j] * H[j][n];\n        }\n\n        if (e[i] < 0) {\n          z = w;\n          s = r;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            H[i][n] = w !== 0 ? -r / w : -r / (eps * norm);\n          } else {\n            x = H[i][i + 1];\n            y = H[i + 1][i];\n            q = (d[i] - p) * (d[i] - p) + e[i] * e[i];\n            t = (x * s - z * r) / q;\n            H[i][n] = t;\n            H[i + 1][n] =\n              Math.abs(x) > Math.abs(z) ? (-r - w * t) / x : (-s - y * t) / z;\n          }\n\n          t = Math.abs(H[i][n]);\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H[j][n] = H[j][n] / t;\n            }\n          }\n        }\n      }\n    } else if (q < 0) {\n      l = n - 1;\n\n      if (Math.abs(H[n][n - 1]) > Math.abs(H[n - 1][n])) {\n        H[n - 1][n - 1] = q / H[n][n - 1];\n        H[n - 1][n] = -(H[n][n] - p) / H[n][n - 1];\n      } else {\n        cdivres = cdiv(0, -H[n - 1][n], H[n - 1][n - 1] - p, q);\n        H[n - 1][n - 1] = cdivres[0];\n        H[n - 1][n] = cdivres[1];\n      }\n\n      H[n][n - 1] = 0;\n      H[n][n] = 1;\n      for (i = n - 2; i >= 0; i--) {\n        ra = 0;\n        sa = 0;\n        for (j = l; j <= n; j++) {\n          ra = ra + H[i][j] * H[j][n - 1];\n          sa = sa + H[i][j] * H[j][n];\n        }\n\n        w = H[i][i] - p;\n\n        if (e[i] < 0) {\n          z = w;\n          r = ra;\n          s = sa;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            cdivres = cdiv(-ra, -sa, w, q);\n            H[i][n - 1] = cdivres[0];\n            H[i][n] = cdivres[1];\n          } else {\n            x = H[i][i + 1];\n            y = H[i + 1][i];\n            vr = (d[i] - p) * (d[i] - p) + e[i] * e[i] - q * q;\n            vi = (d[i] - p) * 2 * q;\n            if (vr === 0 && vi === 0) {\n              vr =\n                eps *\n                norm *\n                (Math.abs(w) +\n                  Math.abs(q) +\n                  Math.abs(x) +\n                  Math.abs(y) +\n                  Math.abs(z));\n            }\n            cdivres = cdiv(\n              x * r - z * ra + q * sa,\n              x * s - z * sa - q * ra,\n              vr,\n              vi\n            );\n            H[i][n - 1] = cdivres[0];\n            H[i][n] = cdivres[1];\n            if (Math.abs(x) > Math.abs(z) + Math.abs(q)) {\n              H[i + 1][n - 1] = (-ra - w * H[i][n - 1] + q * H[i][n]) / x;\n              H[i + 1][n] = (-sa - w * H[i][n] - q * H[i][n - 1]) / x;\n            } else {\n              cdivres = cdiv(-r - y * H[i][n - 1], -s - y * H[i][n], z, q);\n              H[i + 1][n - 1] = cdivres[0];\n              H[i + 1][n] = cdivres[1];\n            }\n          }\n\n          t = Math.max(Math.abs(H[i][n - 1]), Math.abs(H[i][n]));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H[j][n - 1] = H[j][n - 1] / t;\n              H[j][n] = H[j][n] / t;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      for (j = i; j < nn; j++) {\n        V[i][j] = H[i][j];\n      }\n    }\n  }\n\n  for (j = nn - 1; j >= low; j--) {\n    for (i = low; i <= high; i++) {\n      z = 0;\n      for (k = low; k <= Math.min(j, high); k++) {\n        z = z + V[i][k] * H[k][j];\n      }\n      V[i][j] = z;\n    }\n  }\n}\n\nfunction cdiv(xr, xi, yr, yi) {\n  var r, d;\n  if (Math.abs(yr) > Math.abs(yi)) {\n    r = yi / yr;\n    d = yr + r * yi;\n    return [(xr + r * xi) / d, (xi - r * xr) / d];\n  } else {\n    r = yr / yi;\n    d = yi + r * yr;\n    return [(r * xr + xi) / d, (r * xi - xr) / d];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/evd.js","import { Matrix, WrapperMatrix2D } from '../index';\n\n/**\n * @class CholeskyDecomposition\n * @link https://github.com/lutzroeder/Mapack/blob/master/Source/CholeskyDecomposition.cs\n * @param {Matrix} value\n */\nexport default class CholeskyDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n    if (!value.isSymmetric()) {\n      throw new Error('Matrix is not symmetric');\n    }\n\n    var a = value;\n    var dimension = a.rows;\n    var l = new Matrix(dimension, dimension);\n    var positiveDefinite = true;\n    var i, j, k;\n\n    for (j = 0; j < dimension; j++) {\n      var Lrowj = l[j];\n      var d = 0;\n      for (k = 0; k < j; k++) {\n        var Lrowk = l[k];\n        var s = 0;\n        for (i = 0; i < k; i++) {\n          s += Lrowk[i] * Lrowj[i];\n        }\n        Lrowj[k] = s = (a.get(j, k) - s) / l[k][k];\n        d = d + s * s;\n      }\n\n      d = a.get(j, j) - d;\n\n      positiveDefinite &= d > 0;\n      l[j][j] = Math.sqrt(Math.max(d, 0));\n      for (k = j + 1; k < dimension; k++) {\n        l[j][k] = 0;\n      }\n    }\n\n    if (!positiveDefinite) {\n      throw new Error('Matrix is not positive definite');\n    }\n\n    this.L = l;\n  }\n\n  /**\n   *\n   * @param {Matrix} value\n   * @return {Matrix}\n   */\n  solve(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    var l = this.L;\n    var dimension = l.rows;\n\n    if (value.rows !== dimension) {\n      throw new Error('Matrix dimensions do not match');\n    }\n\n    var count = value.columns;\n    var B = value.clone();\n    var i, j, k;\n\n    for (k = 0; k < dimension; k++) {\n      for (j = 0; j < count; j++) {\n        for (i = 0; i < k; i++) {\n          B[k][j] -= B[i][j] * l[k][i];\n        }\n        B[k][j] /= l[k][k];\n      }\n    }\n\n    for (k = dimension - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        for (i = k + 1; i < dimension; i++) {\n          B[k][j] -= B[i][j] * l[i][k];\n        }\n        B[k][j] /= l[k][k];\n      }\n    }\n\n    return B;\n  }\n\n  /**\n   *\n   * @return {Matrix}\n   */\n  get lowerTriangularMatrix() {\n    return this.L;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-matrix/src/dc/cholesky.js","import Matrix from 'ml-matrix';\nimport meanArray from 'ml-array-mean';\n\n/**\n * @private\n * return an array of probabilities of each class\n * @param {Array} array - contains the classes\n * @param {number} numberOfClasses\n * @return {Matrix} - rowVector of probabilities.\n */\nexport function toDiscreteDistribution(array, numberOfClasses) {\n    var counts = new Array(numberOfClasses).fill(0);\n    for (var i = 0; i < array.length; ++i) {\n        counts[array[i]] += 1 / array.length;\n    }\n\n    return Matrix.rowVector(counts);\n}\n\n/**\n * @private\n * Retrieves the impurity of array of predictions\n * @param {Array} array - predictions.\n * @return {number} Gini impurity\n */\nexport function giniImpurity(array) {\n    if (array.length === 0) {\n        return 0;\n    }\n\n    var probabilities = toDiscreteDistribution(array, getNumberOfClasses(array))[0];\n\n    var sum = 0.0;\n    for (var i = 0; i < probabilities.length; ++i) {\n        sum += probabilities[i] * probabilities[i];\n    }\n\n    return 1 - sum;\n}\n\n/**\n * @private\n * Return the number of classes given the array of predictions.\n * @param {Array} array - predictions.\n * @return {number} Number of classes.\n */\nexport function getNumberOfClasses(array) {\n    return array.filter(function (val, i, arr) {\n        return arr.indexOf(val) === i;\n    }).length;\n}\n\n/**\n * @private\n * Calculates the Gini Gain of an array of predictions and those predictions splitted by a feature.\n * @para {Array} array - Predictions\n * @param {object} splitted - Object with elements \"greater\" and \"lesser\" that contains an array of predictions splitted.\n * @return {number} - Gini Gain.\n */\n\nexport function giniGain(array, splitted) {\n    var splitsImpurity = 0.0;\n    var splits = ['greater', 'lesser'];\n\n    for (var i = 0; i < splits.length; ++i) {\n        var currentSplit = splitted[splits[i]];\n        splitsImpurity += giniImpurity(currentSplit) * currentSplit.length / array.length;\n    }\n\n    return giniImpurity(array) - splitsImpurity;\n}\n\n/**\n * @private\n * Calculates the squared error of a predictions values.\n * @param {Array} array - predictions values\n * @return {number} squared error.\n */\nexport function squaredError(array) {\n    var l = array.length;\n\n    var m = meanArray(array);\n    var squaredError = 0.0;\n\n    for (var i = 0; i < l; ++i) {\n        var currentElement = array[i];\n        squaredError += (currentElement - m) * (currentElement - m);\n    }\n\n    return squaredError;\n}\n\n/**\n * @private\n * Calculates the sum of squared error of the two arrays that contains the splitted values.\n * @param {Array} array - this argument is no necessary but is used to fit with the main interface.\n * @param {object} splitted - Object with elements \"greater\" and \"lesser\" that contains an array of predictions splitted.\n * @return {number} - sum of squared errors.\n */\nexport function regressionError(array, splitted) {\n    var error = 0.0;\n    var splits = ['greater', 'lesser'];\n\n    for (var i = 0; i < splits.length; ++i) {\n        var currentSplit = splitted[splits[i]];\n        error += squaredError(currentSplit);\n    }\n    return error;\n}\n\n/**\n * @private\n * Split the training set and values from a given column of the training set if is less than a value\n * @param {Matrix} X - Training set.\n * @param {Array} y - Training values.\n * @param {number} column - Column to split.\n * @param {number} value - value to split the Training set and values.\n * @return {object} - Object that contains the splitted values.\n */\nexport function matrixSplitter(X, y, column, value) {\n    var lesserX = [];\n    var greaterX = [];\n    var lesserY = [];\n    var greaterY = [];\n\n    for (var i = 0; i < X.rows; ++i) {\n        if (X[i][column] < value) {\n            lesserX.push(X[i]);\n            lesserY.push(y[i]);\n        } else {\n            greaterX.push(X[i]);\n            greaterY.push(y[i]);\n        }\n    }\n\n    return {\n        greaterX: greaterX,\n        greaterY: greaterY,\n        lesserX: lesserX,\n        lesserY: lesserY\n    };\n}\n\n/**\n * @private\n * Calculates the mean between two values\n * @param {number} a\n * @param {number} b\n * @return {number}\n */\nexport function mean(a, b) {\n    return (a + b) / 2;\n}\n\n/**\n * @private\n * Returns a list of tuples that contains the i-th element of each array.\n * @param {Array} a\n * @param {Array} b\n * @return {Array} list of tuples.\n */\nexport function zip(a, b) {\n    if (a.length !== b.length) {\n        throw new TypeError('Error on zip: the size of a: ' + a.length + ' is different from b: ' + b.length);\n    }\n\n    var ret = new Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = [a[i], b[i]];\n    }\n\n    return ret;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/utils.js","import Matrix from 'ml-matrix';\nimport Tree from './TreeNode';\n\nconst defaultOptions = {\n    gainFunction: 'regression',\n    splitFunction: 'mean',\n    minNumSamples: 3,\n    maxDepth: Infinity\n};\n\nexport class DecisionTreeRegression {\n\n    /**\n     * Create new Decision Tree Regression with CART implementation with the given options.\n     * @param {object} options\n     * @param {string} [options.gainFunction=\"regression\"] - gain function to get the best split, \"regression\" the only one supported.\n     * @param {string} [options.splitFunction=\"mean\"] - given two integers from a split feature, get the value to split, \"mean\" the only one supported.\n     * @param {number} [options.minNumSamples=3] - minimum number of samples to create a leaf node to decide a class.\n     * @param {number} [options.maxDepth=Infinity] - Max depth of the tree.\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.options = model.options;\n            this.root = new Tree(model.options);\n            this.root.setNodeParameters(model.root);\n        } else {\n            this.options = Object.assign({}, defaultOptions, options);\n            this.options.kind = 'regression';\n        }\n    }\n\n    /**\n     * Train the decision tree with the given training set and values.\n     * @param {Matrix|MatrixTransposeView|Array} trainingSet\n     * @param {Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        this.root = new Tree(this.options);\n\n        if (trainingSet[0].length === undefined) trainingSet = Matrix.columnVector(trainingSet);\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        this.root.train(trainingSet, trainingValues, 0);\n    }\n\n    /**\n     * Predicts the values given the matrix to predict.\n     * @param {Matrix|MatrixTransposeView|Array} toPredict\n     * @return {Array} predictions\n     */\n    predict(toPredict) {\n        if (toPredict[0] !== undefined && toPredict[0].length === undefined) toPredict = Matrix.columnVector(toPredict);\n        toPredict = Matrix.checkMatrix(toPredict);\n\n        var predictions = new Array(toPredict.rows);\n        for (var i = 0; i < toPredict.rows; ++i) {\n            predictions[i] = this.root.classify(toPredict.getRow(i));\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            options: this.options,\n            root: this.root,\n            name: 'DTRegression'\n        };\n    }\n\n    /**\n     * Load a Decision tree regression with the given model.\n     * @param {object} model\n     * @return {DecisionTreeRegression}\n     */\n    static load(model) {\n        if (model.name !== 'DTRegression') {\n            throw new RangeError('Invalid model:' + model.name);\n        }\n\n        return new DecisionTreeRegression(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cart/src/DecisionTreeRegression.js","export { RandomForestClassifier } from './RandomForestClassifier';\nexport { RandomForestRegression } from './RandomForestRegression';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random-forest/src/index.js","import { RandomForestBase } from './RandomForestBase';\n\nconst defaultOptions = {\n  maxFeatures: 1.0,\n  replacement: true,\n  nEstimators: 10,\n  seed: 42,\n  useSampleBagging: false\n};\n\n/**\n * @class RandomForestClassifier\n * @augments RandomForestBase\n */\nexport class RandomForestClassifier extends RandomForestBase {\n  /**\n     * Create a new base random forest for a classifier or regression model.\n     * @constructor\n     * @param {object} options\n     * @param {number} [options.maxFeatures=1.0] - the number of features used on each estimator.\n     *        * if is an integer it selects maxFeatures elements over the sample features.\n     *        * if is a float between (0, 1), it takes the percentage of features.\n     * @param {boolean} [options.replacement=true] - use replacement over the sample features.\n     * @param {number} [options.seed=42] - seed for feature and samples selection, must be a 32-bit integer.\n     * @param {number} [options.nEstimators=10] - number of estimator to use.\n     * @param {object} [options.treeOptions={}] - options for the tree classifier, see [ml-cart]{@link https://mljs.github.io/decision-tree-cart/}\n     * @param {boolean} [options.useSampleBagging=false] - use bagging over training samples.\n     * @param {object} model - for load purposes.\n     */\n  constructor(options, model) {\n    if (options === true) {\n      super(true, model.baseModel);\n    } else {\n      options = Object.assign({}, defaultOptions, options);\n      options.isClassifier = true;\n      super(options);\n    }\n  }\n\n  /**\n     * retrieve the prediction given the selection method.\n     * @param {Array} values - predictions of the estimators.\n     * @return {number} prediction\n     */\n  selection(values) {\n    return mode(values);\n  }\n\n  /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n  toJSON() {\n    var baseModel = super.toJSON();\n    return {\n      baseModel: baseModel,\n      name: 'RFClassifier'\n    };\n  }\n\n  /**\n     * Load a Decision tree classifier with the given model.\n     * @param {object} model\n     * @return {RandomForestClassifier}\n     */\n  static load(model) {\n    if (model.name !== 'RFClassifier') {\n      throw new RangeError(`Invalid model: ${model.name}`);\n    }\n\n    return new RandomForestClassifier(true, model);\n  }\n}\n\n/**\n * Return the most repeated element on the array.\n * @param {Array} arr\n * @return {number} mode\n */\nfunction mode(arr) {\n  return arr.sort((a, b) =>\n    arr.filter((v) => v === a).length\n        - arr.filter((v) => v === b).length\n  ).pop();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random-forest/src/RandomForestClassifier.js","import Random from 'random-js';\nimport Matrix from 'ml-matrix';\n\nexport function checkFloat(n) {\n  return n > 0.0 && n <= 1.0;\n}\n\n/**\n * Select n with replacement elements on the training set and values, where n is the size of the training set.\n * @ignore\n * @param {Matrix} trainingSet\n * @param {Array} trainingValue\n * @param {number} seed - seed for the random selection, must be a 32-bit integer.\n * @return {object} with new X and y.\n */\nexport function examplesBaggingWithReplacement(trainingSet, trainingValue, seed) {\n  var engine = Random.engines.mt19937();\n  var distribution = Random.integer(0, trainingSet.rows - 1);\n  if (seed === undefined) {\n    engine = engine.autoSeed();\n  } else if (Number.isInteger(seed)) {\n    engine = engine.seed(seed);\n  } else {\n    throw new RangeError(`Expected seed must be undefined or integer not ${seed}`);\n  }\n\n  var Xr = new Array(trainingSet.rows);\n  var yr = new Array(trainingSet.rows);\n\n  for (var i = 0; i < trainingSet.rows; ++i) {\n    var index = distribution(engine);\n    Xr[i] = trainingSet[index];\n    yr[i] = trainingValue[index];\n  }\n\n  return {\n    X: new Matrix(Xr),\n    y: yr\n  };\n}\n\n/**\n * selects n features from the training set with or without replacement, returns the new training set and the indexes used.\n * @ignore\n * @param {Matrix} trainingSet\n * @param {number} n - features.\n * @param {boolean} replacement\n * @param {number} seed - seed for the random selection, must be a 32-bit integer.\n * @return {object}\n */\nexport function featureBagging(trainingSet, n, replacement, seed) {\n  if (trainingSet.columns < n) {\n    throw new RangeError('N should be less or equal to the number of columns of X');\n  }\n\n  var distribution = Random.integer(0, trainingSet.columns - 1);\n  var engine = Random.engines.mt19937();\n  if (seed === undefined) {\n    engine = engine.autoSeed();\n  } else if (Number.isInteger(seed)) {\n    engine = engine.seed(seed);\n  } else {\n    throw new RangeError(`Expected seed must be undefined or integer not ${seed}`);\n  }\n\n  var toRet = new Matrix(trainingSet.rows, n);\n\n  if (replacement) {\n    var usedIndex = new Array(n);\n    for (var i = 0; i < n; ++i) {\n      var index = distribution(engine);\n      usedIndex[i] = index;\n      toRet.setColumn(i, trainingSet.getColumn(index));\n    }\n  } else {\n    usedIndex = new Set();\n    index = distribution(engine);\n    for (i = 0; i < n; ++i) {\n      while (usedIndex.has(index)) {\n        index = distribution(engine);\n      }\n      toRet.setColumn(i, trainingSet.getColumn(index));\n      usedIndex.add(index);\n    }\n    usedIndex = Array.from(usedIndex);\n  }\n\n  return {\n    X: toRet,\n    usedIndex: usedIndex\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random-forest/src/utils.js","/*jshint eqnull:true*/\n(function (root) {\n  \"use strict\";\n\n  var GLOBAL_KEY = \"Random\";\n\n  var imul = (typeof Math.imul !== \"function\" || Math.imul(0xffffffff, 5) !== -5 ?\n    function (a, b) {\n      var ah = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return (al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0;\n    } :\n    Math.imul);\n\n  var stringRepeat = (typeof String.prototype.repeat === \"function\" && \"x\".repeat(3) === \"xxx\" ?\n    function (x, y) {\n      return x.repeat(y);\n    } : function (pattern, count) {\n      var result = \"\";\n      while (count > 0) {\n        if (count & 1) {\n          result += pattern;\n        }\n        count >>= 1;\n        pattern += pattern;\n      }\n      return result;\n    });\n\n  function Random(engine) {\n    if (!(this instanceof Random)) {\n      return new Random(engine);\n    }\n\n    if (engine == null) {\n      engine = Random.engines.nativeMath;\n    } else if (typeof engine !== \"function\") {\n      throw new TypeError(\"Expected engine to be a function, got \" + typeof engine);\n    }\n    this.engine = engine;\n  }\n  var proto = Random.prototype;\n\n  Random.engines = {\n    nativeMath: function () {\n      return (Math.random() * 0x100000000) | 0;\n    },\n    mt19937: (function (Int32Array) {\n      // http://en.wikipedia.org/wiki/Mersenne_twister\n      function refreshData(data) {\n        var k = 0;\n        var tmp = 0;\n        for (;\n          (k | 0) < 227; k = (k + 1) | 0) {\n          tmp = (data[k] & 0x80000000) | (data[(k + 1) | 0] & 0x7fffffff);\n          data[k] = data[(k + 397) | 0] ^ (tmp >>> 1) ^ ((tmp & 0x1) ? 0x9908b0df : 0);\n        }\n\n        for (;\n          (k | 0) < 623; k = (k + 1) | 0) {\n          tmp = (data[k] & 0x80000000) | (data[(k + 1) | 0] & 0x7fffffff);\n          data[k] = data[(k - 227) | 0] ^ (tmp >>> 1) ^ ((tmp & 0x1) ? 0x9908b0df : 0);\n        }\n\n        tmp = (data[623] & 0x80000000) | (data[0] & 0x7fffffff);\n        data[623] = data[396] ^ (tmp >>> 1) ^ ((tmp & 0x1) ? 0x9908b0df : 0);\n      }\n\n      function temper(value) {\n        value ^= value >>> 11;\n        value ^= (value << 7) & 0x9d2c5680;\n        value ^= (value << 15) & 0xefc60000;\n        return value ^ (value >>> 18);\n      }\n\n      function seedWithArray(data, source) {\n        var i = 1;\n        var j = 0;\n        var sourceLength = source.length;\n        var k = Math.max(sourceLength, 624) | 0;\n        var previous = data[0] | 0;\n        for (;\n          (k | 0) > 0; --k) {\n          data[i] = previous = ((data[i] ^ imul((previous ^ (previous >>> 30)), 0x0019660d)) + (source[j] | 0) + (j | 0)) | 0;\n          i = (i + 1) | 0;\n          ++j;\n          if ((i | 0) > 623) {\n            data[0] = data[623];\n            i = 1;\n          }\n          if (j >= sourceLength) {\n            j = 0;\n          }\n        }\n        for (k = 623;\n          (k | 0) > 0; --k) {\n          data[i] = previous = ((data[i] ^ imul((previous ^ (previous >>> 30)), 0x5d588b65)) - i) | 0;\n          i = (i + 1) | 0;\n          if ((i | 0) > 623) {\n            data[0] = data[623];\n            i = 1;\n          }\n        }\n        data[0] = 0x80000000;\n      }\n\n      function mt19937() {\n        var data = new Int32Array(624);\n        var index = 0;\n        var uses = 0;\n\n        function next() {\n          if ((index | 0) >= 624) {\n            refreshData(data);\n            index = 0;\n          }\n\n          var value = data[index];\n          index = (index + 1) | 0;\n          uses += 1;\n          return temper(value) | 0;\n        }\n        next.getUseCount = function() {\n          return uses;\n        };\n        next.discard = function (count) {\n          uses += count;\n          if ((index | 0) >= 624) {\n            refreshData(data);\n            index = 0;\n          }\n          while ((count - index) > 624) {\n            count -= 624 - index;\n            refreshData(data);\n            index = 0;\n          }\n          index = (index + count) | 0;\n          return next;\n        };\n        next.seed = function (initial) {\n          var previous = 0;\n          data[0] = previous = initial | 0;\n\n          for (var i = 1; i < 624; i = (i + 1) | 0) {\n            data[i] = previous = (imul((previous ^ (previous >>> 30)), 0x6c078965) + i) | 0;\n          }\n          index = 624;\n          uses = 0;\n          return next;\n        };\n        next.seedWithArray = function (source) {\n          next.seed(0x012bd6aa);\n          seedWithArray(data, source);\n          return next;\n        };\n        next.autoSeed = function () {\n          return next.seedWithArray(Random.generateEntropyArray());\n        };\n        return next;\n      }\n\n      return mt19937;\n    }(typeof Int32Array === \"function\" ? Int32Array : Array)),\n    browserCrypto: (typeof crypto !== \"undefined\" && typeof crypto.getRandomValues === \"function\" && typeof Int32Array === \"function\") ? (function () {\n      var data = null;\n      var index = 128;\n\n      return function () {\n        if (index >= 128) {\n          if (data === null) {\n            data = new Int32Array(128);\n          }\n          crypto.getRandomValues(data);\n          index = 0;\n        }\n\n        return data[index++] | 0;\n      };\n    }()) : null\n  };\n\n  Random.generateEntropyArray = function () {\n    var array = [];\n    var engine = Random.engines.nativeMath;\n    for (var i = 0; i < 16; ++i) {\n      array[i] = engine() | 0;\n    }\n    array.push(new Date().getTime() | 0);\n    return array;\n  };\n\n  function returnValue(value) {\n    return function () {\n      return value;\n    };\n  }\n\n  // [-0x80000000, 0x7fffffff]\n  Random.int32 = function (engine) {\n    return engine() | 0;\n  };\n  proto.int32 = function () {\n    return Random.int32(this.engine);\n  };\n\n  // [0, 0xffffffff]\n  Random.uint32 = function (engine) {\n    return engine() >>> 0;\n  };\n  proto.uint32 = function () {\n    return Random.uint32(this.engine);\n  };\n\n  // [0, 0x1fffffffffffff]\n  Random.uint53 = function (engine) {\n    var high = engine() & 0x1fffff;\n    var low = engine() >>> 0;\n    return (high * 0x100000000) + low;\n  };\n  proto.uint53 = function () {\n    return Random.uint53(this.engine);\n  };\n\n  // [0, 0x20000000000000]\n  Random.uint53Full = function (engine) {\n    while (true) {\n      var high = engine() | 0;\n      if (high & 0x200000) {\n        if ((high & 0x3fffff) === 0x200000 && (engine() | 0) === 0) {\n          return 0x20000000000000;\n        }\n      } else {\n        var low = engine() >>> 0;\n        return ((high & 0x1fffff) * 0x100000000) + low;\n      }\n    }\n  };\n  proto.uint53Full = function () {\n    return Random.uint53Full(this.engine);\n  };\n\n  // [-0x20000000000000, 0x1fffffffffffff]\n  Random.int53 = function (engine) {\n    var high = engine() | 0;\n    var low = engine() >>> 0;\n    return ((high & 0x1fffff) * 0x100000000) + low + (high & 0x200000 ? -0x20000000000000 : 0);\n  };\n  proto.int53 = function () {\n    return Random.int53(this.engine);\n  };\n\n  // [-0x20000000000000, 0x20000000000000]\n  Random.int53Full = function (engine) {\n    while (true) {\n      var high = engine() | 0;\n      if (high & 0x400000) {\n        if ((high & 0x7fffff) === 0x400000 && (engine() | 0) === 0) {\n          return 0x20000000000000;\n        }\n      } else {\n        var low = engine() >>> 0;\n        return ((high & 0x1fffff) * 0x100000000) + low + (high & 0x200000 ? -0x20000000000000 : 0);\n      }\n    }\n  };\n  proto.int53Full = function () {\n    return Random.int53Full(this.engine);\n  };\n\n  function add(generate, addend) {\n    if (addend === 0) {\n      return generate;\n    } else {\n      return function (engine) {\n        return generate(engine) + addend;\n      };\n    }\n  }\n\n  Random.integer = (function () {\n    function isPowerOfTwoMinusOne(value) {\n      return ((value + 1) & value) === 0;\n    }\n\n    function bitmask(masking) {\n      return function (engine) {\n        return engine() & masking;\n      };\n    }\n\n    function downscaleToLoopCheckedRange(range) {\n      var extendedRange = range + 1;\n      var maximum = extendedRange * Math.floor(0x100000000 / extendedRange);\n      return function (engine) {\n        var value = 0;\n        do {\n          value = engine() >>> 0;\n        } while (value >= maximum);\n        return value % extendedRange;\n      };\n    }\n\n    function downscaleToRange(range) {\n      if (isPowerOfTwoMinusOne(range)) {\n        return bitmask(range);\n      } else {\n        return downscaleToLoopCheckedRange(range);\n      }\n    }\n\n    function isEvenlyDivisibleByMaxInt32(value) {\n      return (value | 0) === 0;\n    }\n\n    function upscaleWithHighMasking(masking) {\n      return function (engine) {\n        var high = engine() & masking;\n        var low = engine() >>> 0;\n        return (high * 0x100000000) + low;\n      };\n    }\n\n    function upscaleToLoopCheckedRange(extendedRange) {\n      var maximum = extendedRange * Math.floor(0x20000000000000 / extendedRange);\n      return function (engine) {\n        var ret = 0;\n        do {\n          var high = engine() & 0x1fffff;\n          var low = engine() >>> 0;\n          ret = (high * 0x100000000) + low;\n        } while (ret >= maximum);\n        return ret % extendedRange;\n      };\n    }\n\n    function upscaleWithinU53(range) {\n      var extendedRange = range + 1;\n      if (isEvenlyDivisibleByMaxInt32(extendedRange)) {\n        var highRange = ((extendedRange / 0x100000000) | 0) - 1;\n        if (isPowerOfTwoMinusOne(highRange)) {\n          return upscaleWithHighMasking(highRange);\n        }\n      }\n      return upscaleToLoopCheckedRange(extendedRange);\n    }\n\n    function upscaleWithinI53AndLoopCheck(min, max) {\n      return function (engine) {\n        var ret = 0;\n        do {\n          var high = engine() | 0;\n          var low = engine() >>> 0;\n          ret = ((high & 0x1fffff) * 0x100000000) + low + (high & 0x200000 ? -0x20000000000000 : 0);\n        } while (ret < min || ret > max);\n        return ret;\n      };\n    }\n\n    return function (min, max) {\n      min = Math.floor(min);\n      max = Math.floor(max);\n      if (min < -0x20000000000000 || !isFinite(min)) {\n        throw new RangeError(\"Expected min to be at least \" + (-0x20000000000000));\n      } else if (max > 0x20000000000000 || !isFinite(max)) {\n        throw new RangeError(\"Expected max to be at most \" + 0x20000000000000);\n      }\n\n      var range = max - min;\n      if (range <= 0 || !isFinite(range)) {\n        return returnValue(min);\n      } else if (range === 0xffffffff) {\n        if (min === 0) {\n          return Random.uint32;\n        } else {\n          return add(Random.int32, min + 0x80000000);\n        }\n      } else if (range < 0xffffffff) {\n        return add(downscaleToRange(range), min);\n      } else if (range === 0x1fffffffffffff) {\n        return add(Random.uint53, min);\n      } else if (range < 0x1fffffffffffff) {\n        return add(upscaleWithinU53(range), min);\n      } else if (max - 1 - min === 0x1fffffffffffff) {\n        return add(Random.uint53Full, min);\n      } else if (min === -0x20000000000000 && max === 0x20000000000000) {\n        return Random.int53Full;\n      } else if (min === -0x20000000000000 && max === 0x1fffffffffffff) {\n        return Random.int53;\n      } else if (min === -0x1fffffffffffff && max === 0x20000000000000) {\n        return add(Random.int53, 1);\n      } else if (max === 0x20000000000000) {\n        return add(upscaleWithinI53AndLoopCheck(min - 1, max - 1), 1);\n      } else {\n        return upscaleWithinI53AndLoopCheck(min, max);\n      }\n    };\n  }());\n  proto.integer = function (min, max) {\n    return Random.integer(min, max)(this.engine);\n  };\n\n  // [0, 1] (floating point)\n  Random.realZeroToOneInclusive = function (engine) {\n    return Random.uint53Full(engine) / 0x20000000000000;\n  };\n  proto.realZeroToOneInclusive = function () {\n    return Random.realZeroToOneInclusive(this.engine);\n  };\n\n  // [0, 1) (floating point)\n  Random.realZeroToOneExclusive = function (engine) {\n    return Random.uint53(engine) / 0x20000000000000;\n  };\n  proto.realZeroToOneExclusive = function () {\n    return Random.realZeroToOneExclusive(this.engine);\n  };\n\n  Random.real = (function () {\n    function multiply(generate, multiplier) {\n      if (multiplier === 1) {\n        return generate;\n      } else if (multiplier === 0) {\n        return function () {\n          return 0;\n        };\n      } else {\n        return function (engine) {\n          return generate(engine) * multiplier;\n        };\n      }\n    }\n\n    return function (left, right, inclusive) {\n      if (!isFinite(left)) {\n        throw new RangeError(\"Expected left to be a finite number\");\n      } else if (!isFinite(right)) {\n        throw new RangeError(\"Expected right to be a finite number\");\n      }\n      return add(\n        multiply(\n          inclusive ? Random.realZeroToOneInclusive : Random.realZeroToOneExclusive,\n          right - left),\n        left);\n    };\n  }());\n  proto.real = function (min, max, inclusive) {\n    return Random.real(min, max, inclusive)(this.engine);\n  };\n\n  Random.bool = (function () {\n    function isLeastBitTrue(engine) {\n      return (engine() & 1) === 1;\n    }\n\n    function lessThan(generate, value) {\n      return function (engine) {\n        return generate(engine) < value;\n      };\n    }\n\n    function probability(percentage) {\n      if (percentage <= 0) {\n        return returnValue(false);\n      } else if (percentage >= 1) {\n        return returnValue(true);\n      } else {\n        var scaled = percentage * 0x100000000;\n        if (scaled % 1 === 0) {\n          return lessThan(Random.int32, (scaled - 0x80000000) | 0);\n        } else {\n          return lessThan(Random.uint53, Math.round(percentage * 0x20000000000000));\n        }\n      }\n    }\n\n    return function (numerator, denominator) {\n      if (denominator == null) {\n        if (numerator == null) {\n          return isLeastBitTrue;\n        }\n        return probability(numerator);\n      } else {\n        if (numerator <= 0) {\n          return returnValue(false);\n        } else if (numerator >= denominator) {\n          return returnValue(true);\n        }\n        return lessThan(Random.integer(0, denominator - 1), numerator);\n      }\n    };\n  }());\n  proto.bool = function (numerator, denominator) {\n    return Random.bool(numerator, denominator)(this.engine);\n  };\n\n  function toInteger(value) {\n    var number = +value;\n    if (number < 0) {\n      return Math.ceil(number);\n    } else {\n      return Math.floor(number);\n    }\n  }\n\n  function convertSliceArgument(value, length) {\n    if (value < 0) {\n      return Math.max(value + length, 0);\n    } else {\n      return Math.min(value, length);\n    }\n  }\n  Random.pick = function (engine, array, begin, end) {\n    var length = array.length;\n    var start = begin == null ? 0 : convertSliceArgument(toInteger(begin), length);\n    var finish = end === void 0 ? length : convertSliceArgument(toInteger(end), length);\n    if (start >= finish) {\n      return void 0;\n    }\n    var distribution = Random.integer(start, finish - 1);\n    return array[distribution(engine)];\n  };\n  proto.pick = function (array, begin, end) {\n    return Random.pick(this.engine, array, begin, end);\n  };\n\n  function returnUndefined() {\n    return void 0;\n  }\n  var slice = Array.prototype.slice;\n  Random.picker = function (array, begin, end) {\n    var clone = slice.call(array, begin, end);\n    if (!clone.length) {\n      return returnUndefined;\n    }\n    var distribution = Random.integer(0, clone.length - 1);\n    return function (engine) {\n      return clone[distribution(engine)];\n    };\n  };\n\n  Random.shuffle = function (engine, array, downTo) {\n    var length = array.length;\n    if (length) {\n      if (downTo == null) {\n        downTo = 0;\n      }\n      for (var i = (length - 1) >>> 0; i > downTo; --i) {\n        var distribution = Random.integer(0, i);\n        var j = distribution(engine);\n        if (i !== j) {\n          var tmp = array[i];\n          array[i] = array[j];\n          array[j] = tmp;\n        }\n      }\n    }\n    return array;\n  };\n  proto.shuffle = function (array) {\n    return Random.shuffle(this.engine, array);\n  };\n\n  Random.sample = function (engine, population, sampleSize) {\n    if (sampleSize < 0 || sampleSize > population.length || !isFinite(sampleSize)) {\n      throw new RangeError(\"Expected sampleSize to be within 0 and the length of the population\");\n    }\n\n    if (sampleSize === 0) {\n      return [];\n    }\n\n    var clone = slice.call(population);\n    var length = clone.length;\n    if (length === sampleSize) {\n      return Random.shuffle(engine, clone, 0);\n    }\n    var tailLength = length - sampleSize;\n    return Random.shuffle(engine, clone, tailLength - 1).slice(tailLength);\n  };\n  proto.sample = function (population, sampleSize) {\n    return Random.sample(this.engine, population, sampleSize);\n  };\n\n  Random.die = function (sideCount) {\n    return Random.integer(1, sideCount);\n  };\n  proto.die = function (sideCount) {\n    return Random.die(sideCount)(this.engine);\n  };\n\n  Random.dice = function (sideCount, dieCount) {\n    var distribution = Random.die(sideCount);\n    return function (engine) {\n      var result = [];\n      result.length = dieCount;\n      for (var i = 0; i < dieCount; ++i) {\n        result[i] = distribution(engine);\n      }\n      return result;\n    };\n  };\n  proto.dice = function (sideCount, dieCount) {\n    return Random.dice(sideCount, dieCount)(this.engine);\n  };\n\n  // http://en.wikipedia.org/wiki/Universally_unique_identifier\n  Random.uuid4 = (function () {\n    function zeroPad(string, zeroCount) {\n      return stringRepeat(\"0\", zeroCount - string.length) + string;\n    }\n\n    return function (engine) {\n      var a = engine() >>> 0;\n      var b = engine() | 0;\n      var c = engine() | 0;\n      var d = engine() >>> 0;\n\n      return (\n        zeroPad(a.toString(16), 8) +\n        \"-\" +\n        zeroPad((b & 0xffff).toString(16), 4) +\n        \"-\" +\n        zeroPad((((b >> 4) & 0x0fff) | 0x4000).toString(16), 4) +\n        \"-\" +\n        zeroPad(((c & 0x3fff) | 0x8000).toString(16), 4) +\n        \"-\" +\n        zeroPad(((c >> 4) & 0xffff).toString(16), 4) +\n        zeroPad(d.toString(16), 8));\n    };\n  }());\n  proto.uuid4 = function () {\n    return Random.uuid4(this.engine);\n  };\n\n  Random.string = (function () {\n    // has 2**x chars, for faster uniform distribution\n    var DEFAULT_STRING_POOL = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-\";\n\n    return function (pool) {\n      if (pool == null) {\n        pool = DEFAULT_STRING_POOL;\n      }\n\n      var length = pool.length;\n      if (!length) {\n        throw new Error(\"Expected pool not to be an empty string\");\n      }\n\n      var distribution = Random.integer(0, length - 1);\n      return function (engine, length) {\n        var result = \"\";\n        for (var i = 0; i < length; ++i) {\n          var j = distribution(engine);\n          result += pool.charAt(j);\n        }\n        return result;\n      };\n    };\n  }());\n  proto.string = function (length, pool) {\n    return Random.string(pool)(this.engine, length);\n  };\n\n  Random.hex = (function () {\n    var LOWER_HEX_POOL = \"0123456789abcdef\";\n    var lowerHex = Random.string(LOWER_HEX_POOL);\n    var upperHex = Random.string(LOWER_HEX_POOL.toUpperCase());\n\n    return function (upper) {\n      if (upper) {\n        return upperHex;\n      } else {\n        return lowerHex;\n      }\n    };\n  }());\n  proto.hex = function (length, upper) {\n    return Random.hex(upper)(this.engine, length);\n  };\n\n  Random.date = function (start, end) {\n    if (!(start instanceof Date)) {\n      throw new TypeError(\"Expected start to be a Date, got \" + typeof start);\n    } else if (!(end instanceof Date)) {\n      throw new TypeError(\"Expected end to be a Date, got \" + typeof end);\n    }\n    var distribution = Random.integer(start.getTime(), end.getTime());\n    return function (engine) {\n      return new Date(distribution(engine));\n    };\n  };\n  proto.date = function (start, end) {\n    return Random.date(start, end)(this.engine);\n  };\n\n  if (typeof define === \"function\" && define.amd) {\n    define(function () {\n      return Random;\n    });\n  } else if (typeof module !== \"undefined\" && typeof require === \"function\") {\n    module.exports = Random;\n  } else {\n    (function () {\n      var oldGlobal = root[GLOBAL_KEY];\n      Random.noConflict = function () {\n        root[GLOBAL_KEY] = oldGlobal;\n        return this;\n      };\n    }());\n    root[GLOBAL_KEY] = Random;\n  }\n}(this));\n\n\n// WEBPACK FOOTER //\n// ./node_modules/random-js/lib/random.js","import arrayMean from 'ml-array-mean';\nimport arrayMedian from 'ml-array-median';\n\nimport { RandomForestBase } from './RandomForestBase';\n\nconst selectionMethods = {\n  mean: arrayMean,\n  median: arrayMedian\n};\n\nconst defaultOptions = {\n  maxFeatures: 1.0,\n  replacement: false,\n  nEstimators: 10,\n  treeOptions: {},\n  selectionMethod: 'mean',\n  seed: 42,\n  useSampleBagging: false\n};\n\n/**\n * @class RandomForestRegression\n * @augments RandomForestBase\n */\nexport class RandomForestRegression extends RandomForestBase {\n  /**\n     * Create a new base random forest for a classifier or regression model.\n     * @constructor\n     * @param {object} options\n     * @param {number} [options.maxFeatures=1.0] - the number of features used on each estimator.\n     *        * if is an integer it selects maxFeatures elements over the sample features.\n     *        * if is a float between (0, 1), it takes the percentage of features.\n     * @param {boolean} [options.replacement=true] - use replacement over the sample features.\n     * @param {number} [options.seed=42] - seed for feature and samples selection, must be a 32-bit integer.\n     * @param {number} [options.nEstimators=10] - number of estimator to use.\n     * @param {object} [options.treeOptions={}] - options for the tree classifier, see [ml-cart]{@link https://mljs.github.io/decision-tree-cart/}\n     * @param {string} [options.selectionMethod=\"mean\"] - the way to calculate the prediction from estimators, \"mean\" and \"median\" are supported.\n     * @param {boolean} [options.useSampleBagging=false] - use bagging over training samples.\n     * @param {object} model - for load purposes.\n     */\n  constructor(options, model) {\n    if (options === true) {\n      super(true, model.baseModel);\n      this.selectionMethod = model.selectionMethod;\n    } else {\n      options = Object.assign({}, defaultOptions, options);\n\n      if (!(options.selectionMethod === 'mean' || options.selectionMethod === 'median')) {\n        throw new RangeError(`Unsupported selection method ${options.selectionMethod}`);\n      }\n\n      options.isClassifier = false;\n\n      super(options);\n      this.selectionMethod = options.selectionMethod;\n    }\n  }\n\n  /**\n     * retrieve the prediction given the selection method.\n     * @param {Array} values - predictions of the estimators.\n     * @return {number} prediction\n     */\n  selection(values) {\n    return selectionMethods[this.selectionMethod](values);\n  }\n\n  /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n  toJSON() {\n    var baseModel = super.toJSON();\n    return {\n      baseModel: baseModel,\n      selectionMethod: this.selectionMethod,\n      name: 'RFRegression'\n    };\n  }\n\n  /**\n     * Load a Decision tree classifier with the given model.\n     * @param {object} model\n     * @return {RandomForestRegression}\n     */\n  static load(model) {\n    if (model.name !== 'RFRegression') {\n      throw new RangeError(`Invalid model: ${model.name}`);\n    }\n\n    return new RandomForestRegression(true, model);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random-forest/src/RandomForestRegression.js","(function(){function a(d){for(var e=0,f=d.length-1,g=void 0,h=void 0,i=void 0,j=c(e,f);!0;){if(f<=e)return d[j];if(f==e+1)return d[e]>d[f]&&b(d,e,f),d[j];for(g=c(e,f),d[g]>d[f]&&b(d,g,f),d[e]>d[f]&&b(d,e,f),d[g]>d[e]&&b(d,g,e),b(d,g,e+1),h=e+1,i=f;!0;){do h++;while(d[e]>d[h]);do i--;while(d[i]>d[e]);if(i<h)break;b(d,h,i)}b(d,e,i),i<=j&&(e=h),i>=j&&(f=i-1)}}var b=function b(d,e,f){var _ref;return _ref=[d[f],d[e]],d[e]=_ref[0],d[f]=_ref[1],_ref},c=function c(d,e){return~~((d+e)/2)};'undefined'!=typeof module&&module.exports?module.exports=a:window.median=a})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/median-quickselect/lib/median-quickselect.min.js","'use strict';\n\nconst matrixLib = require('ml-matrix');\nconst Matrix = matrixLib.Matrix;\nconst EVD = matrixLib.EVD;\nconst SVD = matrixLib.SVD;\nconst Stat = require('ml-stat/matrix');\nconst mean = Stat.mean;\nconst stdev = Stat.standardDeviation;\n\nconst defaultOptions = {\n    isCovarianceMatrix: false,\n    center: true,\n    scale: false\n};\n\n/**\n * Creates new PCA (Principal Component Analysis) from the dataset\n * @param {Matrix} dataset - dataset or covariance matrix\n * @param {Object} options\n * @param {boolean} [options.isCovarianceMatrix=false] - true if the dataset is a covariance matrix\n * @param {boolean} [options.center=true] - should the data be centered (subtract the mean)\n * @param {boolean} [options.scale=false] - should the data be scaled (divide by the standard deviation)\n * */\nclass PCA {\n    constructor(dataset, options) {\n        if (dataset === true) {\n            const model = options;\n            this.center = model.center;\n            this.scale = model.scale;\n            this.means = model.means;\n            this.stdevs = model.stdevs;\n            this.U = Matrix.checkMatrix(model.U);\n            this.S = model.S;\n            return;\n        }\n\n        options = Object.assign({}, defaultOptions, options);\n\n        this.center = false;\n        this.scale = false;\n        this.means = null;\n        this.stdevs = null;\n\n        if (options.isCovarianceMatrix) { // user provided a covariance matrix instead of dataset\n            this._computeFromCovarianceMatrix(dataset);\n            return;\n        }\n\n        var useCovarianceMatrix;\n        if (typeof options.useCovarianceMatrix === 'boolean') {\n            useCovarianceMatrix = options.useCovarianceMatrix;\n        } else {\n            useCovarianceMatrix = dataset.length > dataset[0].length;\n        }\n\n        if (useCovarianceMatrix) { // user provided a dataset but wants us to compute and use the covariance matrix\n            dataset = this._adjust(dataset, options);\n            const covarianceMatrix = dataset.transposeView().mmul(dataset).div(dataset.rows - 1);\n            this._computeFromCovarianceMatrix(covarianceMatrix);\n        } else {\n            dataset = this._adjust(dataset, options);\n            var svd = new SVD(dataset, {\n                computeLeftSingularVectors: false,\n                computeRightSingularVectors: true,\n                autoTranspose: true\n            });\n\n            this.U = svd.rightSingularVectors;\n\n            const singularValues = svd.diagonal;\n            const eigenvalues = new Array(singularValues.length);\n            for (var i = 0; i < singularValues.length; i++) {\n                eigenvalues[i] = singularValues[i] * singularValues[i] / (dataset.length - 1);\n            }\n            this.S = eigenvalues;\n        }\n    }\n\n    /**\n     * Load a PCA model from JSON\n     * @param {Object} model\n     * @return {PCA}\n     */\n    static load(model) {\n        if (model.name !== 'PCA')\n            throw new RangeError('Invalid model: ' + model.name);\n        return new PCA(true, model);\n    }\n\n\n    /**\n     * Project the dataset into the PCA space\n     * @param {Matrix} dataset\n     * @param {Object} options\n     * @return {Matrix} dataset projected in the PCA space\n     */\n    predict(dataset, options = {}) {\n        const {\n           nComponents = this.U.columns\n        } = options;\n\n        dataset = new Matrix(dataset);\n        if (this.center) {\n            dataset.subRowVector(this.means);\n            if (this.scale) {\n                dataset.divRowVector(this.stdevs);\n            }\n        }\n\n        var predictions = dataset.mmul(this.U);\n        return predictions.subMatrix(0, predictions.rows - 1, 0, nComponents - 1);\n    }\n\n    /**\n     * Returns the proportion of variance for each component\n     * @return {[number]}\n     */\n    getExplainedVariance() {\n        var sum = 0;\n        for (var i = 0; i < this.S.length; i++) {\n            sum += this.S[i];\n        }\n        return this.S.map(value => value / sum);\n    }\n\n    /**\n     * Returns the cumulative proportion of variance\n     * @return {[number]}\n     */\n    getCumulativeVariance() {\n        var explained = this.getExplainedVariance();\n        for (var i = 1; i < explained.length; i++) {\n            explained[i] += explained[i - 1];\n        }\n        return explained;\n    }\n\n    /**\n     * Returns the Eigenvectors of the covariance matrix\n     * @returns {Matrix}\n     */\n    getEigenvectors() {\n        return this.U;\n    }\n\n    /**\n     * Returns the Eigenvalues (on the diagonal)\n     * @returns {[number]}\n     */\n    getEigenvalues() {\n        return this.S;\n    }\n\n    /**\n     * Returns the standard deviations of the principal components\n     * @returns {[number]}\n     */\n    getStandardDeviations() {\n        return this.S.map(x => Math.sqrt(x));\n    }\n\n    /**\n     * Returns the loadings matrix\n     * @return {Matrix}\n     */\n    getLoadings() {\n        return this.U.transpose();\n    }\n\n    /**\n     * Export the current model to a JSON object\n     * @return {Object} model\n     */\n    toJSON() {\n        return {\n            name: 'PCA',\n            center: this.center,\n            scale: this.scale,\n            means: this.means,\n            stdevs: this.stdevs,\n            U: this.U,\n            S: this.S,\n        };\n    }\n\n    _adjust(dataset, options) {\n        this.center = !!options.center;\n        this.scale = !!options.scale;\n\n        dataset = new Matrix(dataset);\n\n        if (this.center) {\n            const means = mean(dataset);\n            const stdevs = this.scale ? stdev(dataset, means, true) : null;\n            this.means = means;\n            dataset.subRowVector(means);\n            if (this.scale) {\n                for (var i = 0; i < stdevs.length; i++) {\n                    if (stdevs[i] === 0) {\n                        throw new RangeError('Cannot scale the dataset (standard deviation is zero at index ' + i);\n                    }\n                }\n                this.stdevs = stdevs;\n                dataset.divRowVector(stdevs);\n            }\n        }\n\n        return dataset;\n    }\n\n    _computeFromCovarianceMatrix(dataset) {\n        const evd = new EVD(dataset, {assumeSymmetric: true});\n        this.U = evd.eigenvectorMatrix;\n        for (var i = 0; i < this.U.length; i++) {\n            this.U[i].reverse();\n        }\n        this.S = evd.realEigenvalues.reverse();\n    }\n}\n\nmodule.exports = PCA;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pca/src/pca.js","'use strict';\n\nexports.agnes = require('./agnes');\nexports.diana = require('./diana');\n//exports.birch = require('./birch');\n//exports.cure = require('./cure');\n//exports.chameleon = require('./chameleon');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/index.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\nconst ClusterLeaf = require('./ClusterLeaf');\nconst Cluster = require('./Cluster');\nconst distanceMatrix = require('ml-distance-matrix');\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction simpleLink(cluster1, cluster2, disFun) {\n    var m = 10e100;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            var d = disFun[cluster1[i]][ cluster2[j]];\n            m = Math.min(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction completeLink(cluster1, cluster2, disFun) {\n    var m = -1;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            var d = disFun[cluster1[i]][ cluster2[j]];\n            m = Math.max(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction averageLink(cluster1, cluster2, disFun) {\n    var m = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            m += disFun[cluster1[i]][ cluster2[j]];\n        }\n    }\n    return m / (cluster1.length * cluster2.length);\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {*}\n */\nfunction centroidLink(cluster1, cluster2, disFun) {\n    var dist = new Array(cluster1.length * cluster2.length);\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            dist[i * cluster2.length + j] = (disFun[cluster1[i]][ cluster2[j]]);\n        }\n    }\n    return median(dist);\n}\n\n/**\n * @private\n * @param cluster1\n * @param cluster2\n * @param disFun\n * @returns {number}\n */\nfunction wardLink(cluster1, cluster2, disFun) {\n    return centroidLink(cluster1, cluster2, disFun)\n        * cluster1.length * cluster2.length / (cluster1.length + cluster2.length);\n}\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\nfunction median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n}\n\nvar defaultOptions = {\n    disFunc: euclidean,\n    kind: 'single',\n    isDistanceMatrix: false\n\n};\n\n/**\n * Continuously merge nodes that have the least dissimilarity\n * @param {Array <Array <number>>} distance - Array of points to be clustered\n * @param {json} options\n * @option isDistanceMatrix: Is the input a distance matrix?\n * @constructor\n */\nfunction agnes(data, options) {\n    options = Object.assign({}, defaultOptions, options);\n    var len = data.length;\n    var distance = data;//If source\n    if (!options.isDistanceMatrix) {\n        distance = distanceMatrix(data, options.disFunc);\n    }\n\n\n    // allows to use a string or a given function\n    if (typeof options.kind === 'string') {\n        switch (options.kind) {\n            case 'single':\n                options.kind = simpleLink;\n                break;\n            case 'complete':\n                options.kind = completeLink;\n                break;\n            case 'average':\n                options.kind = averageLink;\n                break;\n            case 'centroid':\n                options.kind = centroidLink;\n                break;\n            case 'ward':\n                options.kind = wardLink;\n                break;\n            default:\n                throw new RangeError('Unknown kind of similarity');\n        }\n    } else if (typeof options.kind !== 'function') {\n        throw new TypeError('Undefined kind of similarity');\n    }\n\n    var list = new Array(len);\n    for (var i = 0; i < distance.length; i++) {\n        list[i] = new ClusterLeaf(i);\n    }\n    var min = 10e5,\n        d = {},\n        dis = 0;\n\n    while (list.length > 1) {\n        // calculates the minimum distance\n        d = {};\n        min = 10e5;\n        for (var j = 0; j < list.length; j++) {\n            for (var k = j + 1; k < list.length; k++) {\n                var fdistance, sdistance;\n                if (list[j] instanceof ClusterLeaf) {\n                    fdistance = [list[j].index];\n                } else {\n                    fdistance = new Array(list[j].index.length);\n                    for (var e = 0; e < fdistance.length; e++) {\n                        fdistance[e] = list[j].index[e].index;\n                    }\n                }\n                if (list[k] instanceof ClusterLeaf) {\n                    sdistance = [list[k].index];\n                } else {\n                    sdistance = new Array(list[k].index.length);\n                    for (var f = 0; f < sdistance.length; f++) {\n                        sdistance[f] = list[k].index[f].index;\n                    }\n                }\n                dis = options.kind(fdistance, sdistance, distance).toFixed(4);\n                if (dis in d) {\n                    d[dis].push([list[j], list[k]]);\n                } else {\n                    d[dis] = [[list[j], list[k]]];\n                }\n                min = Math.min(dis, min);\n            }\n        }\n        // cluster dots\n        var dmin = d[min.toFixed(4)];\n        var clustered = new Array(dmin.length);\n        var aux,\n            count = 0;\n        while (dmin.length > 0) {\n            aux = dmin.shift();\n            for (var q = 0; q < dmin.length; q++) {\n                var int = dmin[q].filter(function (n) {\n                    //noinspection JSReferencingMutableVariableFromClosure\n                    return aux.indexOf(n) !== -1;\n                });\n                if (int.length > 0) {\n                    var diff = dmin[q].filter(function (n) {\n                        //noinspection JSReferencingMutableVariableFromClosure\n                        return aux.indexOf(n) === -1;\n                    });\n                    aux = aux.concat(diff);\n                    dmin.splice(q--, 1);\n                }\n            }\n            clustered[count++] = aux;\n        }\n        clustered.length = count;\n\n        for (var ii = 0; ii < clustered.length; ii++) {\n            var obj = new Cluster();\n            obj.children = clustered[ii].concat();\n            obj.distance = min;\n            obj.index = new Array(len);\n            var indCount = 0;\n            for (var jj = 0; jj < clustered[ii].length; jj++) {\n                if (clustered[ii][jj] instanceof ClusterLeaf) {\n                    obj.index[indCount++] = clustered[ii][jj];\n                } else {\n                    indCount += clustered[ii][jj].index.length;\n                    obj.index = clustered[ii][jj].index.concat(obj.index);\n                }\n                list.splice((list.indexOf(clustered[ii][jj])), 1);\n            }\n            obj.index.length = indCount;\n            list.push(obj);\n        }\n    }\n    return list[0];\n}\n\nmodule.exports = agnes;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/agnes.js","module.exports = require('./lib/heap');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/heap/index.js","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/heap/lib/heap.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/util/util.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/process/browser.js","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/util/support/isBufferBrowser.js","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/inherits/inherits_browser.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\nconst ClusterLeaf = require('./ClusterLeaf');\nconst Cluster = require('./Cluster');\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction simpleLink(cluster1, cluster2, disFun) {\n    var m = 10e100;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = i; j < cluster2.length; j++) {\n            var d = disFun(cluster1[i], cluster2[j]);\n            m = Math.min(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction completeLink(cluster1, cluster2, disFun) {\n    var m = -1;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = i; j < cluster2.length; j++) {\n            var d = disFun(cluster1[i], cluster2[j]);\n            m = Math.max(d, m);\n        }\n    }\n    return m;\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction averageLink(cluster1, cluster2, disFun) {\n    var m = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        for (var j = 0; j < cluster2.length; j++) {\n            m += disFun(cluster1[i], cluster2[j]);\n        }\n    }\n    return m / (cluster1.length * cluster2.length);\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction centroidLink(cluster1, cluster2, disFun) {\n    var x1 = 0,\n        y1 = 0,\n        x2 = 0,\n        y2 = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        x1 += cluster1[i][0];\n        y1 += cluster1[i][1];\n    }\n    for (var j = 0; j < cluster2.length; j++) {\n        x2 += cluster2[j][0];\n        y2 += cluster2[j][1];\n    }\n    x1 /= cluster1.length;\n    y1 /= cluster1.length;\n    x2 /= cluster2.length;\n    y2 /= cluster2.length;\n    return disFun([x1, y1], [x2, y2]);\n}\n\n/**\n * @private\n * @param {Array <Array <number>>} cluster1\n * @param {Array <Array <number>>} cluster2\n * @param {function} disFun\n * @returns {number}\n */\nfunction wardLink(cluster1, cluster2, disFun) {\n    var x1 = 0,\n        y1 = 0,\n        x2 = 0,\n        y2 = 0;\n    for (var i = 0; i < cluster1.length; i++) {\n        x1 += cluster1[i][0];\n        y1 += cluster1[i][1];\n    }\n    for (var j = 0; j < cluster2.length; j++) {\n        x2 += cluster2[j][0];\n        y2 += cluster2[j][1];\n    }\n    x1 /= cluster1.length;\n    y1 /= cluster1.length;\n    x2 /= cluster2.length;\n    y2 /= cluster2.length;\n    return disFun([x1, y1], [x2, y2]) * cluster1.length * cluster2.length / (cluster1.length + cluster2.length);\n}\n\n/**\n * @private\n * Returns the most distant point and his distance\n * @param {Array <Array <number>>} splitting - Clusters to split\n * @param {Array <Array <number>>} data - Original data\n * @param {function} disFun - Distance function\n * @returns {{d: number, p: number}} - d: maximum difference between points, p: the point more distant\n */\nfunction diff(splitting, data, disFun) {\n    var ans = {\n        d: 0,\n        p: 0\n    };\n\n    var Ci = new Array(splitting[0].length);\n    for (var e = 0; e < splitting[0].length; e++) {\n        Ci[e] = data[splitting[0][e]];\n    }\n    var Cj = new Array(splitting[1].length);\n    for (var f = 0; f < splitting[1].length; f++) {\n        Cj[f] = data[splitting[1][f]];\n    }\n\n    var dist, ndist;\n    for (var i = 0; i < Ci.length; i++) {\n        dist = 0;\n        for (var j = 0; j < Ci.length; j++) {\n            if (i !== j) {\n                dist += disFun(Ci[i], Ci[j]);\n            }\n        }\n        dist /= (Ci.length - 1);\n        ndist = 0;\n        for (var k = 0; k < Cj.length; k++) {\n            ndist += disFun(Ci[i], Cj[k]);\n        }\n        ndist /= Cj.length;\n        if ((dist - ndist) > ans.d) {\n            ans.d = (dist - ndist);\n            ans.p = i;\n        }\n    }\n    return ans;\n}\n\nvar defaultOptions = {\n    dist: euclidean,\n    kind: 'single'\n};\n\n/**\n * @private\n * Intra-cluster distance\n * @param {Array} index\n * @param {Array} data\n * @param {function} disFun\n * @returns {number}\n */\nfunction intrDist(index, data, disFun) {\n    var dist = 0,\n        count = 0;\n    for (var i = 0; i < index.length; i++) {\n        for (var j = i; j < index.length; j++) {\n            dist += disFun(data[index[i].index], data[index[j].index]);\n            count++;\n        }\n    }\n    return dist / count;\n}\n\n/**\n * Splits the higher level clusters\n * @param {Array <Array <number>>} data - Array of points to be clustered\n * @param {json} options\n * @constructor\n */\nfunction diana(data, options) {\n    options = Object.assign({}, defaultOptions, options);\n    if (typeof options.kind === 'string') {\n        switch (options.kind) {\n            case 'single':\n                options.kind = simpleLink;\n                break;\n            case 'complete':\n                options.kind = completeLink;\n                break;\n            case 'average':\n                options.kind = averageLink;\n                break;\n            case 'centroid':\n                options.kind = centroidLink;\n                break;\n            case 'ward':\n                options.kind = wardLink;\n                break;\n            default:\n                throw new RangeError('Unknown kind of similarity');\n        }\n    } else if (typeof options.kind !== 'function') {\n        throw new TypeError('Undefined kind of similarity');\n    }\n    var tree = new Cluster();\n    tree.children = new Array(data.length);\n    tree.index = new Array(data.length);\n    for (var ind = 0; ind < data.length; ind++) {\n        tree.children[ind] = new ClusterLeaf(ind);\n        tree.index[ind] = new ClusterLeaf(ind);\n    }\n\n    tree.distance = intrDist(tree.index, data, options.dist);\n    var m, M, clId,\n        dist, rebel;\n    var list = [tree];\n    while (list.length > 0) {\n        M = 0;\n        clId = 0;\n        for (var i = 0; i < list.length; i++) {\n            m = 0;\n            for (var j = 0; j < list[i].length; j++) {\n                for (var l = (j + 1); l < list[i].length; l++) {\n                    m = Math.max(options.dist(data[list[i].index[j].index], data[list[i].index[l].index]), m);\n                }\n            }\n            if (m > M) {\n                M = m;\n                clId = i;\n            }\n        }\n        M = 0;\n        if (list[clId].index.length === 2) {\n            list[clId].children = [list[clId].index[0], list[clId].index[1]];\n            list[clId].distance = options.dist(data[list[clId].index[0].index], data[list[clId].index[1].index]);\n        } else if (list[clId].index.length === 3) {\n            list[clId].children = [list[clId].index[0], list[clId].index[1], list[clId].index[2]];\n            var d = [\n                options.dist(data[list[clId].index[0].index], data[list[clId].index[1].index]),\n                options.dist(data[list[clId].index[1].index], data[list[clId].index[2].index])\n            ];\n            list[clId].distance = (d[0] + d[1]) / 2;\n        } else {\n            var C = new Cluster();\n            var sG = new Cluster();\n            var splitting = [new Array(list[clId].index.length), []];\n            for (var spl = 0; spl < splitting[0].length; spl++) {\n                splitting[0][spl] = spl;\n            }\n            for (var ii = 0; ii < splitting[0].length; ii++) {\n                dist = 0;\n                for (var jj = 0; jj < splitting[0].length; jj++) {\n                    if (ii !== jj) {\n                        dist += options.dist(data[list[clId].index[splitting[0][jj]].index], data[list[clId].index[splitting[0][ii]].index]);\n                    }\n                }\n                dist /= (splitting[0].length - 1);\n                if (dist > M) {\n                    M = dist;\n                    rebel = ii;\n                }\n            }\n            splitting[1] = [rebel];\n            splitting[0].splice(rebel, 1);\n            dist = diff(splitting, data, options.dist);\n            while (dist.d > 0) {\n                splitting[1].push(splitting[0][dist.p]);\n                splitting[0].splice(dist.p, 1);\n                dist = diff(splitting, data, options.dist);\n            }\n            var fData = new Array(splitting[0].length);\n            C.index = new Array(splitting[0].length);\n            for (var e = 0; e < fData.length; e++) {\n                fData[e] = data[list[clId].index[splitting[0][e]].index];\n                C.index[e] = list[clId].index[splitting[0][e]];\n                C.children[e] = list[clId].index[splitting[0][e]];\n            }\n            var sData = new Array(splitting[1].length);\n            sG.index = new Array(splitting[1].length);\n            for (var f = 0; f < sData.length; f++) {\n                sData[f] = data[list[clId].index[splitting[1][f]].index];\n                sG.index[f] = list[clId].index[splitting[1][f]];\n                sG.children[f] = list[clId].index[splitting[1][f]];\n            }\n            C.distance = intrDist(C.index, data, options.dist);\n            sG.distance = intrDist(sG.index, data, options.dist);\n            list.push(C);\n            list.push(sG);\n            list[clId].children = [C, sG];\n        }\n        list.splice(clId, 1);\n    }\n    return tree;\n}\n\nmodule.exports = diana;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hclust/src/diana.js","import euclidean from 'ml-distance-euclidean';\n\nimport {\n  updateClusterID,\n  updateCenters,\n  hasConverged,\n  calculateDistanceMatrix\n} from './utils';\nimport { mostDistant, random, kmeanspp } from './initialization';\nimport KMeansResult from './KMeansResult';\n\nconst defaultOptions = {\n  maxIterations: 100,\n  tolerance: 1e-6,\n  withIterations: false,\n  initialization: 'kmeans++',\n  distanceFunction: euclidean.squared\n};\n\n/**\n * Each step operation for kmeans\n * @ignore\n * @param {Array<Array<number>>} centers - K centers in format [x,y,z,...]\n * @param {Array<Array<number>>} data - Points [x,y,z,...] to cluster\n * @param {Array<number>} clusterID - Cluster identifier for each data dot\n * @param {number} K - Number of clusters\n * @param {object} [options] - Option object\n * @param {number} iterations - Current number of iterations\n * @return {KMeansResult}\n */\nfunction step(centers, data, clusterID, K, options, iterations) {\n  clusterID = updateClusterID(\n    data,\n    centers,\n    clusterID,\n    options.distanceFunction\n  );\n  var newCenters = updateCenters(centers, data, clusterID, K);\n  var converged = hasConverged(\n    newCenters,\n    centers,\n    options.distanceFunction,\n    options.tolerance\n  );\n  return new KMeansResult(\n    clusterID,\n    newCenters,\n    converged,\n    iterations,\n    options.distanceFunction\n  );\n}\n\n/**\n * Generator version for the algorithm\n * @ignore\n * @param {Array<Array<number>>} centers - K centers in format [x,y,z,...]\n * @param {Array<Array<number>>} data - Points [x,y,z,...] to cluster\n * @param {Array<number>} clusterID - Cluster identifier for each data dot\n * @param {number} K - Number of clusters\n * @param {object} [options] - Option object\n */\nfunction* kmeansGenerator(centers, data, clusterID, K, options) {\n  var converged = false;\n  var stepNumber = 0;\n  var stepResult;\n  while (!converged && stepNumber < options.maxIterations) {\n    stepResult = step(centers, data, clusterID, K, options, ++stepNumber);\n    yield stepResult.computeInformation(data);\n    converged = stepResult.converged;\n    centers = stepResult.centroids;\n  }\n}\n\n/**\n * K-means algorithm\n * @param {Array<Array<number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {number} K - Number of clusters\n * @param {object} [options] - Option object\n * @param {number} [options.maxIterations = 100] - Maximum of iterations allowed\n * @param {number} [options.tolerance = 1e-6] - Error tolerance\n * @param {boolean} [options.withIterations = false] - Store clusters and centroids for each iteration\n * @param {function} [options.distanceFunction = squaredDistance] - Distance function to use between the points\n * @param {number} [options.seed] - Seed for random initialization.\n * @param {string|Array<Array<number>>} [options.initialization = 'kmeans++'] - K centers in format [x,y,z,...] or a method for initialize the data:\n *  * You can either specify your custom start centroids, or select one of the following initialization method:\n *  * `'kmeans++'` will use the kmeans++ method as described by http://ilpubs.stanford.edu:8090/778/1/2006-13.pdf\n *  * `'random'` will choose K random different values.\n *  * `'mostDistant'` will choose the more distant points to a first random pick\n * @return {KMeansResult} - Cluster identifier for each data dot and centroids with the following fields:\n *  * `'clusters'`: Array of indexes for the clusters.\n *  * `'centroids'`: Array with the resulting centroids.\n *  * `'iterations'`: Number of iterations that took to converge\n */\nexport default function kmeans(data, K, options) {\n  options = Object.assign({}, defaultOptions, options);\n\n  if (K <= 0 || K > data.length || !Number.isInteger(K)) {\n    throw new Error(\n      'K should be a positive integer smaller than the number of points'\n    );\n  }\n\n  var centers;\n  if (Array.isArray(options.initialization)) {\n    if (options.initialization.length !== K) {\n      throw new Error('The initial centers should have the same length as K');\n    } else {\n      centers = options.initialization;\n    }\n  } else {\n    switch (options.initialization) {\n      case 'kmeans++':\n        centers = kmeanspp(data, K, options);\n        break;\n      case 'random':\n        centers = random(data, K, options.seed);\n        break;\n      case 'mostDistant':\n        centers = mostDistant(\n          data,\n          K,\n          calculateDistanceMatrix(data, options.distanceFunction),\n          options.seed\n        );\n        break;\n      default:\n        throw new Error(\n          `Unknown initialization method: \"${options.initialization}\"`\n        );\n    }\n  }\n\n  // infinite loop until convergence\n  if (options.maxIterations === 0) {\n    options.maxIterations = Number.MAX_VALUE;\n  }\n\n  var clusterID = new Array(data.length);\n  if (options.withIterations) {\n    return kmeansGenerator(centers, data, clusterID, K, options);\n  } else {\n    var converged = false;\n    var stepNumber = 0;\n    var stepResult;\n    while (!converged && stepNumber < options.maxIterations) {\n      stepResult = step(centers, data, clusterID, K, options, ++stepNumber);\n      converged = stepResult.converged;\n      centers = stepResult.centroids;\n    }\n    return stepResult.computeInformation(data);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/kmeans.js","'use strict';\n\nconst squaredDistance = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    distanceFunction: squaredDistance,\n    similarityFunction: false,\n    returnVector: false\n};\n\n/**\n * Find the nearest vector in a list to a sample vector\n * @param {Array<Array<number>>} listVectors - List of vectors with same dimensions\n * @param {Array<number>} vector - Reference vector to \"classify\"\n * @param {object} [options] - Options object\n * @param {function} [options.distanceFunction = squaredDistance] - Function that receives two vectors and return their distance value as number\n * @param {function} [options.similarityFunction = undefined] - Function that receives two vectors and return their similarity value as number\n * @param {boolean} [options.returnVector = false] - Return the nearest vector instead of its index\n * @return {number|Array<number>} - The index or the content of the nearest vector\n */\nfunction nearestVector(listVectors, vector, options) {\n    options = options || defaultOptions;\n    const distanceFunction = options.distanceFunction || defaultOptions.distanceFunction;\n    const similarityFunction = options.similarityFunction || defaultOptions.similarityFunction;\n    const returnVector = options.returnVector || defaultOptions.returnVector;\n\n    var vectorIndex = -1;\n    if (typeof similarityFunction === 'function') {\n\n        // maximum similarity\n        var maxSim = Number.MIN_VALUE;\n        for (var j = 0; j < listVectors.length; j++) {\n            var sim = similarityFunction(vector, listVectors[j]);\n            if (sim > maxSim) {\n                maxSim = sim;\n                vectorIndex = j;\n            }\n        }\n    } else if (typeof distanceFunction === 'function') {\n\n        // minimum distance\n        var minDist = Number.MAX_VALUE;\n        for (var i = 0; i < listVectors.length; i++) {\n            var dist = distanceFunction(vector, listVectors[i]);\n            if (dist < minDist) {\n                minDist = dist;\n                vectorIndex = i;\n            }\n        }\n    } else {\n        throw new Error('A similarity or distance function it\\'s required');\n    }\n\n    if (returnVector) {\n        return listVectors[vectorIndex];\n    } else {\n        return vectorIndex;\n    }\n}\n\nmodule.exports = nearestVector;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-nearest-vector/src/index.js","import Random from 'ml-random';\nimport { squared as squaredEuclidean } from 'ml-distance-euclidean';\nimport { Matrix } from 'ml-matrix';\n\n/**\n * Choose K different random points from the original data\n * @ignore\n * @param {Array<Array<number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {number} K - number of clusters\n * @param {number} seed - seed for random number generation\n * @return {Array<Array<number>>} - Initial random points\n */\nexport function random(data, K, seed) {\n  const random = new Random(seed);\n  return random.choice(data, { size: K });\n}\n\n/**\n * Chooses the most distant points to a first random pick\n * @ignore\n * @param {Array<Array<number>>} data - Points in the format to cluster [x,y,z,...]\n * @param {number} K - number of clusters\n * @param {Array<Array<number>>} distanceMatrix - matrix with the distance values\n * @param {number} seed - seed for random number generation\n * @return {Array<Array<number>>} - Initial random points\n */\nexport function mostDistant(data, K, distanceMatrix, seed) {\n  const random = new Random(seed);\n  var ans = new Array(K);\n  // chooses a random point as initial cluster\n  ans[0] = Math.floor(random.random() * data.length);\n\n  if (K > 1) {\n    // chooses the more distant point\n    var maxDist = { dist: -1, index: -1 };\n    for (var l = 0; l < data.length; ++l) {\n      if (distanceMatrix[ans[0]][l] > maxDist.dist) {\n        maxDist.dist = distanceMatrix[ans[0]][l];\n        maxDist.index = l;\n      }\n    }\n    ans[1] = maxDist.index;\n\n    if (K > 2) {\n      // chooses the set of points that maximises the min distance\n      for (var k = 2; k < K; ++k) {\n        var center = { dist: -1, index: -1 };\n        for (var m = 0; m < data.length; ++m) {\n          // minimum distance to centers\n          var minDistCent = { dist: Number.MAX_VALUE, index: -1 };\n          for (var n = 0; n < k; ++n) {\n            if (\n              distanceMatrix[n][m] < minDistCent.dist &&\n              ans.indexOf(m) === -1\n            ) {\n              minDistCent = {\n                dist: distanceMatrix[n][m],\n                index: m\n              };\n            }\n          }\n\n          if (\n            minDistCent.dist !== Number.MAX_VALUE &&\n            minDistCent.dist > center.dist\n          ) {\n            center = Object.assign({}, minDistCent);\n          }\n        }\n\n        ans[k] = center.index;\n      }\n    }\n  }\n\n  return ans.map((index) => data[index]);\n}\n\n// Implementation inspired from scikit\nexport function kmeanspp(X, K, options = {}) {\n  X = new Matrix(X);\n  const nSamples = X.length;\n  const random = new Random(options.seed);\n  // Set the number of trials\n  const centers = [];\n  const localTrials = options.localTrials || 2 + Math.floor(Math.log(K));\n\n  // Pick the first center at random from the dataset\n  const firstCenterIdx = random.randInt(nSamples);\n  centers.push(X[firstCenterIdx].slice());\n\n  // Init closest distances\n  let closestDistSquared = [X.map((x) => squaredEuclidean(x, centers[0]))];\n  let cumSumClosestDistSquared = [cumSum(closestDistSquared[0])];\n  const factor = 1 / cumSumClosestDistSquared[0][nSamples - 1];\n  let probabilities = Matrix.mul(closestDistSquared, factor);\n\n  // Iterate over the remaining centers\n  for (let i = 1; i < K; i++) {\n    const candidateIdx = random.choice(nSamples, {\n      replace: true,\n      size: localTrials,\n      probabilities: probabilities[0]\n    });\n\n    const candidates = X.selection(candidateIdx, range(X[0].length));\n    const distanceToCandidates = euclidianDistances(candidates, X);\n\n    let bestCandidate;\n    let bestPot;\n    let bestDistSquared;\n\n    for (let j = 0; j < localTrials; j++) {\n      const newDistSquared = Matrix.min(closestDistSquared, [distanceToCandidates[j]]);\n      const newPot = newDistSquared.sum();\n      if (bestCandidate === undefined || newPot < bestPot) {\n        bestCandidate = candidateIdx[j];\n        bestPot = newPot;\n        bestDistSquared = newDistSquared;\n      }\n    }\n    centers[i] = X[bestCandidate].slice();\n    closestDistSquared = bestDistSquared;\n    cumSumClosestDistSquared = [cumSum(closestDistSquared[0])];\n    probabilities = Matrix.mul(\n      closestDistSquared,\n      1 / cumSumClosestDistSquared[0][nSamples - 1]\n    );\n  }\n  return centers;\n}\n\nfunction euclidianDistances(A, B) {\n  const result = new Matrix(A.length, B.length);\n  for (let i = 0; i < A.length; i++) {\n    for (let j = 0; j < B.length; j++) {\n      result.set(i, j, squaredEuclidean(A.getRow(i), B.getRow(j)));\n    }\n  }\n  return result;\n}\n\nfunction range(l) {\n  let r = [];\n  for (let i = 0; i < l; i++) {\n    r.push(i);\n  }\n  return r;\n}\n\nfunction cumSum(arr) {\n  let cumSum = [arr[0]];\n  for (let i = 1; i < arr.length; i++) {\n    cumSum[i] = cumSum[i - 1] + arr[i];\n  }\n  return cumSum;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/initialization.js","const PROB_TOLERANCE = 0.00000001;\nfunction randomChoice(values, options = {}, random = Math.random) {\n    const { size = 1, replace = false, probabilities } = options;\n    let valuesArr;\n    let cumSum;\n    if (typeof values === 'number') {\n        valuesArr = getArray(values);\n    }\n    else {\n        valuesArr = values.slice();\n    }\n    if (probabilities) {\n        if (!replace) {\n            throw new Error('choice with probabilities and no replacement is not implemented');\n        }\n        // check input is sane\n        if (probabilities.length !== valuesArr.length) {\n            throw new Error('the length of probabilities option should be equal to the number of choices');\n        }\n        cumSum = [probabilities[0]];\n        for (let i = 1; i < probabilities.length; i++) {\n            cumSum[i] = cumSum[i - 1] + probabilities[i];\n        }\n        if (Math.abs(1 - cumSum[cumSum.length - 1]) > PROB_TOLERANCE) {\n            throw new Error(`probabilities should sum to 1, but instead sums to ${cumSum[cumSum.length - 1]}`);\n        }\n    }\n    if (replace === false && size > valuesArr.length) {\n        throw new Error('size option is too large');\n    }\n    const result = [];\n    for (let i = 0; i < size; i++) {\n        const index = randomIndex(valuesArr.length, random, cumSum);\n        result.push(valuesArr[index]);\n        if (!replace) {\n            valuesArr.splice(index, 1);\n        }\n    }\n    return result;\n}\nfunction getArray(n) {\n    const arr = [];\n    for (let i = 0; i < n; i++) {\n        arr.push(i);\n    }\n    return arr;\n}\nfunction randomIndex(n, random, cumSum) {\n    const rand = random();\n    if (!cumSum) {\n        return Math.floor(rand * n);\n    }\n    else {\n        let idx = 0;\n        while (rand > cumSum[idx]) {\n            idx++;\n        }\n        return idx;\n    }\n}\nexport default randomChoice;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-random/lib-es6/choice.js","import { updateClusterID } from './utils';\n\nconst distanceSymbol = Symbol('distance');\n\nexport default class KMeansResult {\n  /**\n   * Result of the kmeans algorithm\n   * @param {Array<number>} clusters - the cluster identifier for each data dot\n   * @param {Array<Array<object>>} centroids - the K centers in format [x,y,z,...], the error and size of the cluster\n   * @param {boolean} converged - Converge criteria satisfied\n   * @param {number} iterations - Current number of iterations\n   * @param {function} distance - (*Private*) Distance function to use between the points\n   * @constructor\n   */\n  constructor(clusters, centroids, converged, iterations, distance) {\n    this.clusters = clusters;\n    this.centroids = centroids;\n    this.converged = converged;\n    this.iterations = iterations;\n    this[distanceSymbol] = distance;\n  }\n\n  /**\n   * Allows to compute for a new array of points their cluster id\n   * @param {Array<Array<number>>} data - the [x,y,z,...] points to cluster\n   * @return {Array<number>} - cluster id for each point\n   */\n  nearest(data) {\n    const clusterID = new Array(data.length);\n    const centroids = this.centroids.map(function (centroid) {\n      return centroid.centroid;\n    });\n    return updateClusterID(data, centroids, clusterID, this[distanceSymbol]);\n  }\n\n  /**\n   * Returns a KMeansResult with the error and size of the cluster\n   * @ignore\n   * @param {Array<Array<number>>} data - the [x,y,z,...] points to cluster\n   * @return {KMeansResult}\n   */\n  computeInformation(data) {\n    var enrichedCentroids = this.centroids.map(function (centroid) {\n      return {\n        centroid: centroid,\n        error: 0,\n        size: 0\n      };\n    });\n\n    for (var i = 0; i < data.length; i++) {\n      enrichedCentroids[this.clusters[i]].error += this[distanceSymbol](\n        data[i],\n        this.centroids[this.clusters[i]]\n      );\n      enrichedCentroids[this.clusters[i]].size++;\n    }\n\n    for (var j = 0; j < this.centroids.length; j++) {\n      if (enrichedCentroids[j].size) {\n        enrichedCentroids[j].error /= enrichedCentroids[j].size;\n      } else {\n        enrichedCentroids[j].error = null;\n      }\n    }\n\n    return new KMeansResult(\n      this.clusters,\n      enrichedCentroids,\n      this.converged,\n      this.iterations,\n      this[distanceSymbol]\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kmeans/src/KMeansResult.js","'use strict';\nconst Kernel = require('ml-kernel');\nconst stat = require('ml-stat').array;\n\nvar defaultOptions = {\n    C: 1,\n    tol: 1e-4,\n    maxPasses: 10,\n    maxIterations: 10000,\n    kernel: 'linear',\n    alphaTol: 1e-6,\n    random: Math.random,\n    whitening: true\n};\n\n/**\n * Simplified version of the Sequential Minimal Optimization algorithm for training\n * support vector machines\n * @param {{Object}} options - SVM options\n * @param {Number} [options.C=1] - regularization parameter\n * @param {Number} [options.tol=1e-4] - numerical tolerance\n * @param {Number} [options.alphaTol=1e-6] - alpha tolerance, threshold to decide support vectors\n * @param {Number} [options.maxPasses=10] - max number of times to iterate over alphas without changing\n * @param {Number} [options.maxIterations=10000] - max number of iterations\n * @param {String} [options.kernel=linear] - the kind of kernel. {@link https://github.com/mljs/kernel/tree/1252de5f9012776e6e0eb06c7b434b8631fb21f0 List of kernels}\n * @param {Function} [options.random=Math.random] - custom random number generator\n * @constructor\n */\nfunction SVM(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n\n    this.kernel = new Kernel(this.options.kernel, this.options.kernelOptions);\n    this.b = 0;\n}\n\n/**\n * Train the SVM model\n * @param {Array <Array <number>>} features - training data features\n * @param {Array <number>} labels - training data labels in the domain {1,-1}\n */\nSVM.prototype.train = function (features, labels) {\n    if (features.length !== labels.length) {\n        throw new Error('Features and labels should have the same length');\n    }\n    if (features.length < 2) {\n        throw new Error('Cannot train with less than 2 observations');\n    }\n    this._trained = false;\n    this._loaded = false;\n    this.N = labels.length;\n    this.D = features[0].length;\n    if (this.options.whitening) {\n        this.X = new Array(this.N);\n        for (var i = 0; i < this.N; i++) {\n            this.X[i] = new Array(this.D);\n        }\n        this.minMax = new Array(this.D);\n        // Apply normalization and keep normalization parameters\n        for (var j = 0; j < this.D; j++) {\n            var d = new Array(this.N);\n            for (i = 0; i < this.N; i++) {\n                d[i] = features[i][j];\n            }\n            this.minMax[j] = stat.minMax(d);\n            for (i = 0; i < this.N; i++) {\n                this.X[i][j] = (features[i][j] - this.minMax[j].min) / (this.minMax[j].max - this.minMax[j].min);\n            }\n        }\n    } else {\n        this.X = features;\n    }\n    this.Y = labels;\n    this.b = 0;\n    this.W = undefined;\n\n    var kernel = this.kernel.compute(this.X);\n    var m = labels.length;\n    var alpha = new Array(m).fill(0);\n    this.alphas = alpha;\n    for (var a = 0; a < m; a++)\n        alpha[a] = 0;\n\n    var b1 = 0,\n        b2 = 0,\n        iter = 0,\n        passes = 0,\n        Ei = 0,\n        Ej = 0,\n        ai = 0,\n        aj = 0,\n        L = 0,\n        H = 0,\n        eta = 0;\n\n    while (passes < this.options.maxPasses && iter < this.options.maxIterations) {\n        var numChange = 0;\n        for (i = 0; i < m; i++) {\n            Ei = this._marginOnePrecomputed(i, kernel) - labels[i];\n            if (labels[i] * Ei < -this.options.tol && alpha[i] < this.options.C || labels[i] * Ei > this.options.tol && alpha[i] > 0) {\n                j = i;\n                while (j === i) j = Math.floor(this.options.random() * m);\n                Ej = this._marginOnePrecomputed(j, kernel) - labels[j];\n                ai = alpha[i];\n                aj = alpha[j];\n                if (labels[i] === labels[j]) {\n                    L = Math.max(0, ai + aj - this.options.C);\n                    H = Math.min(this.options.C, ai + aj);\n                } else  {\n                    L = Math.max(0, aj - ai);\n                    H = Math.min(this.options.C, this.options.C + aj + ai);\n                }\n                if (Math.abs(L - H) < 1e-4) continue;\n\n                eta = 2 * kernel[i][j] - kernel[i][i] - kernel[j][j];\n                if (eta >= 0) continue;\n                var newaj = alpha[j] - labels[j] * (Ei - Ej) / eta;\n                if (newaj > H)\n                    newaj = H;\n                else if (newaj < L)\n                    newaj = L;\n                if (Math.abs(aj - newaj) < 10e-4) continue;\n                alpha[j] = newaj;\n                alpha[i] = alpha[i] + labels[i] * labels[j] * (aj - newaj);\n                b1 = this.b - Ei - labels[i] * (alpha[i] - ai) * kernel[i][i] - labels[j] * (alpha[j] - aj) * kernel[i][j];\n                b2 = this.b - Ej - labels[i] * (alpha[i] - ai) * kernel[i][j] - labels[j] * (alpha[j] - aj) * kernel[j][j];\n                this.b = (b1 + b2) / 2;\n                if (alpha[i] < this.options.C && alpha[i] > 0) this.b = b1;\n                if (alpha[j] < this.options.C && alpha[j] > 0) this.b = b2;\n                numChange += 1;\n            }\n        }\n        iter++;\n        if (numChange === 0)\n            passes += 1;\n        else\n            passes = 0;\n    }\n    if (iter === this.options.maxIterations) {\n        throw new Error('max iterations reached');\n    }\n\n    this.iterations = iter;\n\n    // Compute the weights (useful for fast decision on new test instances when linear SVM)\n    if (this.options.kernel === 'linear') {\n        this.W = new Array(this.D);\n        for (var r = 0; r < this.D; r++) {\n            this.W[r] = 0;\n            for (var w = 0; w < m; w++)\n                this.W[r] += labels[w] * alpha[w] * this.X[w][r];\n        }\n    }\n\n    // Keep only support vectors\n    // It will compute decision on new test instances faster\n    // We also keep the index of the support vectors\n    // in the original data\n    var nX = [];\n    var nY = [];\n    var nAlphas = [];\n    this._supportVectorIdx = [];\n    for (i = 0; i < this.N; i++) {\n        if (this.alphas[i] > this.options.alphaTol) {\n            nX.push(this.X[i]);\n            nY.push(labels[i]);\n            nAlphas.push(this.alphas[i]);\n            this._supportVectorIdx.push(i);\n\n        }\n    }\n    this.X = nX;\n    this.Y = nY;\n    this.N = nX.length;\n    this.alphas = nAlphas;\n\n\n    // A flag to say this SVM has been trained\n    this._trained = true;\n};\n\n/**\n * Get prediction ({-1,1}) given one observation's features.\n * @private\n * @param p The observation's features.\n * @returns {number} Classification result ({-1,1})\n */\nSVM.prototype.predictOne = function (p) {\n    var margin = this.marginOne(p);\n    return margin > 0 ? 1 : -1;\n};\n\n/**\n * Predict the classification outcome of a trained svm given one or several observations' features.\n * @param {Array} features - The observation(s)' features\n * @returns {Array<Number>|Number} An array of {-1, 1} if several observations are given or a number if one observation\n * is given\n */\nSVM.prototype.predict = function (features) {\n    if (!this._trained && !this._loaded) throw new Error('Cannot predict, you need to train the SVM first');\n    if (Array.isArray(features) && Array.isArray(features[0])) {\n        return features.map(this.predictOne.bind(this));\n    } else {\n        return this.predictOne(features);\n    }\n};\n\n/**\n * Get margin given one observation's features\n * @private\n * @param {Array<Number>} features - Features\n * @returns {Number} - The computed margin\n */\nSVM.prototype.marginOne = function (features, noWhitening) {\n    // Apply normalization\n    if (this.options.whitening && !noWhitening) {\n        features = this._applyWhitening(features);\n    }\n    var ans = this.b, i;\n    if (this.options.kernel === 'linear' && this.W) {\n        // Use weights, it's faster\n        for (i = 0; i < this.W.length; i++) {\n            ans += this.W[i] * features[i];\n        }\n    } else {\n        for (i = 0; i < this.N; i++) {\n            ans += this.alphas[i] * this.Y[i] * this.kernel.compute([features], [this.X[i]])[0][0];\n        }\n    }\n    return ans;\n};\n\n\n/**\n * Get a margin using the precomputed kernel. Much faster than normal margin computation\n * @private\n * @param {Number} index - Train data index\n * @param {Array< Array<Number> >} kernel - The precomputed kernel\n * @returns {number} Computed margin\n * @private\n */\nSVM.prototype._marginOnePrecomputed = function (index, kernel) {\n    var ans = this.b, i;\n    for (i = 0; i < this.N; i++) {\n        ans += this.alphas[i] * this.Y[i] * kernel[index][i];\n    }\n    return ans;\n};\n\n\n/**\n * Returns the margin of one or several observations given its features\n * @param {Array <Array<Number> >|Array<Number>} features - Features from on or several observations.\n * @returns {Number|Array} The computed margin. Is an Array if several observations' features given, or a Number if\n * only one observation's features given\n */\nSVM.prototype.margin = function (features) {\n    if (Array.isArray(features)) {\n        return features.map(this.marginOne.bind(this));\n    } else {\n        return this.marginOne(features);\n    }\n};\n\n/**\n * Get support vectors indexes of the trained classifier. WARINNG: this method does not work for svm instances\n * created from {@link #SVM.load load} if linear kernel\n * @returns {Array<Number>} The indices in the training vector of the support vectors\n */\nSVM.prototype.supportVectors = function () {\n    if (!this._trained && !this._loaded) throw new Error('Cannot get support vectors, you need to train the SVM first');\n    if (this._loaded && this.options.kernel === 'linear') throw new Error('Cannot get support vectors from saved linear model, you need to train the SVM to have them');\n    return this._supportVectorIdx;\n};\n\n/**\n * Create a SVM instance from a saved model\n * @param {Object} model -  Object such as returned by a trained SVM instance with {@link #SVM#toJSON toJSON}\n * @returns {SVM} Instance of svm classifier\n */\nSVM.load = function (model) {\n    this._loaded = true;\n    this._trained = false;\n    var svm = new SVM(model.options);\n    if (model.options.kernel === 'linear') {\n        svm.W = model.W.slice();\n        svm.D = svm.W.length;\n    } else {\n        svm.X = model.X.slice();\n        svm.Y = model.Y.slice();\n        svm.alphas = model.alphas.slice();\n        svm.N = svm.X.length;\n        svm.D = svm.X[0].length;\n    }\n    svm.minMax = model.minMax;\n    svm.b = model.b;\n    svm._loaded = true;\n    svm._trained = false;\n    return svm;\n};\n\n/**\n * Export the minimal object that enables to reload the model\n * @returns {Object} Model object that can be reused with {@link #SVM.load load}\n */\nSVM.prototype.toJSON = function () {\n    if (!this._trained && !this._loaded) throw new Error('Cannot export, you need to train the SVM first');\n    var model = {};\n    model.options = Object.assign({}, this.options);\n    model.b = this.b;\n    model.minMax = this.minMax;\n    if (model.options.kernel === 'linear') {\n        model.W = this.W.slice();\n    } else {\n        // Exporting non-linear models is heavier\n        model.X = this.X.slice();\n        model.Y = this.Y.slice();\n        model.alphas = this.alphas.slice();\n    }\n    return model;\n};\n\nSVM.prototype._applyWhitening = function (features) {\n    if (!this.minMax) throw new Error('Could not apply whitening');\n    var whitened = new Array(features.length);\n    for (var j = 0; j < features.length; j++) {\n        whitened[j] = (features[j] - this.minMax[j].min) / (this.minMax[j].max - this.minMax[j].min);\n    }\n    return whitened;\n};\n\nmodule.exports = SVM;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-svm/src/svm.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass GaussianKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.divisor = 2 * options.sigma * options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = squaredEuclidean(x, y);\n        return Math.exp(-distance / this.divisor);\n    }\n}\n\nmodule.exports = GaussianKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-gaussian/gaussian-kernel.js","'use strict';\n\nconst defaultOptions = {\n    degree: 1,\n    constant: 1,\n    scale: 1\n};\n\nclass PolynomialKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n\n        this.degree = options.degree;\n        this.constant = options.constant;\n        this.scale = options.scale;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        for (var i = 0; i < x.length; i++) {\n            sum += x[i] * y[i];\n        }\n        return Math.pow(this.scale * sum + this.constant, this.degree);\n    }\n}\n\nmodule.exports = PolynomialKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-polynomial/polynomial-kernel.js","'use strict';\n\nconst defaultOptions = {\n    sigma: 1,\n    degree: 1\n};\n\nclass ANOVAKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.degree = options.degree;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        var len = Math.min(x.length, y.length);\n        for (var i = 1; i <= len; ++i) {\n            sum += Math.pow(Math.exp(-this.sigma * Math.pow(Math.pow(x[i - 1], i) -\n                    Math.pow(y[i - 1], i), 2)), this.degree);\n        }\n        return sum;\n    }\n}\n\nmodule.exports = ANOVAKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/anova-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass CauchyKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n    }\n\n    compute(x, y) {\n        return 1 / (1 + squaredEuclidean(x, y) / (this.sigma * this.sigma));\n    }\n}\n\nmodule.exports = CauchyKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/cauchy-kernel.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass ExponentialKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n        this.divisor = 2 * options.sigma * options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = euclidean(x, y);\n        return Math.exp(-distance / this.divisor);\n    }\n}\n\nmodule.exports = ExponentialKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/exponential-kernel.js","'use strict';\n\nclass HistogramIntersectionKernel {\n    compute(x, y) {\n        var min = Math.min(x.length, y.length);\n        var sum = 0;\n        for (var i = 0; i < min; ++i) {\n            sum += Math.min(x[i], y[i]);\n        }\n\n        return sum;\n    }\n}\n\nmodule.exports = HistogramIntersectionKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/histogram-intersection-kernel.js","'use strict';\n\nconst euclidean = require('ml-distance-euclidean');\n\nconst defaultOptions = {\n    sigma: 1\n};\n\nclass LaplacianKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.sigma = options.sigma;\n    }\n\n    compute(x, y) {\n        const distance = euclidean(x, y);\n        return Math.exp(-distance / this.sigma);\n    }\n}\n\nmodule.exports = LaplacianKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/laplacian-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    constant: 1\n};\n\nclass MultiquadraticKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        return Math.sqrt(squaredEuclidean(x, y) + this.constant * this.constant);\n    }\n}\n\nmodule.exports = MultiquadraticKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/multiquadratic-kernel.js","'use strict';\n\nconst squaredEuclidean = require('ml-distance-euclidean').squared;\n\nconst defaultOptions = {\n    constant: 1\n};\n\nclass RationalQuadraticKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        const distance = squaredEuclidean(x, y);\n        return 1 - (distance / (distance + this.constant));\n    }\n}\n\nmodule.exports = RationalQuadraticKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel/src/kernels/rational-quadratic-kernel.js","'use strict';\n\nconst defaultOptions = {\n    alpha: 0.01,\n    constant: -Math.E\n};\n\nclass SigmoidKernel {\n    constructor(options) {\n        options = Object.assign({}, defaultOptions, options);\n        this.alpha = options.alpha;\n        this.constant = options.constant;\n    }\n\n    compute(x, y) {\n        var sum = 0;\n        for (var i = 0; i < x.length; i++) {\n            sum += x[i] * y[i];\n        }\n        return Math.tanh(this.alpha * sum + this.constant);\n    }\n}\n\nmodule.exports = SigmoidKernel;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-kernel-sigmoid/sigmoid-kernel.js","export {GaussianNB} from './GaussianNB';\nexport {MultinomialNB} from './MultinomialNB';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/index.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat';\nimport {separateClasses} from './utils';\n\n/**\n * @class GaussianNB\n */\nexport class GaussianNB {\n\n    /**\n     * @constructor\n     * Constructor for the Gaussian Naive Bayes classifier, the parameters here is just for loading purposes.\n     *\n     * @param {boolean} reload\n     * @param {object} model\n     */\n    constructor(reload, model) {\n        if (reload) {\n            this.means = model.means;\n            this.calculateProbabilities = model.calculateProbabilities;\n        }\n    }\n\n    /**\n     * Function that trains the classifier with a matrix that represents the training set and an array that\n     * represents the label of each row in the training set. the labels must be numbers between 0 to n-1 where\n     * n represents the number of classes.\n     *\n     * WARNING: in the case that one class, all the cases in one or more features have the same value, the\n     * Naive Bayes classifier will not work well.\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        var C1 = Math.sqrt(2 * Math.PI); // constant to precalculate the squared root\n        trainingSet = Matrix.checkMatrix(trainingSet);//if (!Matrix.isMatrix(trainingSet)) trainingSet = new Matrix(trainingSet);\n\n        if (trainingSet.rows !== trainingLabels.length) {\n            throw new RangeError('the size of the training set and the training labels must be the same.');\n        }\n\n        var separatedClasses = separateClasses(trainingSet, trainingLabels);\n        var calculateProbabilities = new Array(separatedClasses.length);\n        this.means = new Array(separatedClasses.length);\n        for (var i = 0; i < separatedClasses.length; ++i) {\n            var means = Stat.matrix.mean(separatedClasses[i]);\n            var std = Stat.matrix.standardDeviation(separatedClasses[i], means);\n\n            var logPriorProbability = Math.log(separatedClasses[i].rows / trainingSet.rows);\n            calculateProbabilities[i] = new Array(means.length + 1);\n\n            calculateProbabilities[i][0] = logPriorProbability;\n            for (var j = 1; j < means.length + 1; ++j) {\n                var currentStd = std[j - 1];\n                calculateProbabilities[i][j] = [(1 / (C1 * currentStd)), -2 * currentStd * currentStd];\n            }\n\n            this.means[i] = means;\n        }\n\n        this.calculateProbabilities = calculateProbabilities;\n    }\n\n    /**\n     * function that predicts each row of the dataset (must be a matrix).\n     *\n     * @param {Matrix|Array} dataset\n     * @return {Array}\n     */\n    predict(dataset) {\n        if (dataset[0].length === this.calculateProbabilities[0].length) {\n            throw new RangeError('the dataset must have the same features as the training set');\n        }\n\n        var predictions = new Array(dataset.length);\n\n        for (var i = 0; i < predictions.length; ++i) {\n            predictions[i] = getCurrentClass(dataset[i], this.means, this.calculateProbabilities);\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Function that export the NaiveBayes model.\n     * @return {object}\n     */\n    toJSON() {\n        return {\n            modelName: 'NaiveBayes',\n            means: this.means,\n            calculateProbabilities: this.calculateProbabilities\n        };\n    }\n\n    /**\n     * Function that create a GaussianNB classifier with the given model.\n     * @param {object} model\n     * @return {GaussianNB}\n     */\n    static load(model) {\n        if (model.modelName !== 'NaiveBayes') {\n            throw new RangeError('The current model is not a Multinomial Naive Bayes, current model:', model.name);\n        }\n\n        return new GaussianNB(true, model);\n    }\n}\n\n/**\n * @private\n * Function the retrieves a prediction with one case.\n *\n * @param {Array} currentCase\n * @param {Array} mean - Precalculated means of each class trained\n * @param {Array} classes - Precalculated value of each class (Prior probability and probability function of each feature)\n * @return {number}\n */\nfunction getCurrentClass(currentCase, mean, classes) {\n    var maxProbability = 0;\n    var predictedClass = -1;\n\n    // going through all precalculated values for the classes\n    for (var i = 0; i < classes.length; ++i) {\n        var currentProbability = classes[i][0]; // initialize with the prior probability\n        for (var j = 1; j < classes[0][1].length + 1; ++j) {\n            currentProbability += calculateLogProbability(currentCase[j - 1], mean[i][j - 1], classes[i][j][0], classes[i][j][1]);\n        }\n\n        currentProbability = Math.exp(currentProbability);\n        if (currentProbability > maxProbability) {\n            maxProbability = currentProbability;\n            predictedClass = i;\n        }\n    }\n\n    return predictedClass;\n}\n\n/**\n * @private\n * function that retrieves the probability of the feature given the class.\n * @param {number} value - value of the feature.\n * @param {number} mean - mean of the feature for the given class.\n * @param {number} C1 - precalculated value of (1 / (sqrt(2*pi) * std)).\n * @param {number} C2 - precalculated value of (2 * std^2) for the denominator of the exponential.\n * @return {number}\n */\nfunction calculateLogProbability(value, mean, C1, C2) {\n    value = value - mean;\n    return Math.log(C1 * Math.exp((value * value) / C2));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/GaussianNB.js","import Matrix from 'ml-matrix';\nimport {separateClasses} from './utils';\n\n/**\n * @class MultinomialNB\n */\nexport class MultinomialNB {\n\n    /**\n     * @constructor\n     * Constructor for Multinomial Naive Bayes, the model parameter is for load purposes.\n     *\n     * @param {object} model - for load purposes.\n     */\n    constructor(model) {\n        if (model) {\n            this.conditionalProbability = Matrix.checkMatrix(model.conditionalProbability);\n            this.priorProbability = Matrix.checkMatrix(model.priorProbability);\n        }\n    }\n\n    /**\n     * Train the classifier with the current training set and labels, the labels must be numbers between 0 and n.\n     * @param {Matrix|Array} trainingSet\n     * @param {Array} trainingLabels\n     */\n    train(trainingSet, trainingLabels) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n\n        if (trainingSet.rows !== trainingLabels.length) {\n            throw new RangeError('the size of the training set and the training labels must be the same.');\n        }\n\n        var separateClass = separateClasses(trainingSet, trainingLabels);\n        this.priorProbability = new Matrix(separateClass.length, 1);\n\n        for (var i = 0; i < separateClass.length; ++i) {\n            this.priorProbability[i][0] = Math.log(separateClass[i].length / trainingSet.rows);\n        }\n\n        var features = trainingSet.columns;\n        this.conditionalProbability = new Matrix(separateClass.length, features);\n        for (i = 0; i < separateClass.length; ++i) {\n            var classValues = Matrix.checkMatrix(separateClass[i]);\n            var total = classValues.sum();\n            var divisor = total + features;\n            this.conditionalProbability.setRow(i, classValues.sum('column').add(1).div(divisor).apply(matrixLog));\n        }\n    }\n\n    /**\n     * Retrieves the predictions for the dataset with the current model.\n     * @param {Matrix|Array} dataset\n     * @return {Array} - predictions from the dataset.\n     */\n    predict(dataset) {\n        dataset = Matrix.checkMatrix(dataset);\n        var predictions = new Array(dataset.rows);\n        for (var i = 0; i < dataset.rows; ++i) {\n            var currentElement = dataset.getRowVector(i);\n            predictions[i] = this.conditionalProbability.clone().mulRowVector(currentElement).sum('row')\n                .add(this.priorProbability).maxIndex()[0];\n        }\n\n        return predictions;\n    }\n\n    /**\n     * Function that saves the current model.\n     * @return {object} - model in JSON format.\n     */\n    toJSON() {\n        return {\n            name: 'MultinomialNB',\n            priorProbability: this.priorProbability,\n            conditionalProbability: this.conditionalProbability\n        };\n    }\n\n    /**\n     * Creates a new MultinomialNB from the given model\n     * @param {object} model\n     * @return {MultinomialNB}\n     */\n    static load(model) {\n        if (model.name !== 'MultinomialNB') {\n            throw new RangeError(`${model.name} is not a Multinomial Naive Bayes`);\n        }\n\n        return new MultinomialNB(model);\n    }\n}\n\nfunction matrixLog(i, j) {\n    this[i][j] = Math.log(this[i][j]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-naivebayes/src/MultinomialNB.js","import KDTree from './KDTree';\nimport euclideanDistance from 'ml-distance-euclidean';\n\nexport default class KNN {\n\n    /**\n     * @param {Array} dataset\n     * @param {Array} labels\n     * @param {object} options\n     * @param {number} [options.k=numberOfClasses + 1] - Number of neighbors to classify.\n     * @param {function} [options.distance=euclideanDistance] - Distance function that takes two parameters.\n     */\n    constructor(dataset, labels, options = {}) {\n        if (dataset === true) {\n            const model = labels;\n            this.kdTree = new KDTree(model.kdTree, options);\n            this.k = model.k;\n            this.classes = new Set(model.classes);\n            this.isEuclidean = model.isEuclidean;\n            return;\n        }\n\n        const classes = new Set(labels);\n\n        const {\n            distance = euclideanDistance,\n            k = classes.size + 1\n        } = options;\n\n        const points = new Array(dataset.length);\n        for (var i = 0; i < points.length; ++i) {\n            points[i] = dataset[i].slice();\n        }\n\n        for (i = 0; i < labels.length; ++i) {\n            points[i].push(labels[i]);\n        }\n\n        this.kdTree = new KDTree(points, distance);\n        this.k = k;\n        this.classes = classes;\n        this.isEuclidean = distance === euclideanDistance;\n    }\n\n    /**\n     * Create a new KNN instance with the given model.\n     * @param {object} model\n     * @param {function} distance=euclideanDistance - distance function must be provided if the model wasn't trained with euclidean distance.\n     * @return {KNN}\n     */\n    static load(model, distance = euclideanDistance) {\n        if (model.name !== 'KNN') {\n            throw new Error('invalid model: ' + model.name);\n        }\n        if (!model.isEuclidean && distance === euclideanDistance) {\n            throw new Error('a custom distance function was used to create the model. Please provide it again');\n        }\n        if (model.isEuclidean && distance !== euclideanDistance) {\n            throw new Error('the model was created with the default distance function. Do not load it with another one');\n        }\n        return new KNN(true, model, distance);\n    }\n\n    /**\n     * Return a JSON containing the kd-tree model.\n     * @return {object} JSON KNN model.\n     */\n    toJSON() {\n        return {\n            name: 'KNN',\n            kdTree: this.kdTree,\n            k: this.k,\n            classes: Array.from(this.classes),\n            isEuclidean: this.isEuclidean\n        };\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Array} dataset\n     * @return {Array} predictions\n     */\n    predict(dataset) {\n        if (Array.isArray(dataset)) {\n            if (typeof dataset[0] === 'number') {\n                return getSinglePrediction(this, dataset);\n            } else if (Array.isArray(dataset[0]) && typeof dataset[0][0] === 'number') {\n                const predictions = new Array(dataset.length);\n                for (var i = 0; i < dataset.length; i++) {\n                    predictions[i] = getSinglePrediction(this, dataset[i]);\n                }\n                return predictions;\n            }\n        }\n        throw new TypeError('dataset to predict must be an array or a matrix');\n    }\n}\n\nfunction getSinglePrediction(knn, currentCase) {\n    var nearestPoints = knn.kdTree.nearest(currentCase, knn.k);\n    var pointsPerClass = {};\n    var predictedClass = -1;\n    var maxPoints = -1;\n    var lastElement = nearestPoints[0][0].length - 1;\n\n    for (var element of knn.classes) {\n        pointsPerClass[element] = 0;\n    }\n\n    for (var i = 0; i < nearestPoints.length; ++i) {\n        var currentClass = nearestPoints[i][0][lastElement];\n        var currentPoints = ++pointsPerClass[currentClass];\n        if (currentPoints > maxPoints) {\n            predictedClass = currentClass;\n            maxPoints = currentPoints;\n        }\n    }\n\n    return predictedClass;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-knn/src/index.js","/*\n * Original code from:\n *\n * k-d Tree JavaScript - V 1.01\n *\n * https://github.com/ubilabs/kd-tree-javascript\n *\n * @author Mircea Pricop <pricop@ubilabs.net>, 2012\n * @author Martin Kleppe <kleppe@ubilabs.net>, 2012\n * @author Ubilabs http://ubilabs.net, 2012\n * @license MIT License <http://www.opensource.org/licenses/mit-license.php>\n */\n\nfunction Node(obj, dimension, parent) {\n    this.obj = obj;\n    this.left = null;\n    this.right = null;\n    this.parent = parent;\n    this.dimension = dimension;\n}\n\nexport default class KDTree {\n    constructor(points, metric) {\n        // If points is not an array, assume we're loading a pre-built tree\n        if (!Array.isArray(points)) {\n            this.dimensions = points.dimensions;\n            this.root = points;\n            restoreParent(this.root);\n        } else {\n            this.dimensions = new Array(points[0].length);\n            for (var i = 0; i < this.dimensions.length; i++) {\n                this.dimensions[i] = i;\n            }\n            this.root = buildTree(points, 0, null, this.dimensions);\n        }\n        this.metric = metric;\n    }\n\n    // Convert to a JSON serializable structure; this just requires removing\n    // the `parent` property\n    toJSON() {\n        const result = toJSONImpl(this.root, true);\n        result.dimensions = this.dimensions;\n        return result;\n    }\n\n    nearest(point, maxNodes, maxDistance) {\n        const metric = this.metric;\n        const dimensions = this.dimensions;\n        var i;\n\n        const bestNodes = new BinaryHeap(\n            function (e) {\n                return -e[1];\n            }\n        );\n\n        function nearestSearch(node) {\n            const dimension = dimensions[node.dimension];\n            const ownDistance = metric(point, node.obj);\n            const linearPoint = {};\n            var bestChild,\n                linearDistance,\n                otherChild,\n                i;\n\n            function saveNode(node, distance) {\n                bestNodes.push([node, distance]);\n                if (bestNodes.size() > maxNodes) {\n                    bestNodes.pop();\n                }\n            }\n\n            for (i = 0; i < dimensions.length; i += 1) {\n                if (i === node.dimension) {\n                    linearPoint[dimensions[i]] = point[dimensions[i]];\n                } else {\n                    linearPoint[dimensions[i]] = node.obj[dimensions[i]];\n                }\n            }\n\n            linearDistance = metric(linearPoint, node.obj);\n\n            if (node.right === null && node.left === null) {\n                if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {\n                    saveNode(node, ownDistance);\n                }\n                return;\n            }\n\n            if (node.right === null) {\n                bestChild = node.left;\n            } else if (node.left === null) {\n                bestChild = node.right;\n            } else {\n                if (point[dimension] < node.obj[dimension]) {\n                    bestChild = node.left;\n                } else {\n                    bestChild = node.right;\n                }\n            }\n\n            nearestSearch(bestChild);\n\n            if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {\n                saveNode(node, ownDistance);\n            }\n\n            if (bestNodes.size() < maxNodes || Math.abs(linearDistance) < bestNodes.peek()[1]) {\n                if (bestChild === node.left) {\n                    otherChild = node.right;\n                } else {\n                    otherChild = node.left;\n                }\n                if (otherChild !== null) {\n                    nearestSearch(otherChild);\n                }\n            }\n        }\n\n        if (maxDistance) {\n            for (i = 0; i < maxNodes; i += 1) {\n                bestNodes.push([null, maxDistance]);\n            }\n        }\n\n        if (this.root) {\n            nearestSearch(this.root);\n        }\n\n        const result = [];\n        for (i = 0; i < Math.min(maxNodes, bestNodes.content.length); i += 1) {\n            if (bestNodes.content[i][0]) {\n                result.push([bestNodes.content[i][0].obj, bestNodes.content[i][1]]);\n            }\n        }\n        return result;\n    }\n}\n\nfunction toJSONImpl(src) {\n    const dest = new Node(src.obj, src.dimension, null);\n    if (src.left) dest.left = toJSONImpl(src.left);\n    if (src.right) dest.right = toJSONImpl(src.right);\n    return dest;\n}\n\nfunction buildTree(points, depth, parent, dimensions) {\n    const dim = depth % dimensions.length;\n\n    if (points.length === 0) {\n        return null;\n    }\n    if (points.length === 1) {\n        return new Node(points[0], dim, parent);\n    }\n\n    points.sort((a, b) => a[dimensions[dim]] - b[dimensions[dim]]);\n\n    const median = Math.floor(points.length / 2);\n    const node = new Node(points[median], dim, parent);\n    node.left = buildTree(points.slice(0, median), depth + 1, node, dimensions);\n    node.right = buildTree(points.slice(median + 1), depth + 1, node, dimensions);\n\n    return node;\n}\n\nfunction restoreParent(root) {\n    if (root.left) {\n        root.left.parent = root;\n        restoreParent(root.left);\n    }\n\n    if (root.right) {\n        root.right.parent = root;\n        restoreParent(root.right);\n    }\n}\n\n// Binary heap implementation from:\n// http://eloquentjavascript.net/appendix2.html\nclass BinaryHeap {\n    constructor(scoreFunction) {\n        this.content = [];\n        this.scoreFunction = scoreFunction;\n    }\n\n    push(element) {\n        // Add the new element to the end of the array.\n        this.content.push(element);\n        // Allow it to bubble up.\n        this.bubbleUp(this.content.length - 1);\n    }\n\n    pop() {\n        // Store the first element so we can return it later.\n        var result = this.content[0];\n        // Get the element at the end of the array.\n        var end = this.content.pop();\n        // If there are any elements left, put the end element at the\n        // start, and let it sink down.\n        if (this.content.length > 0) {\n            this.content[0] = end;\n            this.sinkDown(0);\n        }\n        return result;\n    }\n\n    peek() {\n        return this.content[0];\n    }\n\n    size() {\n        return this.content.length;\n    }\n\n    bubbleUp(n) {\n        // Fetch the element that has to be moved.\n        var element = this.content[n];\n        // When at 0, an element can not go up any further.\n        while (n > 0) {\n            // Compute the parent element's index, and fetch it.\n            const parentN = Math.floor((n + 1) / 2) - 1;\n            const parent = this.content[parentN];\n            // Swap the elements if the parent is greater.\n            if (this.scoreFunction(element) < this.scoreFunction(parent)) {\n                this.content[parentN] = element;\n                this.content[n] = parent;\n                // Update 'n' to continue at the new position.\n                n = parentN;\n            } else { // Found a parent that is less, no need to move it further.\n                break;\n            }\n        }\n    }\n\n    sinkDown(n) {\n        // Look up the target element and its score.\n        var length = this.content.length;\n        var element = this.content[n];\n        var elemScore = this.scoreFunction(element);\n\n        while (true) {\n            // Compute the indices of the child elements.\n            var child2N = (n + 1) * 2;\n            var child1N = child2N - 1;\n            // This is used to store the new position of the element,\n            // if any.\n            var swap = null;\n            // If the first child exists (is inside the array)...\n            if (child1N < length) {\n                // Look it up and compute its score.\n                var child1 = this.content[child1N];\n                var child1Score = this.scoreFunction(child1);\n                // If the score is less than our element's, we need to swap.\n                if (child1Score < elemScore) {\n                    swap = child1N;\n                }\n            }\n            // Do the same checks for the other child.\n            if (child2N < length) {\n                var child2 = this.content[child2N];\n                var child2Score = this.scoreFunction(child2);\n                if (child2Score < (swap === null ? elemScore : child1Score)) {\n                    swap = child2N;\n                }\n            }\n\n            // If the element needs to be moved, swap it, and continue.\n            if (swap !== null) {\n                this.content[n] = this.content[swap];\n                this.content[swap] = element;\n                n = swap;\n            } else {\n                // Otherwise, we are done.\n                break;\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-knn/src/KDTree.js","export {PLS} from './pls';\nexport {KOPLS} from './kopls';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/index.js","import Matrix from 'ml-matrix';\nimport Stat from 'ml-stat/matrix';\nimport * as Utils from './utils';\n\n/**\n * @class PLS\n */\nexport class PLS {\n\n    /**\n     * Constructor for Partial Least Squares (PLS)\n     * @param {object} options\n     * @param {number} [options.latentVectors] - Number of latent vector to get (if the algorithm doesn't find a good model below the tolerance)\n     * @param {number} [options.tolerance=1e-5]\n     * @param {boolean} [options.scale=true] - rescale dataset using mean.\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.meanX = model.meanX;\n            this.stdDevX = model.stdDevX;\n            this.meanY = model.meanY;\n            this.stdDevY = model.stdDevY;\n            this.PBQ = Matrix.checkMatrix(model.PBQ);\n            this.R2X = model.R2X;\n            this.scale = model.scale;\n            this.scaleMethod = model.scaleMethod;\n            this.tolerance = model.tolerance;\n        } else {\n            var {\n                tolerance = 1e-5,\n                scale = true,\n            } = options;\n            this.tolerance = tolerance;\n            this.scale = scale;\n            this.latentVectors = options.latentVectors;\n        }\n    }\n\n    /**\n     * Fits the model with the given data and predictions, in this function is calculated the\n     * following outputs:\n     *\n     * T - Score matrix of X\n     * P - Loading matrix of X\n     * U - Score matrix of Y\n     * Q - Loading matrix of Y\n     * B - Matrix of regression coefficient\n     * W - Weight matrix of X\n     *\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        trainingValues = Matrix.checkMatrix(trainingValues);\n\n        if (trainingSet.length !== trainingValues.length) {\n            throw new RangeError('The number of X rows must be equal to the number of Y rows');\n        }\n\n        this.meanX = Stat.mean(trainingSet);\n        this.stdDevX = Stat.standardDeviation(trainingSet, this.meanX, true);\n        this.meanY = Stat.mean(trainingValues);\n        this.stdDevY = Stat.standardDeviation(trainingValues, this.meanY, true);\n\n        if (this.scale) { // here should be the ml-preprocess project\n            trainingSet = trainingSet.clone().subRowVector(this.meanX).divRowVector(this.stdDevX);\n            trainingValues = trainingValues.clone().subRowVector(this.meanY).divRowVector(this.stdDevY);\n        }\n\n        if (this.latentVectors === undefined) {\n            this.latentVectors = Math.min(trainingSet.length - 1, trainingSet[0].length);\n        }\n\n        var rx = trainingSet.rows;\n        var cx = trainingSet.columns;\n        var ry = trainingValues.rows;\n        var cy = trainingValues.columns;\n\n        var ssqXcal = trainingSet.clone().mul(trainingSet).sum(); // for the r\n        var sumOfSquaresY = trainingValues.clone().mul(trainingValues).sum();\n\n        var tolerance = this.tolerance;\n        var n = this.latentVectors;\n        var T = Matrix.zeros(rx, n);\n        var P = Matrix.zeros(cx, n);\n        var U = Matrix.zeros(ry, n);\n        var Q = Matrix.zeros(cy, n);\n        var B = Matrix.zeros(n, n);\n        var W = P.clone();\n        var k = 0;\n\n        while (Utils.norm(trainingValues) > tolerance && k < n) {\n            var transposeX = trainingSet.transpose();\n            var transposeY = trainingValues.transpose();\n\n            var tIndex = maxSumColIndex(trainingSet.clone().mulM(trainingSet));\n            var uIndex = maxSumColIndex(trainingValues.clone().mulM(trainingValues));\n\n            var t1 = trainingSet.getColumnVector(tIndex);\n            var u = trainingValues.getColumnVector(uIndex);\n            var t = Matrix.zeros(rx, 1);\n\n            while (Utils.norm(t1.clone().sub(t)) > tolerance) {\n                var w = transposeX.mmul(u);\n                w.div(Utils.norm(w));\n                t = t1;\n                t1 = trainingSet.mmul(w);\n                var q = transposeY.mmul(t1);\n                q.div(Utils.norm(q));\n                u = trainingValues.mmul(q);\n            }\n\n            t = t1;\n            var num = transposeX.mmul(t);\n            var den = (t.transpose().mmul(t))[0][0];\n            var p = num.div(den);\n            var pnorm = Utils.norm(p);\n            p.div(pnorm);\n            t.mul(pnorm);\n            w.mul(pnorm);\n\n            num = u.transpose().mmul(t);\n            den = (t.transpose().mmul(t))[0][0];\n            var b = (num.div(den))[0][0];\n            trainingSet.sub(t.mmul(p.transpose()));\n            trainingValues.sub(t.clone().mul(b).mmul(q.transpose()));\n\n            T.setColumn(k, t);\n            P.setColumn(k, p);\n            U.setColumn(k, u);\n            Q.setColumn(k, q);\n            W.setColumn(k, w);\n\n            B[k][k] = b;\n            k++;\n        }\n\n        k--;\n        T = T.subMatrix(0, T.rows - 1, 0, k);\n        P = P.subMatrix(0, P.rows - 1, 0, k);\n        U = U.subMatrix(0, U.rows - 1, 0, k);\n        Q = Q.subMatrix(0, Q.rows - 1, 0, k);\n        W = W.subMatrix(0, W.rows - 1, 0, k);\n        B = B.subMatrix(0, k, 0, k);\n\n        // TODO: review of R2Y\n        //this.R2Y = t.transpose().mmul(t).mul(q[k][0]*q[k][0]).divS(ssqYcal)[0][0];\n        //\n        this.ssqYcal = sumOfSquaresY;\n        this.E = trainingSet;\n        this.F = trainingValues;\n        this.T = T;\n        this.P = P;\n        this.U = U;\n        this.Q = Q;\n        this.W = W;\n        this.B = B;\n        this.PBQ = P.mmul(B).mmul(Q.transpose());\n        this.R2X = t.transpose().mmul(t).mmul(p.transpose().mmul(p)).div(ssqXcal)[0][0];\n    }\n\n    /**\n     * Predicts the behavior of the given dataset.\n     * @param {Matrix|Array} dataset - data to be predicted.\n     * @return {Matrix} - predictions of each element of the dataset.\n     */\n    predict(dataset) {\n        var X = Matrix.checkMatrix(dataset);\n        if (this.scale) {\n            X = X.subRowVector(this.meanX).divRowVector(this.stdDevX);\n        }\n        var Y = X.mmul(this.PBQ);\n        Y = Y.mulRowVector(this.stdDevY).addRowVector(this.meanY);\n        return Y;\n    }\n\n    /**\n     * Returns the explained variance on training of the PLS model\n     * @return {number}\n     */\n    getExplainedVariance() {\n        return this.R2X;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            name: 'PLS',\n            R2X: this.R2X,\n            meanX: this.meanX,\n            stdDevX: this.stdDevX,\n            meanY: this.meanY,\n            stdDevY: this.stdDevY,\n            PBQ: this.PBQ,\n            tolerance: this.tolerance,\n            scale: this.scale,\n        };\n    }\n\n    /**\n     * Load a PLS model from a JSON Object\n     * @param {object} model\n     * @return {PLS} - PLS object from the given model\n     */\n    static load(model) {\n        if (model.name !== 'PLS') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n        return new PLS(true, model);\n    }\n}\n\n/**\n * @private\n * Function that returns the index where the sum of each\n * column vector is maximum.\n * @param {Matrix} data\n * @return {number} index of the maximum\n */\nfunction maxSumColIndex(data) {\n    return data.sum('column').maxIndex()[0];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/pls.js","import {Matrix, SingularValueDecomposition, inverse} from 'ml-matrix';\nimport {initializeMatrices} from './utils';\n\n/**\n * @class KOPLS\n */\nexport class KOPLS {\n\n    /**\n     * Constructor for Kernel-based Orthogonal Projections to Latent Structures (K-OPLS)\n     * @param {object} options\n     * @param {number} [options.predictiveComponents] - Number of predictive components to use.\n     * @param {number} [options.orthogonalComponents] - Number of Y-Orthogonal components.\n     * @param {Kernel} [options.kernel] - Kernel object to apply, see [ml-kernel](https://github.com/mljs/kernel).\n     * @param {object} model - for load purposes.\n     */\n    constructor(options, model) {\n        if (options === true) {\n            this.trainingSet = new Matrix(model.trainingSet);\n            this.YLoadingMat = new Matrix(model.YLoadingMat);\n            this.SigmaPow = new Matrix(model.SigmaPow);\n            this.YScoreMat = new Matrix(model.YScoreMat);\n            this.predScoreMat = initializeMatrices(model.predScoreMat, false);\n            this.YOrthLoadingVec = initializeMatrices(model.YOrthLoadingVec, false);\n            this.YOrthEigen = model.YOrthEigen;\n            this.YOrthScoreMat = initializeMatrices(model.YOrthScoreMat, false);\n            this.toNorm = initializeMatrices(model.toNorm, false);\n            this.TURegressionCoeff = initializeMatrices(model.TURegressionCoeff, false);\n            this.kernelX = initializeMatrices(model.kernelX, true);\n            this.kernel = model.kernel;\n            this.orthogonalComp = model.orthogonalComp;\n            this.predictiveComp = model.predictiveComp;\n        } else {\n            if (options.predictiveComponents === undefined) {\n                throw new RangeError('no predictive components found!');\n            }\n            if (options.orthogonalComponents === undefined) {\n                throw new RangeError('no orthogonal components found!');\n            }\n            if (options.kernel === undefined) {\n                throw new RangeError('no kernel found!');\n            }\n\n            this.orthogonalComp = options.orthogonalComponents;\n            this.predictiveComp = options.predictiveComponents;\n            this.kernel = options.kernel;\n        }\n    }\n\n    /**\n     * Train the K-OPLS model with the given training set and labels.\n     * @param {Matrix|Array} trainingSet\n     * @param {Matrix|Array} trainingValues\n     */\n    train(trainingSet, trainingValues) {\n        trainingSet = Matrix.checkMatrix(trainingSet);\n        trainingValues = Matrix.checkMatrix(trainingValues);\n\n        // to save and compute kernel with the prediction dataset.\n        this.trainingSet = trainingSet.clone();\n\n        var kernelX = this.kernel.compute(trainingSet);\n\n        var Identity = Matrix.eye(kernelX.rows, kernelX.rows, 1);\n        var temp = kernelX;\n        kernelX = new Matrix(this.orthogonalComp + 1, this.orthogonalComp + 1);\n        kernelX[0][0] = temp;\n\n        var result = new SingularValueDecomposition(trainingValues.transpose().mmul(kernelX[0][0]).mmul(trainingValues), {\n            computeLeftSingularVectors: true,\n            computeRightSingularVectors: false\n        });\n        var YLoadingMat = result.leftSingularVectors;\n        var Sigma = result.diagonalMatrix;\n\n        YLoadingMat = YLoadingMat.subMatrix(0, YLoadingMat.rows - 1, 0, this.predictiveComp - 1);\n        Sigma = Sigma.subMatrix(0, this.predictiveComp - 1, 0, this.predictiveComp - 1);\n\n        var YScoreMat = trainingValues.mmul(YLoadingMat);\n\n        var predScoreMat = new Array(this.orthogonalComp + 1);\n        var TURegressionCoeff = new Array(this.orthogonalComp + 1);\n        var YOrthScoreMat = new Array(this.orthogonalComp);\n        var YOrthLoadingVec = new Array(this.orthogonalComp);\n        var YOrthEigen = new Array(this.orthogonalComp);\n        var YOrthScoreNorm = new Array(this.orthogonalComp);\n\n        var SigmaPow = Matrix.pow(Sigma, -0.5);\n        // to avoid errors, check infinity\n        SigmaPow.apply(function (i, j) {\n            if (this[i][j] === Infinity) {\n                this[i][j] = 0.0;\n            }\n        });\n\n        for (var i = 0; i < this.orthogonalComp; ++i) {\n            predScoreMat[i] = kernelX[0][i].transpose().mmul(YScoreMat).mmul(SigmaPow);\n\n            var TpiPrime = predScoreMat[i].transpose();\n            TURegressionCoeff[i] = inverse(TpiPrime.mmul(predScoreMat[i])).mmul(TpiPrime).mmul(YScoreMat);\n\n            result = new SingularValueDecomposition(TpiPrime.mmul(Matrix.sub(kernelX[i][i], predScoreMat[i].mmul(TpiPrime))).mmul(predScoreMat[i]), {\n                computeLeftSingularVectors: true,\n                computeRightSingularVectors: false\n            });\n            var CoTemp = result.leftSingularVectors;\n            var SoTemp = result.diagonalMatrix;\n\n            YOrthLoadingVec[i] = CoTemp.subMatrix(0, CoTemp.rows - 1, 0, 0);\n            YOrthEigen[i] = SoTemp[0][0];\n\n            YOrthScoreMat[i] = Matrix.sub(kernelX[i][i], predScoreMat[i].mmul(TpiPrime)).mmul(predScoreMat[i]).mmul(YOrthLoadingVec[i]).mul(Math.pow(YOrthEigen[i], -0.5));\n\n            var toiPrime = YOrthScoreMat[i].transpose();\n            YOrthScoreNorm[i] = Matrix.sqrt(toiPrime.mmul(YOrthScoreMat[i]));\n\n            YOrthScoreMat[i] = YOrthScoreMat[i].divRowVector(YOrthScoreNorm[i]);\n\n            var ITo = Matrix.sub(Identity, YOrthScoreMat[i].mmul(YOrthScoreMat[i].transpose()));\n\n            kernelX[0][i + 1] = kernelX[0][i].mmul(ITo);\n            kernelX[i + 1][i + 1] = ITo.mmul(kernelX[i][i]).mmul(ITo);\n        }\n\n        var lastScoreMat = predScoreMat[this.orthogonalComp] = kernelX[0][this.orthogonalComp].transpose().mmul(YScoreMat).mmul(SigmaPow);\n\n        var lastTpPrime = lastScoreMat.transpose();\n        TURegressionCoeff[this.orthogonalComp] = inverse(lastTpPrime.mmul(lastScoreMat)).mmul(lastTpPrime).mmul(YScoreMat);\n\n        this.YLoadingMat = YLoadingMat;\n        this.SigmaPow = SigmaPow;\n        this.YScoreMat = YScoreMat;\n        this.predScoreMat = predScoreMat;\n        this.YOrthLoadingVec = YOrthLoadingVec;\n        this.YOrthEigen = YOrthEigen;\n        this.YOrthScoreMat = YOrthScoreMat;\n        this.toNorm = YOrthScoreNorm;\n        this.TURegressionCoeff = TURegressionCoeff;\n        this.kernelX = kernelX;\n    }\n\n    /**\n     * Predicts the output given the matrix to predict.\n     * @param {Matrix|Array} toPredict\n     * @return {{y: Matrix, predScoreMat: Array<Matrix>, predYOrthVectors: Array<Matrix>}} predictions\n     */\n    predict(toPredict) {\n\n        var KTestTrain = this.kernel.compute(toPredict, this.trainingSet);\n\n        var temp = KTestTrain;\n        KTestTrain = new Matrix(this.orthogonalComp + 1, this.orthogonalComp + 1);\n        KTestTrain[0][0] = temp;\n\n        var YOrthScoreVector = new Array(this.orthogonalComp);\n        var predScoreMat = new Array(this.orthogonalComp);\n\n        var i;\n        for (i = 0; i < this.orthogonalComp; ++i) {\n            predScoreMat[i] = KTestTrain[i][0].mmul(this.YScoreMat).mmul(this.SigmaPow);\n\n            YOrthScoreVector[i] = Matrix.sub(KTestTrain[i][i], predScoreMat[i].mmul(this.predScoreMat[i].transpose())).mmul(this.predScoreMat[i]).mmul(this.YOrthLoadingVec[i]).mul(Math.pow(this.YOrthEigen[i], -0.5));\n\n            YOrthScoreVector[i] = YOrthScoreVector[i].divRowVector(this.toNorm[i]);\n\n            var scoreMatPrime = this.YOrthScoreMat[i].transpose();\n            KTestTrain[i + 1][0] = Matrix.sub(KTestTrain[i][0], YOrthScoreVector[i].mmul(scoreMatPrime).mmul(this.kernelX[0][i].transpose()));\n\n            var p1 = Matrix.sub(KTestTrain[i][0], KTestTrain[i][i].mmul(this.YOrthScoreMat[i]).mmul(scoreMatPrime));\n            var p2 = YOrthScoreVector[i].mmul(scoreMatPrime).mmul(this.kernelX[i][i]);\n            var p3 = p2.mmul(this.YOrthScoreMat[i]).mmul(scoreMatPrime);\n\n            KTestTrain[i + 1][i + 1] = p1.sub(p2).add(p3);\n        }\n\n        predScoreMat[i] = KTestTrain[i][0].mmul(this.YScoreMat).mmul(this.SigmaPow);\n        var prediction = predScoreMat[i].mmul(this.TURegressionCoeff[i]).mmul(this.YLoadingMat.transpose());\n\n        return {\n            prediction: prediction,\n            predScoreMat: predScoreMat,\n            predYOrthVectors: YOrthScoreVector\n        };\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} - Current model.\n     */\n    toJSON() {\n        return {\n            name: 'K-OPLS',\n            YLoadingMat: this.YLoadingMat,\n            SigmaPow: this.SigmaPow,\n            YScoreMat: this.YScoreMat,\n            predScoreMat: this.predScoreMat,\n            YOrthLoadingVec: this.YOrthLoadingVec,\n            YOrthEigen: this.YOrthEigen,\n            YOrthScoreMat: this.YOrthScoreMat,\n            toNorm: this.toNorm,\n            TURegressionCoeff: this.TURegressionCoeff,\n            kernelX: this.kernelX,\n            trainingSet: this.trainingSet,\n            orthogonalComp: this.orthogonalComp,\n            predictiveComp: this.predictiveComp\n        };\n    }\n\n    /**\n     * Load a K-OPLS with the given model.\n     * @param {object} model\n     * @param {Kernel} kernel - kernel used on the model, see [ml-kernel](https://github.com/mljs/kernel).\n     * @return {KOPLS}\n     */\n    static load(model, kernel) {\n        if (model.name !== 'K-OPLS') {\n            throw new RangeError('Invalid model: ' + model.name);\n        }\n\n        if (!kernel) {\n            throw new RangeError('You must provide a kernel for the model!');\n        }\n\n        model.kernel = kernel;\n        return new KOPLS(true, model);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-pls/src/kopls.js","'use strict';\n\nconst ConfusionMatrix = require('ml-confusion-matrix');\n\nconst CV = {};\nconst combinations = require('ml-combinations');\n\n/**\n * Performs a leave-one-out cross-validation (LOO-CV) of the given samples. In LOO-CV, 1 observation is used as the\n * validation set while the rest is used as the training set. This is repeated once for each observation. LOO-CV is a\n * special case of LPO-CV. @see leavePout\n * @param {function} Classifier - The classifier's constructor to use for the cross validation. Expect ml-classifier\n *     api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.leaveOneOut = function (Classifier, features, labels, classifierOptions) {\n    if (typeof labels === 'function') {\n        var callback = labels;\n        labels = features;\n        features = Classifier;\n        return CV.leavePOut(features, labels, 1, callback);\n    }\n    return CV.leavePOut(Classifier, features, labels, classifierOptions, 1);\n};\n\n\n/**\n * Performs a leave-p-out cross-validation (LPO-CV) of the given samples. In LPO-CV, p observations are used as the\n * validation set while the rest is used as the training set. This is repeated as many times as there are possible\n * ways to combine p observations from the set (unordered without replacement). Be aware that for relatively small\n * data-set size this can require a very large number of training and testing to do!\n * @param {function} Classifier - The classifier's constructor to use for the cross validation. Expect ml-classifier\n *     api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @param {number} p - The size of the validation sub-samples' set\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.leavePOut = function (Classifier, features, labels, classifierOptions, p) {\n    if (typeof classifierOptions === 'function') {\n        var callback = classifierOptions;\n        p = labels;\n        labels = features;\n        features = Classifier;\n    }\n    check(features, labels);\n    const distinct = getDistinct(labels);\n    const confusionMatrix = initMatrix(distinct.length, distinct.length);\n\n    var N = features.length;\n    var gen = combinations(p, N);\n    var allIdx = new Array(N);\n    for (let i = 0; i < N; i++) {\n        allIdx[i] = i;\n    }\n    for (const testIdx of gen) {\n        var trainIdx = allIdx.slice();\n\n        for (let i = testIdx.length - 1; i >= 0; i--) {\n            trainIdx.splice(testIdx[i], 1);\n        }\n\n        if (callback) {\n            validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback);\n        } else {\n            validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct);\n        }\n\n    }\n\n    return new ConfusionMatrix(confusionMatrix, distinct);\n};\n\n/**\n * Performs k-fold cross-validation (KF-CV). KF-CV separates the data-set into k random equally sized partitions, and\n * uses each as a validation set, with all other partitions used in the training set. Observations left over from if k\n * does not divide the number of observations are left out of the cross-validation process.\n * @param {function} Classifier - The classifier's to use for the cross validation. Expect ml-classifier api.\n * @param {Array} features - The features for all samples of the data-set\n * @param {Array} labels - The classification class of all samples of the data-set\n * @param {object} classifierOptions - The classifier options with which the classifier should be instantiated.\n * @param {number} k - The number of partitions to create\n * @return {ConfusionMatrix} - The cross-validation confusion matrix\n */\nCV.kFold = function (Classifier, features, labels, classifierOptions, k) {\n    if (typeof classifierOptions === 'function') {\n        var callback = classifierOptions;\n        k = labels;\n        labels = features;\n        features = Classifier;\n    }\n    check(features, labels);\n    const distinct = getDistinct(labels);\n    const confusionMatrix = initMatrix(distinct.length, distinct.length);\n    var N = features.length;\n    var allIdx = new Array(N);\n    for (var i = 0; i < N; i++) {\n        allIdx[i] = i;\n    }\n\n    var l = Math.floor(N / k);\n    // create random k-folds\n    var current = [];\n    var folds = [];\n    while (allIdx.length) {\n        var randi = Math.floor(Math.random() * allIdx.length);\n        current.push(allIdx[randi]);\n        allIdx.splice(randi, 1);\n        if (current.length === l) {\n            folds.push(current);\n            current = [];\n        }\n    }\n    if (current.length) folds.push(current);\n    folds = folds.slice(0, k);\n\n\n    for (i = 0; i < folds.length; i++) {\n        var testIdx = folds[i];\n        var trainIdx = [];\n        for (var j = 0; j < folds.length; j++) {\n            if (j !== i) trainIdx = trainIdx.concat(folds[j]);\n        }\n\n        if (callback) {\n            validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback);\n        } else {\n            validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct);\n        }\n    }\n\n    return new ConfusionMatrix(confusionMatrix, distinct);\n};\n\nfunction check(features, labels) {\n    if (features.length !== labels.length) {\n        throw new Error('features and labels should have the same length');\n    }\n}\n\nfunction initMatrix(rows, columns) {\n    return new Array(rows).fill(0).map(() => new Array(columns).fill(0));\n}\n\nfunction getDistinct(arr) {\n    var s = new Set();\n    for (let i = 0; i < arr.length; i++) {\n        s.add(arr[i]);\n    }\n    return Array.from(s);\n}\n\nfunction validate(Classifier, features, labels, classifierOptions, testIdx, trainIdx, confusionMatrix, distinct) {\n    const {testFeatures, trainFeatures, testLabels, trainLabels} = getTrainTest(features, labels, testIdx, trainIdx);\n\n    var classifier;\n    if (Classifier.prototype.train) {\n        classifier = new Classifier(classifierOptions);\n        classifier.train(trainFeatures, trainLabels);\n    } else {\n        classifier = new Classifier(trainFeatures, trainLabels, classifierOptions);\n    }\n\n    var predictedLabels = classifier.predict(testFeatures);\n    updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct);\n}\n\nfunction validateWithCallback(features, labels, testIdx, trainIdx, confusionMatrix, distinct, callback) {\n    const {testFeatures, trainFeatures, testLabels, trainLabels} = getTrainTest(features, labels, testIdx, trainIdx);\n    const predictedLabels = callback(trainFeatures, trainLabels, testFeatures);\n    updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct);\n}\n\nfunction updateConfusionMatrix(confusionMatrix, testLabels, predictedLabels, distinct) {\n\n    for (var i = 0; i < predictedLabels.length; i++) {\n        const actualIdx = distinct.indexOf(testLabels[i]);\n        const predictedIdx = distinct.indexOf(predictedLabels[i]);\n        if (actualIdx < 0 || predictedIdx < 0) {\n            // eslint-disable-next-line no-console\n            console.warn(`ignore unknown predicted label ${predictedLabels[i]}`);\n        }\n        confusionMatrix[actualIdx][predictedIdx]++;\n    }\n}\n\n\nfunction getTrainTest(features, labels, testIdx, trainIdx) {\n    return {\n        testFeatures: testIdx.map(function (index) {\n            return features[index];\n        }),\n        trainFeatures: trainIdx.map(function (index) {\n            return features[index];\n        }),\n        testLabels: testIdx.map(function (index) {\n            return labels[index];\n        }),\n        trainLabels: trainIdx.map(function (index) {\n            return labels[index];\n        })\n    };\n}\n\nmodule.exports = CV;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-cross-validation/src/index.js","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar runtime = createCommonjsModule(function (module) {\n\t/**\n\t * Copyright (c) 2014-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\t!(function(global) {\n\n\t  var Op = Object.prototype;\n\t  var hasOwn = Op.hasOwnProperty;\n\t  var undefined; // More compressible than void 0.\n\t  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n\t  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n\t  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n\t  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\t  var runtime = global.regeneratorRuntime;\n\t  if (runtime) {\n\t    {\n\t      // If regeneratorRuntime is defined globally and we're in a module,\n\t      // make the exports object identical to regeneratorRuntime.\n\t      module.exports = runtime;\n\t    }\n\t    // Don't bother evaluating the rest of this file if the runtime was\n\t    // already defined globally.\n\t    return;\n\t  }\n\n\t  // Define the runtime globally (as expected by generated code) as either\n\t  // module.exports (if we're in a module) or a new, empty object.\n\t  runtime = global.regeneratorRuntime = module.exports;\n\n\t  function wrap(innerFn, outerFn, self, tryLocsList) {\n\t    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n\t    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n\t    var generator = Object.create(protoGenerator.prototype);\n\t    var context = new Context(tryLocsList || []);\n\n\t    // The ._invoke method unifies the implementations of the .next,\n\t    // .throw, and .return methods.\n\t    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n\t    return generator;\n\t  }\n\t  runtime.wrap = wrap;\n\n\t  // Try/catch helper to minimize deoptimizations. Returns a completion\n\t  // record like context.tryEntries[i].completion. This interface could\n\t  // have been (and was previously) designed to take a closure to be\n\t  // invoked without arguments, but in all the cases we care about we\n\t  // already have an existing method we want to call, so there's no need\n\t  // to create a new function object. We can even get away with assuming\n\t  // the method takes exactly one argument, since that happens to be true\n\t  // in every case, so we don't have to touch the arguments object. The\n\t  // only additional allocation required is the completion record, which\n\t  // has a stable shape and so hopefully should be cheap to allocate.\n\t  function tryCatch(fn, obj, arg) {\n\t    try {\n\t      return { type: \"normal\", arg: fn.call(obj, arg) };\n\t    } catch (err) {\n\t      return { type: \"throw\", arg: err };\n\t    }\n\t  }\n\n\t  var GenStateSuspendedStart = \"suspendedStart\";\n\t  var GenStateSuspendedYield = \"suspendedYield\";\n\t  var GenStateExecuting = \"executing\";\n\t  var GenStateCompleted = \"completed\";\n\n\t  // Returning this object from the innerFn has the same effect as\n\t  // breaking out of the dispatch switch statement.\n\t  var ContinueSentinel = {};\n\n\t  // Dummy constructor functions that we use as the .constructor and\n\t  // .constructor.prototype properties for functions that return Generator\n\t  // objects. For full spec compliance, you may wish to configure your\n\t  // minifier not to mangle the names of these two functions.\n\t  function Generator() {}\n\t  function GeneratorFunction() {}\n\t  function GeneratorFunctionPrototype() {}\n\n\t  // This is a polyfill for %IteratorPrototype% for environments that\n\t  // don't natively support it.\n\t  var IteratorPrototype = {};\n\t  IteratorPrototype[iteratorSymbol] = function () {\n\t    return this;\n\t  };\n\n\t  var getProto = Object.getPrototypeOf;\n\t  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\t  if (NativeIteratorPrototype &&\n\t      NativeIteratorPrototype !== Op &&\n\t      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n\t    // This environment has a native %IteratorPrototype%; use it instead\n\t    // of the polyfill.\n\t    IteratorPrototype = NativeIteratorPrototype;\n\t  }\n\n\t  var Gp = GeneratorFunctionPrototype.prototype =\n\t    Generator.prototype = Object.create(IteratorPrototype);\n\t  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n\t  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n\t  GeneratorFunctionPrototype[toStringTagSymbol] =\n\t    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n\t  // Helper for defining the .next, .throw, and .return methods of the\n\t  // Iterator interface in terms of a single ._invoke method.\n\t  function defineIteratorMethods(prototype) {\n\t    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n\t      prototype[method] = function(arg) {\n\t        return this._invoke(method, arg);\n\t      };\n\t    });\n\t  }\n\n\t  runtime.isGeneratorFunction = function(genFun) {\n\t    var ctor = typeof genFun === \"function\" && genFun.constructor;\n\t    return ctor\n\t      ? ctor === GeneratorFunction ||\n\t        // For the native GeneratorFunction constructor, the best we can\n\t        // do is to check its .name property.\n\t        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n\t      : false;\n\t  };\n\n\t  runtime.mark = function(genFun) {\n\t    if (Object.setPrototypeOf) {\n\t      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n\t    } else {\n\t      genFun.__proto__ = GeneratorFunctionPrototype;\n\t      if (!(toStringTagSymbol in genFun)) {\n\t        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n\t      }\n\t    }\n\t    genFun.prototype = Object.create(Gp);\n\t    return genFun;\n\t  };\n\n\t  // Within the body of any async function, `await x` is transformed to\n\t  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n\t  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n\t  // meant to be awaited.\n\t  runtime.awrap = function(arg) {\n\t    return { __await: arg };\n\t  };\n\n\t  function AsyncIterator(generator) {\n\t    function invoke(method, arg, resolve, reject) {\n\t      var record = tryCatch(generator[method], generator, arg);\n\t      if (record.type === \"throw\") {\n\t        reject(record.arg);\n\t      } else {\n\t        var result = record.arg;\n\t        var value = result.value;\n\t        if (value &&\n\t            typeof value === \"object\" &&\n\t            hasOwn.call(value, \"__await\")) {\n\t          return Promise.resolve(value.__await).then(function(value) {\n\t            invoke(\"next\", value, resolve, reject);\n\t          }, function(err) {\n\t            invoke(\"throw\", err, resolve, reject);\n\t          });\n\t        }\n\n\t        return Promise.resolve(value).then(function(unwrapped) {\n\t          // When a yielded Promise is resolved, its final value becomes\n\t          // the .value of the Promise<{value,done}> result for the\n\t          // current iteration. If the Promise is rejected, however, the\n\t          // result for this iteration will be rejected with the same\n\t          // reason. Note that rejections of yielded Promises are not\n\t          // thrown back into the generator function, as is the case\n\t          // when an awaited Promise is rejected. This difference in\n\t          // behavior between yield and await is important, because it\n\t          // allows the consumer to decide what to do with the yielded\n\t          // rejection (swallow it and continue, manually .throw it back\n\t          // into the generator, abandon iteration, whatever). With\n\t          // await, by contrast, there is no opportunity to examine the\n\t          // rejection reason outside the generator function, so the\n\t          // only option is to throw it from the await expression, and\n\t          // let the generator function handle the exception.\n\t          result.value = unwrapped;\n\t          resolve(result);\n\t        }, reject);\n\t      }\n\t    }\n\n\t    var previousPromise;\n\n\t    function enqueue(method, arg) {\n\t      function callInvokeWithMethodAndArg() {\n\t        return new Promise(function(resolve, reject) {\n\t          invoke(method, arg, resolve, reject);\n\t        });\n\t      }\n\n\t      return previousPromise =\n\t        // If enqueue has been called before, then we want to wait until\n\t        // all previous Promises have been resolved before calling invoke,\n\t        // so that results are always delivered in the correct order. If\n\t        // enqueue has not been called before, then it is important to\n\t        // call invoke immediately, without waiting on a callback to fire,\n\t        // so that the async generator function has the opportunity to do\n\t        // any necessary setup in a predictable way. This predictability\n\t        // is why the Promise constructor synchronously invokes its\n\t        // executor callback, and why async functions synchronously\n\t        // execute code before the first await. Since we implement simple\n\t        // async functions in terms of async generators, it is especially\n\t        // important to get this right, even though it requires care.\n\t        previousPromise ? previousPromise.then(\n\t          callInvokeWithMethodAndArg,\n\t          // Avoid propagating failures to Promises returned by later\n\t          // invocations of the iterator.\n\t          callInvokeWithMethodAndArg\n\t        ) : callInvokeWithMethodAndArg();\n\t    }\n\n\t    // Define the unified helper method that is used to implement .next,\n\t    // .throw, and .return (see defineIteratorMethods).\n\t    this._invoke = enqueue;\n\t  }\n\n\t  defineIteratorMethods(AsyncIterator.prototype);\n\t  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n\t    return this;\n\t  };\n\t  runtime.AsyncIterator = AsyncIterator;\n\n\t  // Note that simple async functions are implemented on top of\n\t  // AsyncIterator objects; they just return a Promise for the value of\n\t  // the final result produced by the iterator.\n\t  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n\t    var iter = new AsyncIterator(\n\t      wrap(innerFn, outerFn, self, tryLocsList)\n\t    );\n\n\t    return runtime.isGeneratorFunction(outerFn)\n\t      ? iter // If outerFn is a generator, return the full iterator.\n\t      : iter.next().then(function(result) {\n\t          return result.done ? result.value : iter.next();\n\t        });\n\t  };\n\n\t  function makeInvokeMethod(innerFn, self, context) {\n\t    var state = GenStateSuspendedStart;\n\n\t    return function invoke(method, arg) {\n\t      if (state === GenStateExecuting) {\n\t        throw new Error(\"Generator is already running\");\n\t      }\n\n\t      if (state === GenStateCompleted) {\n\t        if (method === \"throw\") {\n\t          throw arg;\n\t        }\n\n\t        // Be forgiving, per 25.3.3.3.3 of the spec:\n\t        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\t        return doneResult();\n\t      }\n\n\t      context.method = method;\n\t      context.arg = arg;\n\n\t      while (true) {\n\t        var delegate = context.delegate;\n\t        if (delegate) {\n\t          var delegateResult = maybeInvokeDelegate(delegate, context);\n\t          if (delegateResult) {\n\t            if (delegateResult === ContinueSentinel) continue;\n\t            return delegateResult;\n\t          }\n\t        }\n\n\t        if (context.method === \"next\") {\n\t          // Setting context._sent for legacy support of Babel's\n\t          // function.sent implementation.\n\t          context.sent = context._sent = context.arg;\n\n\t        } else if (context.method === \"throw\") {\n\t          if (state === GenStateSuspendedStart) {\n\t            state = GenStateCompleted;\n\t            throw context.arg;\n\t          }\n\n\t          context.dispatchException(context.arg);\n\n\t        } else if (context.method === \"return\") {\n\t          context.abrupt(\"return\", context.arg);\n\t        }\n\n\t        state = GenStateExecuting;\n\n\t        var record = tryCatch(innerFn, self, context);\n\t        if (record.type === \"normal\") {\n\t          // If an exception is thrown from innerFn, we leave state ===\n\t          // GenStateExecuting and loop back for another invocation.\n\t          state = context.done\n\t            ? GenStateCompleted\n\t            : GenStateSuspendedYield;\n\n\t          if (record.arg === ContinueSentinel) {\n\t            continue;\n\t          }\n\n\t          return {\n\t            value: record.arg,\n\t            done: context.done\n\t          };\n\n\t        } else if (record.type === \"throw\") {\n\t          state = GenStateCompleted;\n\t          // Dispatch the exception by looping back around to the\n\t          // context.dispatchException(context.arg) call above.\n\t          context.method = \"throw\";\n\t          context.arg = record.arg;\n\t        }\n\t      }\n\t    };\n\t  }\n\n\t  // Call delegate.iterator[context.method](context.arg) and handle the\n\t  // result, either by returning a { value, done } result from the\n\t  // delegate iterator, or by modifying context.method and context.arg,\n\t  // setting context.delegate to null, and returning the ContinueSentinel.\n\t  function maybeInvokeDelegate(delegate, context) {\n\t    var method = delegate.iterator[context.method];\n\t    if (method === undefined) {\n\t      // A .throw or .return when the delegate iterator has no .throw\n\t      // method always terminates the yield* loop.\n\t      context.delegate = null;\n\n\t      if (context.method === \"throw\") {\n\t        if (delegate.iterator.return) {\n\t          // If the delegate iterator has a return method, give it a\n\t          // chance to clean up.\n\t          context.method = \"return\";\n\t          context.arg = undefined;\n\t          maybeInvokeDelegate(delegate, context);\n\n\t          if (context.method === \"throw\") {\n\t            // If maybeInvokeDelegate(context) changed context.method from\n\t            // \"return\" to \"throw\", let that override the TypeError below.\n\t            return ContinueSentinel;\n\t          }\n\t        }\n\n\t        context.method = \"throw\";\n\t        context.arg = new TypeError(\n\t          \"The iterator does not provide a 'throw' method\");\n\t      }\n\n\t      return ContinueSentinel;\n\t    }\n\n\t    var record = tryCatch(method, delegate.iterator, context.arg);\n\n\t    if (record.type === \"throw\") {\n\t      context.method = \"throw\";\n\t      context.arg = record.arg;\n\t      context.delegate = null;\n\t      return ContinueSentinel;\n\t    }\n\n\t    var info = record.arg;\n\n\t    if (! info) {\n\t      context.method = \"throw\";\n\t      context.arg = new TypeError(\"iterator result is not an object\");\n\t      context.delegate = null;\n\t      return ContinueSentinel;\n\t    }\n\n\t    if (info.done) {\n\t      // Assign the result of the finished delegate to the temporary\n\t      // variable specified by delegate.resultName (see delegateYield).\n\t      context[delegate.resultName] = info.value;\n\n\t      // Resume execution at the desired location (see delegateYield).\n\t      context.next = delegate.nextLoc;\n\n\t      // If context.method was \"throw\" but the delegate handled the\n\t      // exception, let the outer generator proceed normally. If\n\t      // context.method was \"next\", forget context.arg since it has been\n\t      // \"consumed\" by the delegate iterator. If context.method was\n\t      // \"return\", allow the original .return call to continue in the\n\t      // outer generator.\n\t      if (context.method !== \"return\") {\n\t        context.method = \"next\";\n\t        context.arg = undefined;\n\t      }\n\n\t    } else {\n\t      // Re-yield the result returned by the delegate method.\n\t      return info;\n\t    }\n\n\t    // The delegate iterator is finished, so forget it and continue with\n\t    // the outer generator.\n\t    context.delegate = null;\n\t    return ContinueSentinel;\n\t  }\n\n\t  // Define Generator.prototype.{next,throw,return} in terms of the\n\t  // unified ._invoke helper method.\n\t  defineIteratorMethods(Gp);\n\n\t  Gp[toStringTagSymbol] = \"Generator\";\n\n\t  // A Generator should always return itself as the iterator object when the\n\t  // @@iterator function is called on it. Some browsers' implementations of the\n\t  // iterator prototype chain incorrectly implement this, causing the Generator\n\t  // object to not be returned from this call. This ensures that doesn't happen.\n\t  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\t  Gp[iteratorSymbol] = function() {\n\t    return this;\n\t  };\n\n\t  Gp.toString = function() {\n\t    return \"[object Generator]\";\n\t  };\n\n\t  function pushTryEntry(locs) {\n\t    var entry = { tryLoc: locs[0] };\n\n\t    if (1 in locs) {\n\t      entry.catchLoc = locs[1];\n\t    }\n\n\t    if (2 in locs) {\n\t      entry.finallyLoc = locs[2];\n\t      entry.afterLoc = locs[3];\n\t    }\n\n\t    this.tryEntries.push(entry);\n\t  }\n\n\t  function resetTryEntry(entry) {\n\t    var record = entry.completion || {};\n\t    record.type = \"normal\";\n\t    delete record.arg;\n\t    entry.completion = record;\n\t  }\n\n\t  function Context(tryLocsList) {\n\t    // The root entry object (effectively a try statement without a catch\n\t    // or a finally block) gives us a place to store values thrown from\n\t    // locations where there is no enclosing try statement.\n\t    this.tryEntries = [{ tryLoc: \"root\" }];\n\t    tryLocsList.forEach(pushTryEntry, this);\n\t    this.reset(true);\n\t  }\n\n\t  runtime.keys = function(object) {\n\t    var keys = [];\n\t    for (var key in object) {\n\t      keys.push(key);\n\t    }\n\t    keys.reverse();\n\n\t    // Rather than returning an object with a next method, we keep\n\t    // things simple and return the next function itself.\n\t    return function next() {\n\t      while (keys.length) {\n\t        var key = keys.pop();\n\t        if (key in object) {\n\t          next.value = key;\n\t          next.done = false;\n\t          return next;\n\t        }\n\t      }\n\n\t      // To avoid creating an additional object, we just hang the .value\n\t      // and .done properties off the next function object itself. This\n\t      // also ensures that the minifier will not anonymize the function.\n\t      next.done = true;\n\t      return next;\n\t    };\n\t  };\n\n\t  function values(iterable) {\n\t    if (iterable) {\n\t      var iteratorMethod = iterable[iteratorSymbol];\n\t      if (iteratorMethod) {\n\t        return iteratorMethod.call(iterable);\n\t      }\n\n\t      if (typeof iterable.next === \"function\") {\n\t        return iterable;\n\t      }\n\n\t      if (!isNaN(iterable.length)) {\n\t        var i = -1, next = function next() {\n\t          while (++i < iterable.length) {\n\t            if (hasOwn.call(iterable, i)) {\n\t              next.value = iterable[i];\n\t              next.done = false;\n\t              return next;\n\t            }\n\t          }\n\n\t          next.value = undefined;\n\t          next.done = true;\n\n\t          return next;\n\t        };\n\n\t        return next.next = next;\n\t      }\n\t    }\n\n\t    // Return an iterator with no values.\n\t    return { next: doneResult };\n\t  }\n\t  runtime.values = values;\n\n\t  function doneResult() {\n\t    return { value: undefined, done: true };\n\t  }\n\n\t  Context.prototype = {\n\t    constructor: Context,\n\n\t    reset: function(skipTempReset) {\n\t      this.prev = 0;\n\t      this.next = 0;\n\t      // Resetting context._sent for legacy support of Babel's\n\t      // function.sent implementation.\n\t      this.sent = this._sent = undefined;\n\t      this.done = false;\n\t      this.delegate = null;\n\n\t      this.method = \"next\";\n\t      this.arg = undefined;\n\n\t      this.tryEntries.forEach(resetTryEntry);\n\n\t      if (!skipTempReset) {\n\t        for (var name in this) {\n\t          // Not sure about the optimal order of these conditions:\n\t          if (name.charAt(0) === \"t\" &&\n\t              hasOwn.call(this, name) &&\n\t              !isNaN(+name.slice(1))) {\n\t            this[name] = undefined;\n\t          }\n\t        }\n\t      }\n\t    },\n\n\t    stop: function() {\n\t      this.done = true;\n\n\t      var rootEntry = this.tryEntries[0];\n\t      var rootRecord = rootEntry.completion;\n\t      if (rootRecord.type === \"throw\") {\n\t        throw rootRecord.arg;\n\t      }\n\n\t      return this.rval;\n\t    },\n\n\t    dispatchException: function(exception) {\n\t      if (this.done) {\n\t        throw exception;\n\t      }\n\n\t      var context = this;\n\t      function handle(loc, caught) {\n\t        record.type = \"throw\";\n\t        record.arg = exception;\n\t        context.next = loc;\n\n\t        if (caught) {\n\t          // If the dispatched exception was caught by a catch block,\n\t          // then let that catch block handle the exception normally.\n\t          context.method = \"next\";\n\t          context.arg = undefined;\n\t        }\n\n\t        return !! caught;\n\t      }\n\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        var record = entry.completion;\n\n\t        if (entry.tryLoc === \"root\") {\n\t          // Exception thrown outside of any try block that could handle\n\t          // it, so set the completion value of the entire function to\n\t          // throw the exception.\n\t          return handle(\"end\");\n\t        }\n\n\t        if (entry.tryLoc <= this.prev) {\n\t          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n\t          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n\t          if (hasCatch && hasFinally) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            } else if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\n\t          } else if (hasCatch) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            }\n\n\t          } else if (hasFinally) {\n\t            if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\n\t          } else {\n\t            throw new Error(\"try statement without catch or finally\");\n\t          }\n\t        }\n\t      }\n\t    },\n\n\t    abrupt: function(type, arg) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc <= this.prev &&\n\t            hasOwn.call(entry, \"finallyLoc\") &&\n\t            this.prev < entry.finallyLoc) {\n\t          var finallyEntry = entry;\n\t          break;\n\t        }\n\t      }\n\n\t      if (finallyEntry &&\n\t          (type === \"break\" ||\n\t           type === \"continue\") &&\n\t          finallyEntry.tryLoc <= arg &&\n\t          arg <= finallyEntry.finallyLoc) {\n\t        // Ignore the finally entry if control is not jumping to a\n\t        // location outside the try/catch block.\n\t        finallyEntry = null;\n\t      }\n\n\t      var record = finallyEntry ? finallyEntry.completion : {};\n\t      record.type = type;\n\t      record.arg = arg;\n\n\t      if (finallyEntry) {\n\t        this.method = \"next\";\n\t        this.next = finallyEntry.finallyLoc;\n\t        return ContinueSentinel;\n\t      }\n\n\t      return this.complete(record);\n\t    },\n\n\t    complete: function(record, afterLoc) {\n\t      if (record.type === \"throw\") {\n\t        throw record.arg;\n\t      }\n\n\t      if (record.type === \"break\" ||\n\t          record.type === \"continue\") {\n\t        this.next = record.arg;\n\t      } else if (record.type === \"return\") {\n\t        this.rval = this.arg = record.arg;\n\t        this.method = \"return\";\n\t        this.next = \"end\";\n\t      } else if (record.type === \"normal\" && afterLoc) {\n\t        this.next = afterLoc;\n\t      }\n\n\t      return ContinueSentinel;\n\t    },\n\n\t    finish: function(finallyLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.finallyLoc === finallyLoc) {\n\t          this.complete(entry.completion, entry.afterLoc);\n\t          resetTryEntry(entry);\n\t          return ContinueSentinel;\n\t        }\n\t      }\n\t    },\n\n\t    \"catch\": function(tryLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc === tryLoc) {\n\t          var record = entry.completion;\n\t          if (record.type === \"throw\") {\n\t            var thrown = record.arg;\n\t            resetTryEntry(entry);\n\t          }\n\t          return thrown;\n\t        }\n\t      }\n\n\t      // The context.catch method must only be called with a location\n\t      // argument that corresponds to a known catch block.\n\t      throw new Error(\"illegal catch attempt\");\n\t    },\n\n\t    delegateYield: function(iterable, resultName, nextLoc) {\n\t      this.delegate = {\n\t        iterator: values(iterable),\n\t        resultName: resultName,\n\t        nextLoc: nextLoc\n\t      };\n\n\t      if (this.method === \"next\") {\n\t        // Deliberately forget the last sent value so that we don't\n\t        // accidentally pass it on to the delegate.\n\t        this.arg = undefined;\n\t      }\n\n\t      return ContinueSentinel;\n\t    }\n\t  };\n\t})(\n\t  // In sloppy mode, unbound `this` refers to the global object, fallback to\n\t  // Function constructor if we're in global strict mode. That is sadly a form\n\t  // of indirect eval which violates Content Security Policy.\n\t  (function() { return this })() || Function(\"return this\")()\n\t);\n\t});\n\n\t/**\n\t * Copyright (c) 2014-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\t// This method of obtaining a reference to the global object needs to be\n\t// kept identical to the way it is obtained in runtime.js\n\tvar g = (function() { return this })() || Function(\"return this\")();\n\n\t// Use `getOwnPropertyNames` because not all browsers support calling\n\t// `hasOwnProperty` on the global `self` object in a worker. See #183.\n\tvar hadRuntime = g.regeneratorRuntime &&\n\t  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n\t// Save the old regeneratorRuntime in case it needs to be restored later.\n\tvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n\t// Force reevalutation of runtime.js.\n\tg.regeneratorRuntime = undefined;\n\n\tvar runtimeModule = runtime;\n\n\tif (hadRuntime) {\n\t  // Restore the original runtime.\n\t  g.regeneratorRuntime = oldRuntime;\n\t} else {\n\t  // Remove the global property added by runtime.js.\n\t  try {\n\t    delete g.regeneratorRuntime;\n\t  } catch(e) {\n\t    g.regeneratorRuntime = undefined;\n\t  }\n\t}\n\n\tvar regenerator = runtimeModule;\n\n\tvar defaultOptions = {\n\t  mode: 'index'\n\t};\n\n\tmodule.exports = /*#__PURE__*/regenerator.mark(function _callee(M, N, options) {\n\t  var a, c, b, p, x, y, z, i, twiddle;\n\t  return regenerator.wrap(function _callee$(_context) {\n\t    while (1) {\n\t      switch (_context.prev = _context.next) {\n\t        case 0:\n\t          twiddle = function twiddle() {\n\t            var i, j, k;\n\t            j = 1;\n\t            while (p[j] <= 0) {\n\t              j++;\n\t            }\n\t            if (p[j - 1] === 0) {\n\t              for (i = j - 1; i !== 1; i--) {\n\t                p[i] = -1;\n\t              }\n\t              p[j] = 0;\n\t              x = z = 0;\n\t              p[1] = 1;\n\t              y = j - 1;\n\t            } else {\n\t              if (j > 1) {\n\t                p[j - 1] = 0;\n\t              }\n\t              do {\n\t                j++;\n\t              } while (p[j] > 0);\n\t              k = j - 1;\n\t              i = j;\n\t              while (p[i] === 0) {\n\t                p[i++] = -1;\n\t              }\n\t              if (p[i] === -1) {\n\t                p[i] = p[k];\n\t                z = p[k] - 1;\n\t                x = i - 1;\n\t                y = k - 1;\n\t                p[k] = -1;\n\t              } else {\n\t                if (i === p[0]) {\n\t                  return 0;\n\t                } else {\n\t                  p[j] = p[i];\n\t                  z = p[i] - 1;\n\t                  p[i] = 0;\n\t                  x = j - 1;\n\t                  y = i - 1;\n\t                }\n\t              }\n\t            }\n\t            return 1;\n\t          };\n\n\t          options = Object.assign({}, defaultOptions, options);\n\t          a = new Array(N);\n\t          c = new Array(M);\n\t          b = new Array(N);\n\t          p = new Array(N + 2);\n\n\n\t          // init a and b\n\t          for (i = 0; i < N; i++) {\n\t            a[i] = i;\n\t            if (i < N - M) b[i] = 0;else b[i] = 1;\n\t          }\n\n\t          // init c\n\t          for (i = 0; i < M; i++) {\n\t            c[i] = N - M + i;\n\t          }\n\n\t          // init p\n\t          for (i = 0; i < p.length; i++) {\n\t            if (i === 0) p[i] = N + 1;else if (i <= N - M) p[i] = 0;else if (i <= N) p[i] = i - N + M;else p[i] = -2;\n\t          }\n\n\t          if (!(options.mode === 'index')) {\n\t            _context.next = 20;\n\t            break;\n\t          }\n\n\t          _context.next = 12;\n\t          return c.slice();\n\n\t        case 12:\n\t          if (!twiddle()) {\n\t            _context.next = 18;\n\t            break;\n\t          }\n\n\t          c[z] = a[x];\n\t          _context.next = 16;\n\t          return c.slice();\n\n\t        case 16:\n\t          _context.next = 12;\n\t          break;\n\n\t        case 18:\n\t          _context.next = 33;\n\t          break;\n\n\t        case 20:\n\t          if (!(options.mode === 'mask')) {\n\t            _context.next = 32;\n\t            break;\n\t          }\n\n\t          _context.next = 23;\n\t          return b.slice();\n\n\t        case 23:\n\t          if (!twiddle()) {\n\t            _context.next = 30;\n\t            break;\n\t          }\n\n\t          b[x] = 1;\n\t          b[y] = 0;\n\t          _context.next = 28;\n\t          return b.slice();\n\n\t        case 28:\n\t          _context.next = 23;\n\t          break;\n\n\t        case 30:\n\t          _context.next = 33;\n\t          break;\n\n\t        case 32:\n\t          throw new Error('Invalid mode');\n\n\t        case 33:\n\t        case 'end':\n\t          return _context.stop();\n\t      }\n\t    }\n\t  }, _callee, this);\n\t});\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-combinations/lib/index.js","'use strict';\n\nconst Matrix = require('ml-matrix').Matrix;\n\nconst Layer = require('./Layer');\nconst OutputLayer = require('./OutputLayer');\nconst Utils = require('./utils');\nconst ACTIVATION_FUNCTIONS = require('./activationFunctions');\n\nclass FeedForwardNeuralNetworks {\n\n    /**\n     * Create a new Feedforword neural network model.\n     * @class FeedForwardNeuralNetworks\n     * @param {object} [options]\n     * @param {Array} [options.hiddenLayers=[10]] - Array that contains the sizes of the hidden layers.\n     * @param {number} [options.iterations=50] - Number of iterations at the training step.\n     * @param {number} [options.learningRate=0.01] - Learning rate of the neural net (also known as epsilon).\n     * @param {number} [options.regularization=0.01] - Regularization parameter af the neural net.\n     * @param {string} [options.activation='tanh'] - activation function to be used. (options: 'tanh'(default),\n     * 'identity', 'logistic', 'arctan', 'softsign', 'relu', 'softplus', 'bent', 'sinusoid', 'sinc', 'gaussian').\n     * (single-parametric options: 'parametric-relu', 'exponential-relu', 'soft-exponential').\n     * @param {number} [options.activationParam=1] - if the selected activation function needs a parameter.\n     */\n    constructor(options) {\n        options = options || {};\n        if (options.model) {\n            // load network\n            this.hiddenLayers = options.hiddenLayers;\n            this.iterations = options.iterations;\n            this.learningRate = options.learningRate;\n            this.regularization = options.regularization;\n            this.dicts = options.dicts;\n            this.activation = options.activation;\n            this.activationParam = options.activationParam;\n            this.model = new Array(options.layers.length);\n\n            for (var i = 0; i < this.model.length - 1; ++i) {\n                this.model[i] = Layer.load(options.layers[i]);\n            }\n            this.model[this.model.length - 1] = OutputLayer.load(options.layers[this.model.length - 1]);\n        } else {\n            // default constructor\n            this.hiddenLayers = options.hiddenLayers || [10];\n            this.iterations = options.iterations || 50;\n\n            this.learningRate = options.learningRate || 0.01;\n            this.regularization = options.regularization || 0.01;\n\n            this.activation = options.activation || 'tanh';\n            this.activationParam = options.activationParam || 1;\n            if (!(this.activation in Object.keys(ACTIVATION_FUNCTIONS))) {\n                this.activation = 'tanh';\n            }\n        }\n    }\n\n    /**\n     * @private\n     * Function that build and initialize the neural net.\n     * @param {number} inputSize - total of features to fit.\n     * @param {number} outputSize - total of labels of the prediction set.\n     */\n    buildNetwork(inputSize, outputSize) {\n        var size = 2 + (this.hiddenLayers.length - 1);\n        this.model = new Array(size);\n\n        // input layer\n        this.model[0] = new Layer({\n            inputSize: inputSize,\n            outputSize: this.hiddenLayers[0],\n            activation: this.activation,\n            activationParam: this.activationParam,\n            regularization: this.regularization,\n            epsilon: this.learningRate\n        });\n\n        // hidden layers\n        for (var i = 1; i < this.hiddenLayers.length; ++i) {\n            this.model[i] = new Layer({\n                inputSize: this.hiddenLayers[i - 1],\n                outputSize: this.hiddenLayers[i],\n                activation: this.activation,\n                activationParam: this.activationParam,\n                regularization: this.regularization,\n                epsilon: this.learningRate\n            });\n        }\n\n        // output layer\n        this.model[size - 1] = new OutputLayer({\n            inputSize: this.hiddenLayers[this.hiddenLayers.length - 1],\n            outputSize: outputSize,\n            activation: this.activation,\n            activationParam: this.activationParam,\n            regularization: this.regularization,\n            epsilon: this.learningRate\n        });\n    }\n\n    /**\n     * Train the neural net with the given features and labels.\n     * @param {Matrix|Array} features\n     * @param {Matrix|Array} labels\n     */\n    train(features, labels) {\n        features = Matrix.checkMatrix(features);\n        this.dicts = Utils.dictOutputs(labels);\n\n        var inputSize = features.columns;\n        var outputSize = Object.keys(this.dicts.inputs).length;\n\n        this.buildNetwork(inputSize, outputSize);\n\n        for (var i = 0; i < this.iterations; ++i) {\n            var probabilities = this.propagate(features);\n            this.backpropagation(features, labels, probabilities);\n        }\n    }\n\n    /**\n     * @private\n     * Propagate the input(training set) and retrives the probabilities of each class.\n     * @param {Matrix} X\n     * @return {Matrix} probabilities of each class.\n     */\n    propagate(X) {\n        var input = X;\n        for (var i = 0; i < this.model.length; ++i) {\n            //console.log(i);\n            input = this.model[i].forward(input);\n        }\n\n        // get probabilities\n        return input.divColumnVector(Utils.sumRow(input));\n    }\n\n    /**\n     * @private\n     * Function that applies the backpropagation algorithm on each layer of the network\n     * in order to fit the features and labels.\n     * @param {Matrix} features\n     * @param {Array} labels\n     * @param {Matrix} probabilities - probabilities of each class of the feature set.\n     */\n    backpropagation(features, labels, probabilities) {\n        for (var i = 0; i < probabilities.length; ++i) {\n            probabilities[i][this.dicts.inputs[labels[i]]] -= 1;\n        }\n\n        // remember, the last delta doesn't matter\n        var delta = probabilities;\n        for (i = this.model.length - 1; i >= 0; --i) {\n            var a = i > 0 ? this.model[i - 1].a : features;\n            delta = this.model[i].backpropagation(delta, a);\n        }\n\n        for (i = 0; i < this.model.length; ++i) {\n            this.model[i].update();\n        }\n    }\n\n    /**\n     * Predict the output given the feature set.\n     * @param {Array|Matrix} features\n     * @return {Array}\n     */\n    predict(features) {\n        features = Matrix.checkMatrix(features);\n        var outputs = new Array(features.rows);\n        var probabilities = this.propagate(features);\n        for (var i = 0; i < features.rows; ++i) {\n            outputs[i] = this.dicts.outputs[probabilities.maxRowIndex(i)[1]];\n        }\n\n        return outputs;\n    }\n\n    /**\n     * Export the current model to JSON.\n     * @return {object} model\n     */\n    toJSON() {\n        var model = {\n            model: 'FNN',\n            hiddenLayers: this.hiddenLayers,\n            iterations: this.iterations,\n            learningRate: this.learningRate,\n            regularization: this.regularization,\n            activation: this.activation,\n            activationParam: this.activationParam,\n            dicts: this.dicts,\n            layers: new Array(this.model.length)\n        };\n\n        for (var i = 0; i < this.model.length; ++i) {\n            model.layers[i] = this.model[i].toJSON();\n        }\n\n        return model;\n    }\n\n    /**\n     * Load a Feedforward Neural Network with the current model.\n     * @param {object} model\n     * @return {FeedForwardNeuralNetworks}\n     */\n    static load(model) {\n        if (model.model !== 'FNN') {\n            throw new RangeError('the current model is not a feed forward network');\n        }\n\n        return new FeedForwardNeuralNetworks(model);\n    }\n}\n\nmodule.exports = FeedForwardNeuralNetworks;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/FeedForwardNeuralNetwork.js","'use strict';\n\nvar Layer = require('./Layer');\n\nclass OutputLayer extends Layer {\n    constructor(options) {\n        super(options);\n\n        this.activationFunction = function (i, j) {\n            this[i][j] = Math.exp(this[i][j]);\n        };\n    }\n\n    static load(model) {\n        if (model.model !== 'Layer') {\n            throw new RangeError('the current model is not a Layer model');\n        }\n\n        return new OutputLayer(model);\n    }\n}\n\nmodule.exports = OutputLayer;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-fnn/src/OutputLayer.js","'use strict';\n\nvar NodeSquare = require('./node-square'),\n    NodeHexagonal = require('./node-hexagonal');\n\nvar defaultOptions = {\n    fields: 3,\n    randomizer: Math.random,\n    distance: squareEuclidean,\n    iterations: 10,\n    learningRate: 0.1,\n    gridType: 'rect',\n    torus: true,\n    method: 'random'\n};\n\nfunction SOM(x, y, options, reload) {\n\n    this.x = x;\n    this.y = y;\n\n    options = options || {};\n    this.options = {};\n    for (var i in defaultOptions) {\n        if (options.hasOwnProperty(i)) {\n            this.options[i] = options[i];\n        } else {\n            this.options[i] = defaultOptions[i];\n        }\n    }\n\n    if (typeof this.options.fields === 'number') {\n        this.numWeights = this.options.fields;\n    } else if (Array.isArray(this.options.fields)) {\n        this.numWeights = this.options.fields.length;\n        var converters = getConverters(this.options.fields);\n        this.extractor = converters.extractor;\n        this.creator = converters.creator;\n    } else {\n        throw new Error('Invalid fields definition');\n    }\n\n    if (this.options.gridType === 'rect') {\n        this.nodeType = NodeSquare;\n        this.gridDim = {\n            x: x,\n            y: y\n        };\n    } else {\n        this.nodeType = NodeHexagonal;\n        var hx = this.x - Math.floor(this.y / 2);\n        this.gridDim = {\n            x: hx,\n            y: this.y,\n            z: -(0 - hx - this.y)\n        };\n    }\n\n    this.torus = this.options.torus;\n    this.distanceMethod = this.torus ? 'getDistanceTorus' : 'getDistance';\n\n    this.distance = this.options.distance;\n\n    this.maxDistance = getMaxDistance(this.distance, this.numWeights);\n\n    if (reload === true) { // For model loading\n        this.done = true;\n        return;\n    }\n    if (!(x > 0 && y > 0)) {\n        throw new Error('x and y must be positive');\n    }\n\n    this.times = {\n        findBMU: 0,\n        adjust: 0\n    };\n\n    this.randomizer = this.options.randomizer;\n\n    this.iterationCount = 0;\n    this.iterations = this.options.iterations;\n\n    this.startLearningRate = this.learningRate = this.options.learningRate;\n\n    this.mapRadius = Math.floor(Math.max(x, y) / 2);\n\n    this.algorithmMethod = this.options.method;\n\n    this._initNodes();\n\n    this.done = false;\n}\n\nSOM.load = function loadModel(model, distance) {\n    if (model.name === 'SOM') {\n        var x = model.data.length,\n            y = model.data[0].length;\n        if (distance) {\n            model.options.distance = distance;\n        } else if (model.options.distance) {\n            model.options.distance = eval('(' + model.options.distance + ')');\n        }\n        var som = new SOM(x, y, model.options, true);\n        som.nodes = new Array(x);\n        for (var i = 0; i < x; i++) {\n            som.nodes[i] = new Array(y);\n            for (var j = 0; j < y; j++) {\n                som.nodes[i][j] = new som.nodeType(i, j, model.data[i][j], som);\n            }\n        }\n        return som;\n    } else {\n        throw new Error('expecting a SOM model');\n    }\n};\n\nSOM.prototype.export = function exportModel(includeDistance) {\n    if (!this.done) {\n        throw new Error('model is not ready yet');\n    }\n    var model = {\n        name: 'SOM'\n    };\n    model.options = {\n        fields: this.options.fields,\n        gridType: this.options.gridType,\n        torus: this.options.torus\n    };\n    model.data = new Array(this.x);\n    for (var i = 0; i < this.x; i++) {\n        model.data[i] = new Array(this.y);\n        for (var j = 0; j < this.y; j++) {\n            model.data[i][j] = this.nodes[i][j].weights;\n        }\n    }\n    if (includeDistance) {\n        model.options.distance = this.distance.toString();\n    }\n    return model;\n};\n\nSOM.prototype._initNodes = function initNodes() {\n    var now = Date.now(),\n        i, j, k;\n    this.nodes = new Array(this.x);\n    for (i = 0; i < this.x; i++) {\n        this.nodes[i] = new Array(this.y);\n        for (j = 0; j < this.y; j++) {\n            var weights = new Array(this.numWeights);\n            for (k = 0; k < this.numWeights; k++) {\n                weights[k] = this.randomizer();\n            }\n            this.nodes[i][j] = new this.nodeType(i, j, weights, this);\n        }\n    }\n    this.times.initNodes = Date.now() - now;\n};\n\nSOM.prototype.setTraining = function setTraining(trainingSet) {\n    if (this.trainingSet) {\n        throw new Error('training set has already been set');\n    }\n    var now = Date.now();\n    var convertedSet = trainingSet;\n    var i, l = trainingSet.length;\n    if (this.extractor) {\n        convertedSet = new Array(l);\n        for (i = 0; i < l; i++) {\n            convertedSet[i] = this.extractor(trainingSet[i]);\n        }\n    }\n    this.numIterations = this.iterations * l;\n\n    if (this.algorithmMethod === 'random') {\n        this.timeConstant = this.numIterations / Math.log(this.mapRadius);\n    } else {\n        this.timeConstant = l / Math.log(this.mapRadius);\n    }\n    this.trainingSet = convertedSet;\n    this.times.setTraining = Date.now() - now;\n};\n\nSOM.prototype.trainOne = function trainOne() {\n    if (this.done) {\n\n        return false;\n\n    } else if (this.numIterations-- > 0) {\n\n        var neighbourhoodRadius,\n            trainingValue,\n            trainingSetFactor;\n\n        if (this.algorithmMethod === 'random') { // Pick a random value of the training set at each step\n            neighbourhoodRadius = this.mapRadius * Math.exp(-this.iterationCount / this.timeConstant);\n            trainingValue = getRandomValue(this.trainingSet, this.randomizer);\n            this._adjust(trainingValue, neighbourhoodRadius);\n            this.learningRate = this.startLearningRate * Math.exp(-this.iterationCount / this.numIterations);\n        } else { // Get next input vector\n            trainingSetFactor = -Math.floor(this.iterationCount / this.trainingSet.length);\n            neighbourhoodRadius = this.mapRadius * Math.exp(trainingSetFactor / this.timeConstant);\n            trainingValue = this.trainingSet[this.iterationCount % this.trainingSet.length];\n            this._adjust(trainingValue, neighbourhoodRadius);\n            if (((this.iterationCount + 1) % this.trainingSet.length) === 0) {\n                this.learningRate = this.startLearningRate * Math.exp(trainingSetFactor / Math.floor(this.numIterations / this.trainingSet.length));\n            }\n        }\n\n        this.iterationCount++;\n\n        return true;\n\n    } else {\n\n        this.done = true;\n        return false;\n\n    }\n};\n\nSOM.prototype._adjust = function adjust(trainingValue, neighbourhoodRadius) {\n    var now = Date.now(),\n        x, y, dist, influence;\n\n    var bmu = this._findBestMatchingUnit(trainingValue);\n\n    var now2 = Date.now();\n    this.times.findBMU += now2 - now;\n\n    var radiusLimit = Math.floor(neighbourhoodRadius);\n    var xMin = bmu.x - radiusLimit,\n        xMax = bmu.x + radiusLimit,\n        yMin = bmu.y - radiusLimit,\n        yMax = bmu.y + radiusLimit;\n\n    for (x = xMin; x <= xMax; x++) {\n        var theX = x;\n        if (x < 0) {\n            theX += this.x;\n        } else if (x >= this.x) {\n            theX -= this.x;\n        }\n        for (y = yMin; y <= yMax; y++) {\n            var theY = y;\n            if (y < 0) {\n                theY += this.y;\n            } else if (y >= this.y) {\n                theY -= this.y;\n            }\n\n            dist = bmu[this.distanceMethod](this.nodes[theX][theY]);\n\n            if (dist < neighbourhoodRadius) {\n                influence = Math.exp(-dist / (2 * neighbourhoodRadius));\n                this.nodes[theX][theY].adjustWeights(trainingValue, this.learningRate, influence);\n            }\n\n        }\n    }\n\n    this.times.adjust += (Date.now() - now2);\n\n};\n\nSOM.prototype.train = function train(trainingSet) {\n    if (!this.done) {\n        this.setTraining(trainingSet);\n        while (this.trainOne()) {\n        }\n    }\n};\n\nSOM.prototype.getConvertedNodes = function getConvertedNodes() {\n    var result = new Array(this.x);\n    for (var i = 0; i < this.x; i++) {\n        result[i] = new Array(this.y);\n        for (var j = 0; j < this.y; j++) {\n            var node = this.nodes[i][j];\n            result[i][j] = this.creator ? this.creator(node.weights) : node.weights;\n        }\n    }\n    return result;\n};\n\nSOM.prototype._findBestMatchingUnit = function findBestMatchingUnit(candidate) {\n\n    var bmu,\n        lowest = Infinity,\n        dist;\n\n    for (var i = 0; i < this.x; i++) {\n        for (var j = 0; j < this.y; j++) {\n            dist = this.distance(this.nodes[i][j].weights, candidate);\n            if (dist < lowest) {\n                lowest = dist;\n                bmu = this.nodes[i][j];\n            }\n        }\n    }\n\n    return bmu;\n\n};\n\nSOM.prototype.predict = function predict(data, computePosition) {\n    if (typeof data === 'boolean') {\n        computePosition = data;\n        data = null;\n    }\n    if (!data) {\n        data = this.trainingSet;\n    }\n    if (Array.isArray(data) && (Array.isArray(data[0]) || (typeof data[0] === 'object'))) { // predict a dataset\n        var self = this;\n        return data.map(function (element) {\n            return self._predict(element, computePosition);\n        });\n    } else { // predict a single element\n        return this._predict(data, computePosition);\n    }\n};\n\nSOM.prototype._predict = function _predict(element, computePosition) {\n    if (!Array.isArray(element)) {\n        element = this.extractor(element);\n    }\n    var bmu = this._findBestMatchingUnit(element);\n    var result = [bmu.x, bmu.y];\n    if (computePosition) {\n        result[2] = bmu.getPosition(element);\n    }\n    return result;\n};\n\n// As seen in http://www.scholarpedia.org/article/Kohonen_network\nSOM.prototype.getQuantizationError = function getQuantizationError() {\n    var fit = this.getFit(),\n        l = fit.length,\n        sum = 0;\n    for (var i = 0; i < l; i++) {\n        sum += fit[i];\n    }\n    return sum / l;\n};\n\nSOM.prototype.getFit = function getFit(dataset) {\n    if (!dataset) {\n        dataset = this.trainingSet;\n    }\n    var l = dataset.length,\n        bmu,\n        result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        bmu = this._findBestMatchingUnit(dataset[i]);\n        result[i] = Math.sqrt(this.distance(dataset[i], bmu.weights));\n    }\n    return result;\n};\n\nfunction getConverters(fields) {\n    var l = fields.length,\n        normalizers = new Array(l),\n        denormalizers = new Array(l);\n    for (var i = 0; i < l; i++) {\n        normalizers[i] = getNormalizer(fields[i].range);\n        denormalizers[i] = getDenormalizer(fields[i].range);\n    }\n    return {\n        extractor: function extractor(value) {\n            var result = new Array(l);\n            for (var i = 0; i < l; i++) {\n                result[i] = normalizers[i](value[fields[i].name]);\n            }\n            return result;\n        },\n        creator: function creator(value) {\n            var result = {};\n            for (var i = 0; i < l; i++) {\n                result[fields[i].name] = denormalizers[i](value[i]);\n            }\n            return result;\n        }\n    };\n}\n\nfunction getNormalizer(minMax) {\n    return function normalizer(value) {\n        return (value - minMax[0]) / (minMax[1] - minMax[0]);\n    };\n}\n\nfunction getDenormalizer(minMax) {\n    return function denormalizer(value) {\n        return (minMax[0] + value * (minMax[1] - minMax[0]));\n    };\n}\n\nfunction squareEuclidean(a, b) {\n    var d = 0;\n    for (var i = 0, ii = a.length; i < ii; i++) {\n        d += (a[i] - b[i]) * (a[i] - b[i]);\n    }\n    return d;\n}\n\nfunction getRandomValue(arr, randomizer) {\n    return arr[Math.floor(randomizer() * arr.length)];\n}\n\nfunction getMaxDistance(distance, numWeights) {\n    var zero = new Array(numWeights),\n        one = new Array(numWeights);\n    for (var i = 0; i < numWeights; i++) {\n        zero[i] = 0;\n        one[i] = 1;\n    }\n    return distance(zero, one);\n}\n\nmodule.exports = SOM;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/index.js","var NodeSquare = require('./node-square');\n\nfunction NodeHexagonal(x, y, weights, som) {\n\n    NodeSquare.call(this, x, y, weights, som);\n\n    this.hX = x - Math.floor(y / 2);\n    this.z = 0 - this.hX - y;\n\n}\n\nNodeHexagonal.prototype = new NodeSquare;\nNodeHexagonal.prototype.constructor = NodeHexagonal;\n\nNodeHexagonal.prototype.getDistance = function getDistanceHexagonal(otherNode) {\n    return Math.max(Math.abs(this.hX - otherNode.hX), Math.abs(this.y - otherNode.y), Math.abs(this.z - otherNode.z));\n};\n\nNodeHexagonal.prototype.getDistanceTorus = function getDistanceTorus(otherNode) {\n    var distX = Math.abs(this.hX - otherNode.hX),\n        distY = Math.abs(this.y - otherNode.y),\n        distZ = Math.abs(this.z - otherNode.z);\n    return Math.max(Math.min(distX, this.som.gridDim.x - distX), Math.min(distY, this.som.gridDim.y - distY), Math.min(distZ, this.som.gridDim.z - distZ));\n};\n\nNodeHexagonal.prototype.getPosition = function getPosition() {\n    throw new Error('Unimplemented : cannot get position of the points for hexagonal grid');\n};\n\nmodule.exports = NodeHexagonal;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-som/src/node-hexagonal.js","export default function maybeToPrecision(value, digits) {\n    if (value < 0) {\n        value = 0 - value;\n        if (typeof digits === 'number') {\n            return '- ' + value.toPrecision(digits);\n        } else {\n            return '- ' + value.toString();\n        }\n    } else {\n        if (typeof digits === 'number') {\n            return value.toPrecision(digits);\n        } else {\n            return value.toString();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/maybeToPrecision.js","export default function checkArraySize(x, y) {\n    if (!Array.isArray(x) || !Array.isArray(y)) {\n        throw new TypeError('x and y must be arrays');\n    }\n    if (x.length !== y.length) {\n        throw new RangeError('x and y arrays must have the same length');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-base/src/checkArrayLength.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport SimpleLinearRegression from 'ml-regression-simple-linear';\n\nexport default class ExponentialRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            this.A = y.A;\n            this.B = y.B;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    _predict(input) {\n        return this.B * Math.exp(input * this.A);\n    }\n\n    toJSON() {\n        return {\n            name: 'exponentialRegression',\n            A: this.A,\n            B: this.B\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.B, precision) + ' * e^(' + maybeToPrecision(this.A, precision) + ' * x)';\n    }\n\n    toLaTeX(precision) {\n        if (this.A >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.B, precision) + 'e^{' + maybeToPrecision(this.A, precision) + 'x}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.B, precision) + '}{e^{' + maybeToPrecision(-this.A, precision) + 'x}}';\n        }\n\n    }\n\n    static load(json) {\n        if (json.name !== 'exponentialRegression') {\n            throw new TypeError('not a exponential regression model');\n        }\n        return new ExponentialRegression(true, json);\n    }\n}\n\nfunction regress(er, x, y) {\n    const n = x.length;\n    const yl = new Array(n);\n    for (let i = 0; i < n; i++) {\n        yl[i] = Math.log(y[i]);\n    }\n\n    const linear = new SimpleLinearRegression(x, yl);\n    er.A = linear.slope;\n    er.B = Math.exp(linear.intercept);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-exponential/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport SimpleLinearRegression from 'ml-regression-simple-linear';\n\nexport default class PowerRegression extends BaseRegression {\n    constructor(x, y) {\n        super();\n        if (x === true) { // reloading model\n            this.A = y.A;\n            this.B = y.B;\n        } else {\n            checkArrayLength(x, y);\n            regress(this, x, y);\n        }\n    }\n\n    _predict(newInputs) {\n        return this.A * Math.pow(newInputs, this.B);\n    }\n\n    toJSON() {\n        return {\n            name: 'powerRegression',\n            A: this.A,\n            B: this.B\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.A, precision) + ' * x^' + maybeToPrecision(this.B, precision);\n    }\n\n    toLaTeX(precision) {\n        if (this.B >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.A, precision) + 'x^{' + maybeToPrecision(this.B, precision) + '}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.A, precision) + '}{x^{' + maybeToPrecision(-this.B, precision) + '}}';\n        }\n    }\n\n    static load(json) {\n        if (json.name !== 'powerRegression') {\n            throw new TypeError('not a power regression model');\n        }\n        return new PowerRegression(true, json);\n    }\n}\n\nfunction regress(pr, x, y) {\n    const n = x.length;\n    const xl = new Array(n);\n    const yl = new Array(n);\n    for (let i = 0; i < n; i++) {\n        xl[i] = Math.log(x[i]);\n        yl[i] = Math.log(y[i]);\n    }\n\n    const linear = new SimpleLinearRegression(xl, yl);\n    pr.A = Math.exp(linear.intercept);\n    pr.B = linear.slope;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-power/src/index.js","import Matrix, { SVD } from 'ml-matrix';\nimport BaseRegression from 'ml-regression-base';\n\nexport default class MultivariateLinearRegression extends BaseRegression {\n  constructor(x, y, options = {}) {\n    const { intercept = true, statistics = true } = options;\n    super();\n    this.statistics = statistics;\n    if (x === true) {\n      this.weights = y.weights;\n      this.inputs = y.inputs;\n      this.outputs = y.outputs;\n      this.intercept = y.intercept;\n    } else {\n      x = new Matrix(x);\n      if (intercept) {\n        x.addColumn(new Array(x.length).fill(1));\n      }\n      const beta = new SVD(x, { autoTranspose: true }).solve(y);\n      this.weights = beta.to2DArray();\n      this.inputs = x[0].length;\n      this.outputs = y[0].length;\n      if (intercept) this.inputs--;\n      this.intercept = intercept;\n      if (statistics) {\n        /*\n         * Let's add some basic statistics about the beta's to be able to interpret them.\n         * source: http://dept.stat.lsa.umich.edu/~kshedden/Courses/Stat401/Notes/401-multreg.pdf\n         * validated against Excel Regression AddIn\n         * test: \"datamining statistics test\"\n         */\n        const fittedValues = x.mmul(beta);\n        const residuals = new Matrix(y).addM(fittedValues.neg());\n        const variance =\n          residuals\n            .to2DArray()\n            .map((ri) => Math.pow(ri[0], 2))\n            .reduce((a, b) => a + b) /\n          (y.length - x.columns);\n        this.stdError = Math.sqrt(variance);\n        this.stdErrorMatrix = x\n          .transposeView()\n          .mmul(x)\n          .pseudoInverse()\n          .mul(variance);\n        this.stdErrors = this.stdErrorMatrix.diagonal().map((d) => Math.sqrt(d));\n        this.tStats = this.weights.map(\n          (d, i) => (this.stdErrors[i] === 0 ? 0 : d[0] / this.stdErrors[i])\n        );\n      }\n    }\n  }\n\n  predict(x) {\n    if (Array.isArray(x)) {\n      if (typeof x[0] === 'number') {\n        return this._predict(x);\n      } else if (Array.isArray(x[0])) {\n        const y = new Array(x.length);\n        for (let i = 0; i < x.length; i++) {\n          y[i] = this._predict(x[i]);\n        }\n        return y;\n      }\n    }\n    throw new TypeError('x must be a matrix or array of numbers');\n  }\n\n  _predict(x) {\n    const result = new Array(this.outputs);\n    if (this.intercept) {\n      for (let i = 0; i < this.outputs; i++) {\n        result[i] = this.weights[this.inputs][i];\n      }\n    } else {\n      result.fill(0);\n    }\n    for (let i = 0; i < this.inputs; i++) {\n      for (let j = 0; j < this.outputs; j++) {\n        result[j] += this.weights[i][j] * x[i];\n      }\n    }\n    return result;\n  }\n\n  score() {\n    throw new Error('score method is not implemented yet');\n  }\n\n  toJSON() {\n    return {\n      name: 'multivariateLinearRegression',\n      weights: this.weights,\n      inputs: this.inputs,\n      outputs: this.outputs,\n      intercept: this.intercept,\n      summary: (this.statistics)\n        ? {\n          regressionStatistics: {\n            standardError: this.stdError,\n            observations: this.outputs\n          },\n          variables: this.weights.map((d, i) => {\n            return {\n              label:\n                i === this.weights.length - 1\n                  ? 'Intercept'\n                  : `X Variable ${i + 1}`,\n              coefficients: d,\n              standardError: this.stdErrors[i],\n              tStat: this.tStats[i]\n            };\n          })\n        }\n        : undefined,\n    };\n  }\n\n  static load(model) {\n    if (model.name !== 'multivariateLinearRegression') {\n      throw new Error('not a MLR model');\n    }\n    return new MultivariateLinearRegression(true, model);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-multivariate-linear/src/index.js","import {Matrix, solve} from 'ml-matrix';\nimport Kernel from 'ml-kernel';\n\nimport BaseRegression from 'ml-regression-base';\n\nconst defaultOptions = {\n    lambda: 0.1,\n    kernelType: 'gaussian',\n    kernelOptions: {},\n    computeCoefficient: false\n};\n\n// Implements the Kernel ridge regression algorithm.\n// http://www.ics.uci.edu/~welling/classnotes/papers_class/Kernel-Ridge.pdf\nexport default class KernelRidgeRegression extends BaseRegression {\n    constructor(inputs, outputs, options) {\n        super();\n        if (inputs === true) { // reloading model\n            this.alpha = outputs.alpha;\n            this.inputs = outputs.inputs;\n            this.kernelType = outputs.kernelType;\n            this.kernelOptions = outputs.kernelOptions;\n            this.kernel = new Kernel(outputs.kernelType, outputs.kernelOptions);\n        } else {\n            options = Object.assign({}, defaultOptions, options);\n\n            const kernelFunction = new Kernel(options.kernelType, options.kernelOptions);\n            const K = kernelFunction.compute(inputs);\n            const n = inputs.length;\n            K.add(Matrix.eye(n, n).mul(options.lambda));\n\n            this.alpha = solve(K, outputs);\n            this.inputs = inputs;\n            this.kernelType = options.kernelType;\n            this.kernelOptions = options.kernelOptions;\n            this.kernel = kernelFunction;\n        }\n    }\n\n    _predict(newInputs) {\n        return this.kernel.compute([newInputs], this.inputs).mmul(this.alpha)[0];\n    }\n\n    toJSON() {\n        return {\n            name: 'kernelRidgeRegression',\n            alpha: this.alpha,\n            inputs: this.inputs,\n            kernelType: this.kernelType,\n            kernelOptions: this.kernelOptions\n        };\n    }\n\n    static load(json) {\n        if (json.name !== 'kernelRidgeRegression') {\n            throw new TypeError('not a KRR model');\n        }\n        return new KernelRidgeRegression(true, json);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/kernel-ridge-regression.js","import {Matrix, SVD} from 'ml-matrix';\nimport BaseRegression from 'ml-regression-base';\n\nconst defaultOptions = {\n    order: 2\n};\n// Implements the Kernel ridge regression algorithm.\n// http://www.ics.uci.edu/~welling/classnotes/papers_class/Kernel-Ridge.pdf\nexport default class PolynomialFitRegression2D extends BaseRegression {\n    /**\n     * Constructor for the 2D polynomial fitting\n     *\n     * @param inputs\n     * @param outputs\n     * @param options\n     * @constructor\n     */\n    constructor(inputs, outputs, options) {\n        super();\n        if (inputs === true) { // reloading model\n            this.coefficients = Matrix.columnVector(outputs.coefficients);\n            this.order = outputs.order;\n            if (outputs.r) {\n                this.r = outputs.r;\n                this.r2 = outputs.r2;\n            }\n            if (outputs.chi2) {\n                this.chi2 = outputs.chi2;\n            }\n        } else {\n            options = Object.assign({}, defaultOptions, options);\n            this.order = options.order;\n            this.coefficients = [];\n            this.X = inputs;\n            this.y = outputs;\n\n            this.train(this.X, this.y, options);\n        }\n    }\n\n    /**\n     * Function that fits the model given the data(X) and predictions(y).\n     * The third argument is an object with the following options:\n     * * order: order of the polynomial to fit.\n     *\n     * @param {Matrix} X - A matrix with n rows and 2 columns.\n     * @param {Matrix} y - A vector of the prediction values.\n     */\n    train(X, y) {\n        if (!Matrix.isMatrix(X)) X = new Matrix(X);\n        if (!Matrix.isMatrix(y)) y = Matrix.columnVector(y);\n\n        if (y.rows !== X.rows) {\n            y = y.transpose();\n        }\n\n        if (X.columns !== 2) {\n            throw new RangeError('You give X with ' + X.columns + ' columns and it must be 2');\n        }\n        if (X.rows !== y.rows) {\n            throw new RangeError('X and y must have the same rows');\n        }\n\n        var examples = X.rows;\n        var coefficients = ((this.order + 2) * (this.order + 1)) / 2;\n        this.coefficients = new Array(coefficients);\n\n        var x1 = X.getColumnVector(0);\n        var x2 = X.getColumnVector(1);\n\n        var scaleX1 = 1.0 / x1.clone().apply(abs).max();\n        var scaleX2 = 1.0 / x2.clone().apply(abs).max();\n        var scaleY = 1.0 / y.clone().apply(abs).max();\n\n        x1.mulColumn(0, scaleX1);\n        x2.mulColumn(0, scaleX2);\n        y.mulColumn(0, scaleY);\n\n        var A = new Matrix(examples, coefficients);\n        var col = 0;\n\n        for (var i = 0; i <= this.order; ++i) {\n            var limit = this.order - i;\n            for (var j = 0; j <= limit; ++j) {\n                var result = powColVector(x1, i).mulColumnVector(powColVector(x2, j));\n                A.setColumn(col, result);\n                col++;\n            }\n        }\n\n        var svd = new SVD(A.transpose(), {\n            computeLeftSingularVectors: true,\n            computeRightSingularVectors: true,\n            autoTranspose: false\n        });\n\n        var qqs = Matrix.rowVector(svd.diagonal);\n        qqs = qqs.apply(function (i, j) {\n            if (this[i][j] >= 1e-15) this[i][j] = 1 / this[i][j];\n            else this[i][j] = 0;\n        });\n\n        var qqs1 = Matrix.zeros(examples, coefficients);\n        for (i = 0; i < coefficients; ++i) {\n            qqs1[i][i] = qqs[0][i];\n        }\n\n        qqs = qqs1;\n\n        var U = svd.rightSingularVectors;\n        var V = svd.leftSingularVectors;\n\n        this.coefficients = V.mmul(qqs.transpose()).mmul(U.transpose()).mmul(y);\n\n        col = 0;\n\n        for (i = 0; i <= coefficients; ++i) {\n            limit = this.order - i;\n            for (j = 0; j <= limit; ++j) {\n                this.coefficients[col][0] = (this.coefficients[col][0] * Math.pow(scaleX1, i) * Math.pow(scaleX2, j)) / scaleY;\n                col++;\n            }\n        }\n    }\n\n    _predict(newInputs) {\n        var x1 = newInputs[0];\n        var x2 = newInputs[1];\n\n        var y = 0;\n        var column = 0;\n\n        for (var i = 0; i <= this.order; i++) {\n            for (var j = 0; j <= this.order - i; j++) {\n                y += Math.pow(x1, i) * (Math.pow(x2, j)) * this.coefficients[column][0];\n                column++;\n            }\n        }\n\n        return y;\n    }\n\n    toJSON() {\n        return {\n            name: 'polyfit2D',\n            order: this.order,\n            coefficients: this.coefficients\n        };\n    }\n\n    static load(json) {\n        if (json.name !== 'polyfit2D') {\n            throw new TypeError('not a polyfit2D model');\n        }\n        return new PolynomialFitRegression2D(true, json);\n    }\n}\n\n/**\n * Function that given a column vector return this: vector^power\n *\n * @param x - Column vector.\n * @param power - Pow number.\n * @return {Suite|Matrix}\n */\nfunction powColVector(x, power) {\n    var result = x.clone();\n    for (var i = 0; i < x.rows; ++i) {\n        result[i][0] = Math.pow(result[i][0], power);\n    }\n    return result;\n}\n\n/**\n * Function to use in the apply method to get the absolute value\n * of each element of the matrix\n *\n * @param i - current row.\n * @param j - current column.\n */\nfunction abs(i, j) {\n    this[i][j] = Math.abs(this[i][j]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/poly-fit-regression2d.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport {array} from 'ml-stat';\nconst median = array.median;\n\nexport default class TheilSenRegression extends BaseRegression {\n\n    /**\n     * TheilSen estimator\n     * https://en.wikipedia.org/wiki/Theil%E2%80%93Sen_estimator\n     * @param {Array<number>|boolean} x\n     * @param {Array<number>|object} y\n     * @constructor\n     */\n    constructor(x, y) {\n        super();\n        if (x === true) {\n            // loads the model\n            this.slope = y.slope;\n            this.intercept = y.intercept;\n            this.coefficients = y.coefficients;\n        } else {\n            // creates the model\n            checkArrayLength(x, y);\n            theilSen(this, x, y);\n        }\n\n    }\n\n    toJSON() {\n        return {\n            name: 'TheilSenRegression',\n            slope: this.slope,\n            intercept: this.intercept\n        };\n    }\n\n    _predict(input) {\n        return this.slope * input + this.intercept;\n    }\n\n    computeX(input) {\n        return (input - this.intercept) / this.slope;\n    }\n\n    toString(precision) {\n        var result = 'f(x) = ';\n        if (this.slope) {\n            var xFactor = maybeToPrecision(this.slope, precision);\n            result += (Math.abs(xFactor - 1) < 1e-5 ? '' : xFactor + ' * ') + 'x';\n            if (this.intercept) {\n                var absIntercept = Math.abs(this.intercept);\n                var operator = absIntercept === this.intercept ? '+' : '-';\n                result += ' ' + operator + ' ' + maybeToPrecision(absIntercept, precision);\n            }\n        } else {\n            result += maybeToPrecision(this.intercept, precision);\n        }\n        return result;\n    }\n\n    toLaTeX(precision) {\n        return this.toString(precision);\n    }\n\n    static load(json) {\n        if (json.name !== 'TheilSenRegression') {\n            throw new TypeError('not a Theil-Sen model');\n        }\n        return new TheilSenRegression(true, json);\n    }\n}\n\nfunction theilSen(regression, x, y) {\n    let len = x.length;\n    let slopes = new Array(len * len);\n    let count = 0;\n    for (let i = 0; i < len; ++i) {\n        for (let j = i + 1; j < len; ++j) {\n            if (x[i] !== x[j]) {\n                slopes[count++] = (y[j] - y[i]) / (x[j] - x[i]);\n            }\n        }\n    }\n    slopes.length = count;\n    let medianSlope = median(slopes);\n\n    let cuts = new Array(len);\n    for (let i = 0; i < len; ++i) {\n        cuts[i] = y[i] - medianSlope * x[i];\n    }\n\n    regression.slope = medianSlope;\n    regression.intercept = median(cuts);\n    regression.coefficients = [regression.intercept, regression.slope];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-theil-sen/src/index.js","import BaseRegression, {checkArrayLength, maybeToPrecision} from 'ml-regression-base';\nimport {solve} from 'ml-matrix';\n\nexport default class RobustPolynomialRegression extends BaseRegression {\n    constructor(x, y, degree) {\n        super();\n        if (x === true) {\n            this.degree = y.degree;\n            this.powers = y.powers;\n            this.coefficients = y.coefficients;\n        } else {\n            checkArrayLength(x, y);\n            robustPolynomial(this, x, y, degree);\n        }\n    }\n\n    toJSON() {\n        return {\n            name: 'robustPolynomialRegression',\n            degree: this.degree,\n            powers: this.powers,\n            coefficients: this.coefficients\n        };\n    }\n\n    _predict(x) {\n        return predict(x, this.powers, this.coefficients);\n    }\n\n    toString(precision) {\n        return this._toFormula(precision, false);\n    }\n\n    toLaTeX(precision) {\n        return this._toFormula(precision, true);\n    }\n\n    _toFormula(precision, isLaTeX) {\n        let sup = '^';\n        let closeSup = '';\n        let times = ' * ';\n        if (isLaTeX) {\n            sup = '^{';\n            closeSup = '}';\n            times = '';\n        }\n\n        let fn = '';\n        let str = '';\n        for (let k = 0; k < this.coefficients.length; k++) {\n            str = '';\n            if (this.coefficients[k] !== 0) {\n                if (this.powers[k] === 0) {\n                    str = maybeToPrecision(this.coefficients[k], precision);\n                } else {\n                    if (this.powers[k] === 1) {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x';\n                    } else {\n                        str = maybeToPrecision(this.coefficients[k], precision) + times + 'x' + sup + this.powers[k] + closeSup;\n                    }\n                }\n\n                if (this.coefficients[k] > 0 && k !== (this.coefficients.length - 1)) {\n                    str = ' + ' + str;\n                } else if (k !== (this.coefficients.length - 1)) {\n                    str = ' ' + str;\n                }\n            }\n            fn = str + fn;\n        }\n        if (fn.charAt(0) === '+') {\n            fn = fn.slice(1);\n        }\n\n        return 'f(x) = ' + fn;\n    }\n\n    static load(json) {\n        if (json.name !== 'robustPolynomialRegression') {\n            throw new TypeError('not a RobustPolynomialRegression model');\n        }\n        return new RobustPolynomialRegression(true, json);\n    }\n}\n\nfunction robustPolynomial(regression, x, y, degree) {\n    let powers = new Array(degree);\n    for (let k = 0; k < degree; k++) {\n        powers[k] = k;\n    }\n\n    const tuples = getRandomTuples(x, y, degree);\n    var min;\n\n    for (var i = 0; i < tuples.length; i++) {\n        var tuple = tuples[i];\n        var coefficients = calcCoefficients(tuple, powers);\n\n        var residuals = x.slice();\n        for (var j = 0; j < x.length; j++) {\n            residuals[j] = y[j] - predict(x[j], powers, coefficients);\n            residuals[j] = {\n                residual: residuals[j] * residuals[j],\n                coefficients\n            };\n        }\n\n        var median = residualsMedian(residuals);\n        if (!min || median.residual < min.residual) {\n            min = median;\n        }\n    }\n\n    regression.degree = degree;\n    regression.powers = powers;\n    regression.coefficients = min.coefficients;\n}\n\n/**\n * @ignore\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} degree\n * @return {Array<{x:number,y:number}>}\n */\nfunction getRandomTuples(x, y, degree) {\n    var len = Math.floor(x.length / degree);\n    var tuples = new Array(len);\n\n    for (var i = 0; i < x.length; i++) {\n        var pos = Math.floor(Math.random() * len);\n\n        var counter = 0;\n        while (counter < x.length) {\n            if (!tuples[pos]) {\n                tuples[pos] = [{\n                    x: x[i],\n                    y: y[i]\n                }];\n                break;\n            } else if (tuples[pos].length < degree) {\n                tuples[pos].push({\n                    x: x[i],\n                    y: y[i]\n                });\n                break;\n            } else {\n                counter++;\n                pos = (pos + 1) % len;\n            }\n        }\n\n        if (counter === x.length) {\n            return tuples;\n        }\n    }\n    return tuples;\n}\n\n/**\n * @ignore\n * @param {{x:number,y:number}} tuple\n * @param {Array<number>} powers\n * @return {Array<number>}\n */\nfunction calcCoefficients(tuple, powers) {\n    var X = tuple.slice();\n    var Y = tuple.slice();\n    for (var i = 0; i < X.length; i++) {\n        Y[i] = [tuple[i].y];\n        X[i] = new Array(powers.length);\n        for (var j = 0; j < powers.length; j++) {\n            X[i][j] = Math.pow(tuple[i].x, powers[j]);\n        }\n    }\n\n    return solve(X, Y).to1DArray();\n}\n\nfunction predict(x, powers, coefficients) {\n    let y = 0;\n    for (let k = 0; k < powers.length; k++) {\n        y += coefficients[k] * Math.pow(x, powers[k]);\n    }\n    return y;\n}\n\nfunction residualsMedian(residuals) {\n    residuals.sort((a, b) => a.residual - b.residual);\n\n    var l = residuals.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return residuals[half - 1];\n    } else {\n        return residuals[half];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression-robust-polynomial/src/index.js","import {maybeToPrecision} from 'ml-regression-base';\nimport PolynomialRegression from 'ml-regression-polynomial';\nimport BaseRegression from 'ml-regression-base';\n\n/*\n * Function that calculate the potential fit in the form f(x) = A*x^M\n * with a given M and return de A coefficient.\n *\n * @param {Vector} X - Vector of the x positions of the points.\n * @param {Vector} Y - Vector of the x positions of the points.\n * @param {Number} M - The exponent of the potential fit.\n * @return {Number} A - The A coefficient of the potential fit.\n */\nexport default class PotentialRegression extends BaseRegression {\n    /**\n     * @constructor\n     * @param x: Independent variable\n     * @param y: Dependent variable\n     * @param M\n     */\n    constructor(x, y, M) {\n        super();\n        if (x === true) { // reloading model\n            this.A = y.A;\n            this.M = y.M;\n        } else {\n            var n = x.length;\n            if (n !== y.length) {\n                throw new RangeError('input and output array have a different length');\n            }\n\n            var linear = new PolynomialRegression(x, y, [M]);\n            this.A = linear.coefficients[0];\n            this.M = M;\n        }\n    }\n\n    _predict(x) {\n        return this.A * Math.pow(x, this.M);\n    }\n\n    toJSON() {\n        return {\n            name: 'potentialRegression',\n            A: this.A,\n            M: this.M\n        };\n    }\n\n    toString(precision) {\n        return 'f(x) = ' + maybeToPrecision(this.A, precision) + ' * x^' + this.M;\n    }\n\n    toLaTeX(precision) {\n        if (this.M >= 0) {\n            return 'f(x) = ' + maybeToPrecision(this.A, precision) + 'x^{' + this.M + '}';\n        } else {\n            return 'f(x) = \\\\frac{' + maybeToPrecision(this.A, precision) + '}{x^{' + (-this.M) + '}}';\n        }\n    }\n\n    static load(json) {\n        if (json.name !== 'potentialRegression') {\n            throw new TypeError('not a potential regression model');\n        }\n        return new PotentialRegression(true, json);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-regression/src/regression/potential-regression.js","'use strict';\n\nvar mlMatrix = require('ml-matrix');\n\n/**\n * Calculate current error\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} parameters - Array of current parameter values\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {number}\n */\nfunction errorCalculation(\n  data,\n  parameters,\n  parameterizedFunction\n) {\n  var error = 0;\n  const func = parameterizedFunction(parameters);\n\n  for (var i = 0; i < data.x.length; i++) {\n    error += Math.abs(data.y[i] - func(data.x[i]));\n  }\n\n  return error;\n}\n\n/**\n * Difference of the matrix function over the parameters\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} evaluatedData - Array of previous evaluated function values\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number} gradientDifference - Adjustment for decrease the damping parameter\n * @param {function} paramFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {Matrix}\n */\nfunction gradientFunction(\n  data,\n  evaluatedData,\n  params,\n  gradientDifference,\n  paramFunction\n) {\n  const n = params.length;\n  const m = data.x.length;\n\n  var ans = new Array(n);\n\n  for (var param = 0; param < n; param++) {\n    ans[param] = new Array(m);\n    var auxParams = params.concat();\n    auxParams[param] += gradientDifference;\n    var funcParam = paramFunction(auxParams);\n\n    for (var point = 0; point < m; point++) {\n      ans[param][point] = evaluatedData[point] - funcParam(data.x[point]);\n    }\n  }\n  return new mlMatrix.Matrix(ans);\n}\n\n/**\n * Matrix function over the samples\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} evaluatedData - Array of previous evaluated function values\n * @return {Matrix}\n */\nfunction matrixFunction(data, evaluatedData) {\n  const m = data.x.length;\n\n  var ans = new Array(m);\n\n  for (var point = 0; point < m; point++) {\n    ans[point] = data.y[point] - evaluatedData[point];\n  }\n\n  return new mlMatrix.Matrix([ans]);\n}\n\n/**\n * Iteration for Levenberg-Marquardt\n * @ignore\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {Array<number>} params - Array of previous parameter values\n * @param {number} damping - Levenberg-Marquardt parameter\n * @param {number} gradientDifference - Adjustment for decrease the damping parameter\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @return {Array<number>}\n */\nfunction step(\n  data,\n  params,\n  damping,\n  gradientDifference,\n  parameterizedFunction\n) {\n  var identity = mlMatrix.Matrix.eye(params.length).mul(\n    damping * gradientDifference * gradientDifference\n  );\n\n  var l = data.x.length;\n  var evaluatedData = new Array(l);\n  const func = parameterizedFunction(params);\n  for (var i = 0; i < l; i++) {\n    evaluatedData[i] = func(data.x[i]);\n  }\n  var gradientFunc = gradientFunction(\n    data,\n    evaluatedData,\n    params,\n    gradientDifference,\n    parameterizedFunction\n  );\n  var matrixFunc = matrixFunction(data, evaluatedData).transposeView();\n  var inverseMatrix = mlMatrix.inverse(\n    identity.add(gradientFunc.mmul(gradientFunc.transposeView()))\n  );\n  params = new mlMatrix.Matrix([params]);\n  params = params.sub(\n    inverseMatrix\n      .mmul(gradientFunc)\n      .mmul(matrixFunc)\n      .mul(gradientDifference)\n      .transposeView()\n  );\n\n  return params.to1DArray();\n}\n\n/**\n * Curve fitting algorithm\n * @param {{x:Array<number>, y:Array<number>}} data - Array of points to fit in the format [x1, x2, ... ], [y1, y2, ... ]\n * @param {function} parameterizedFunction - The parameters and returns a function with the independent variable as a parameter\n * @param {object} [options] - Options object\n * @param {number} [options.damping] - Levenberg-Marquardt parameter\n * @param {number} [options.gradientDifference = 10e-2] - Adjustment for decrease the damping parameter\n * @param {Array<number>} [options.initialValues] - Array of initial parameter values\n * @param {number} [options.maxIterations = 100] - Maximum of allowed iterations\n * @param {number} [options.errorTolerance = 10e-3] - Minimum uncertainty allowed for each point\n * @return {{parameterValues: Array<number>, parameterError: number, iterations: number}}\n */\nfunction levenbergMarquardt(\n  data,\n  parameterizedFunction,\n  options = {}\n) {\n  let {\n    maxIterations = 100,\n    gradientDifference = 10e-2,\n    damping = 0,\n    errorTolerance = 10e-3,\n    initialValues\n  } = options;\n\n  if (damping <= 0) {\n    throw new Error('The damping option must be a positive number');\n  } else if (!data.x || !data.y) {\n    throw new Error('The data parameter must have x and y elements');\n  } else if (\n    !Array.isArray(data.x) ||\n    data.x.length < 2 ||\n    !Array.isArray(data.y) ||\n    data.y.length < 2\n  ) {\n    throw new Error(\n      'The data parameter elements must be an array with more than 2 points'\n    );\n  } else {\n    let dataLen = data.x.length;\n    if (dataLen !== data.y.length) {\n      throw new Error('The data parameter elements must have the same size');\n    }\n  }\n\n  var parameters =\n    initialValues || new Array(parameterizedFunction.length).fill(1);\n\n  if (!Array.isArray(parameters)) {\n    throw new Error('initialValues must be an array');\n  }\n\n  var error = errorCalculation(data, parameters, parameterizedFunction);\n\n  var converged = error <= errorTolerance;\n\n  for (\n    var iteration = 0;\n    iteration < maxIterations && !converged;\n    iteration++\n  ) {\n    parameters = step(\n      data,\n      parameters,\n      damping,\n      gradientDifference,\n      parameterizedFunction\n    );\n    error = errorCalculation(data, parameters, parameterizedFunction);\n    converged = error <= errorTolerance;\n  }\n\n  return {\n    parameterValues: parameters,\n    parameterError: error,\n    iterations: iteration\n  };\n}\n\nmodule.exports = levenbergMarquardt;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-levenberg-marquardt/lib/index.js","import HashTable from 'ml-hash-table';\n\nexport class SparseMatrix {\n    constructor(rows, columns, options = {}) {\n        if (rows instanceof SparseMatrix) { // clone\n            const other = rows;\n            this._init(other.rows, other.columns, other.elements.clone(), other.threshold);\n            return;\n        }\n\n        if (Array.isArray(rows)) {\n            const matrix = rows;\n            rows = matrix.length;\n            options = columns || {};\n            columns = matrix[0].length;\n            this._init(rows, columns, new HashTable(options), options.threshold);\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    var value = matrix[i][j];\n                    if (this.threshold && Math.abs(value) < this.threshold) value = 0;\n                    if (value !== 0) {\n                        this.elements.set(i * columns + j, matrix[i][j]);\n                    }\n                }\n            }\n        } else {\n            this._init(rows, columns, new HashTable(options), options.threshold);\n        }\n    }\n\n    _init(rows, columns, elements, threshold) {\n        this.rows = rows;\n        this.columns = columns;\n        this.elements = elements;\n        this.threshold = threshold || 0;\n    }\n\n    static eye(rows = 1, columns = rows) {\n        const min = Math.min(rows, columns);\n        const matrix = new SparseMatrix(rows, columns, {initialCapacity: min});\n        for (var i = 0; i < min; i++) {\n            matrix.set(i, i, 1);\n        }\n        return matrix;\n    }\n\n    clone() {\n        return new SparseMatrix(this);\n    }\n\n    to2DArray() {\n        const copy = new Array(this.rows);\n        for (var i = 0; i < this.rows; i++) {\n            copy[i] = new Array(this.columns);\n            for (var j = 0; j < this.columns; j++) {\n                copy[i][j] = this.get(i, j);\n            }\n        }\n        return copy;\n    }\n\n    isSquare() {\n        return this.rows === this.columns;\n    }\n\n    isSymmetric() {\n        if (!this.isSquare()) return false;\n\n        var symmetric = true;\n        this.forEachNonZero((i, j, v) => {\n            if (this.get(j, i) !== v) {\n                symmetric = false;\n                return false;\n            }\n            return v;\n        });\n        return symmetric;\n    }\n\n    /**\n     * Search for the wither band in the main diagonals\n     * @return {number}\n     */\n    bandWidth() {\n        let min = this.columns;\n        let max = -1;\n        this.forEachNonZero((i, j, v) => {\n            let diff = i - j;\n            min = Math.min(min, diff);\n            max = Math.max(max, diff);\n            return v;\n        });\n        return max - min;\n    }\n\n    /**\n     * Test if a matrix is consider banded using a threshold\n     * @param {number} width\n     * @return {boolean}\n     */\n    isBanded(width) {\n        let bandWidth = this.bandWidth();\n        return bandWidth <= width;\n    }\n\n    get cardinality() {\n        return this.elements.size;\n    }\n\n    get size() {\n        return this.rows * this.columns;\n    }\n\n    get(row, column) {\n        return this.elements.get(row * this.columns + column);\n    }\n\n    set(row, column, value) {\n        if (this.threshold && Math.abs(value) < this.threshold) value = 0;\n        if (value === 0) {\n            this.elements.remove(row * this.columns + column);\n        } else {\n            this.elements.set(row * this.columns + column, value);\n        }\n        return this;\n    }\n\n    mmul(other) {\n        if (this.columns !== other.rows) {\n            // eslint-disable-next-line no-console\n            console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');\n        }\n\n        const m = this.rows;\n        const p = other.columns;\n\n        const result = new SparseMatrix(m, p);\n        this.forEachNonZero((i, j, v1) => {\n            other.forEachNonZero((k, l, v2) => {\n                if (j === k) {\n                    result.set(i, l, result.get(i, l) + v1 * v2);\n                }\n                return v2;\n            });\n            return v1;\n        });\n        return result;\n    }\n\n    kroneckerProduct(other) {\n        const m = this.rows;\n        const n = this.columns;\n        const p = other.rows;\n        const q = other.columns;\n\n        const result = new SparseMatrix(m * p, n * q, {\n            initialCapacity: this.cardinality * other.cardinality\n        });\n        this.forEachNonZero((i, j, v1) => {\n            other.forEachNonZero((k, l, v2) => {\n                result.set(p * i + k, q * j + l, v1 * v2);\n                return v2;\n            });\n            return v1;\n        });\n        return result;\n    }\n\n    forEachNonZero(callback) {\n        this.elements.forEachPair((key, value) => {\n            const i = (key / this.columns) | 0;\n            const j = key % this.columns;\n            let r = callback(i, j, value);\n            if (r === false) return false; // stop iteration\n            if (this.threshold && Math.abs(r) < this.threshold) r = 0;\n            if (r !== value) {\n                if (r === 0) {\n                    this.elements.remove(key, true);\n                } else {\n                    this.elements.set(key, r);\n                }\n            }\n            return true;\n        });\n        this.elements.maybeShrinkCapacity();\n        return this;\n    }\n\n    getNonZeros() {\n        const cardinality = this.cardinality;\n        const rows = new Array(cardinality);\n        const columns = new Array(cardinality);\n        const values = new Array(cardinality);\n        var idx = 0;\n        this.forEachNonZero((i, j, value) => {\n            rows[idx] = i;\n            columns[idx] = j;\n            values[idx] = value;\n            idx++;\n            return value;\n        });\n        return {rows, columns, values};\n    }\n\n    setThreshold(newThreshold) {\n        if (newThreshold !== 0 && newThreshold !== this.threshold) {\n            this.threshold = newThreshold;\n            this.forEachNonZero((i, j, v) => v);\n        }\n        return this;\n    }\n\n    /**\n     * @return {SparseMatrix} - New transposed sparse matrix\n     */\n    transpose() {\n        let trans = new SparseMatrix(this.columns, this.rows, {initialCapacity: this.cardinality});\n        this.forEachNonZero((i, j, value) => {\n            trans.set(j, i, value);\n            return value;\n        });\n        return trans;\n    }\n}\n\nSparseMatrix.prototype.klass = 'Matrix';\n\nSparseMatrix.identity = SparseMatrix.eye;\nSparseMatrix.prototype.tensorProduct = SparseMatrix.prototype.kroneckerProduct;\n\n/*\n Add dynamically instance and static methods for mathematical operations\n */\n\nvar inplaceOperator = `\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n`;\n\nvar inplaceOperatorScalar = `\n(function %name%S(value) {\n    this.forEachNonZero((i, j, v) => v %op% value);\n    return this;\n})\n`;\n\nvar inplaceOperatorMatrix = `\n(function %name%M(matrix) {\n    matrix.forEachNonZero((i, j, v) => {\n        this.set(i, j, this.get(i, j) %op% v);\n        return v;\n    });\n    return this;\n})\n`;\n\nvar staticOperator = `\n(function %name%(matrix, value) {\n    var newMatrix = new SparseMatrix(matrix);\n    return newMatrix.%name%(value);\n})\n`;\n\nvar inplaceMethod = `\n(function %name%() {\n    this.forEachNonZero((i, j, v) => %method%(v));\n    return this;\n})\n`;\n\nvar staticMethod = `\n(function %name%(matrix) {\n    var newMatrix = new SparseMatrix(matrix);\n    return newMatrix.%name%();\n})\n`;\n\nconst operators = [\n    // Arithmetic operators\n    ['+', 'add'],\n    ['-', 'sub', 'subtract'],\n    ['*', 'mul', 'multiply'],\n    ['/', 'div', 'divide'],\n    ['%', 'mod', 'modulus'],\n    // Bitwise operators\n    ['&', 'and'],\n    ['|', 'or'],\n    ['^', 'xor'],\n    ['<<', 'leftShift'],\n    ['>>', 'signPropagatingRightShift'],\n    ['>>>', 'rightShift', 'zeroFillRightShift']\n];\n\nfor (const operator of operators) {\n    for (let i = 1; i < operator.length; i++) {\n        SparseMatrix.prototype[operator[i]] = eval(fillTemplateFunction(inplaceOperator, {name: operator[i], op: operator[0]}));\n        SparseMatrix.prototype[operator[i] + 'S'] = eval(fillTemplateFunction(inplaceOperatorScalar, {name: operator[i] + 'S', op: operator[0]}));\n        SparseMatrix.prototype[operator[i] + 'M'] = eval(fillTemplateFunction(inplaceOperatorMatrix, {name: operator[i] + 'M', op: operator[0]}));\n\n        SparseMatrix[operator[i]] = eval(fillTemplateFunction(staticOperator, {name: operator[i]}));\n    }\n}\n\nvar methods = [\n    ['~', 'not']\n];\n\n[\n    'abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'cbrt', 'ceil',\n    'clz32', 'cos', 'cosh', 'exp', 'expm1', 'floor', 'fround', 'log', 'log1p',\n    'log10', 'log2', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc'\n].forEach(function (mathMethod) {\n    methods.push(['Math.' + mathMethod, mathMethod]);\n});\n\nfor (const method of methods) {\n    for (let i = 1; i < method.length; i++) {\n        SparseMatrix.prototype[method[i]] = eval(fillTemplateFunction(inplaceMethod, {name: method[i], method: method[0]}));\n        SparseMatrix[method[i]] = eval(fillTemplateFunction(staticMethod, {name: method[i]}));\n    }\n}\n\nfunction fillTemplateFunction(template, values) {\n    for (const i in values) {\n        template = template.replace(new RegExp('%' + i + '%', 'g'), values[i]);\n    }\n    return template;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-sparse-matrix/src/index.js","module.exports = newArray\n\nfunction newArray (n, value) {\n  n = n || 0\n  var array = new Array(n)\n  for (var i = 0; i < n; i++) {\n    array[i] = value\n  }\n  return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/new-array/index.js","const binarySearch = require('binary-search');\nconst sortAsc = require('num-sort').asc;\n\nconst largestPrime = 0x7fffffff;\n\nconst primeNumbers = [\n    //chunk #0\n    largestPrime, // 2^31-1\n\n    //chunk #1\n    5, 11, 23, 47, 97, 197, 397, 797, 1597, 3203, 6421, 12853, 25717, 51437, 102877, 205759,\n    411527, 823117, 1646237, 3292489, 6584983, 13169977, 26339969, 52679969, 105359939,\n    210719881, 421439783, 842879579, 1685759167,\n\n    //chunk #2\n    433, 877, 1759, 3527, 7057, 14143, 28289, 56591, 113189, 226379, 452759, 905551, 1811107,\n    3622219, 7244441, 14488931, 28977863, 57955739, 115911563, 231823147, 463646329, 927292699,\n    1854585413,\n\n    //chunk #3\n    953, 1907, 3821, 7643, 15287, 30577, 61169, 122347, 244703, 489407, 978821, 1957651, 3915341,\n    7830701, 15661423, 31322867, 62645741, 125291483, 250582987, 501165979, 1002331963,\n    2004663929,\n\n    //chunk #4\n    1039, 2081, 4177, 8363, 16729, 33461, 66923, 133853, 267713, 535481, 1070981, 2141977, 4283963,\n    8567929, 17135863, 34271747, 68543509, 137087021, 274174111, 548348231, 1096696463,\n\n    //chunk #5\n    31, 67, 137, 277, 557, 1117, 2237, 4481, 8963, 17929, 35863, 71741, 143483, 286973, 573953,\n    1147921, 2295859, 4591721, 9183457, 18366923, 36733847, 73467739, 146935499, 293871013,\n    587742049, 1175484103,\n\n    //chunk #6\n    599, 1201, 2411, 4831, 9677, 19373, 38747, 77509, 155027, 310081, 620171, 1240361, 2480729,\n    4961459, 9922933, 19845871, 39691759, 79383533, 158767069, 317534141, 635068283, 1270136683,\n\n    //chunk #7\n    311, 631, 1277, 2557, 5119, 10243, 20507, 41017, 82037, 164089, 328213, 656429, 1312867,\n    2625761, 5251529, 10503061, 21006137, 42012281, 84024581, 168049163, 336098327, 672196673,\n    1344393353,\n\n    //chunk #8\n    3, 7, 17, 37, 79, 163, 331, 673, 1361, 2729, 5471, 10949, 21911, 43853, 87719, 175447, 350899,\n    701819, 1403641, 2807303, 5614657, 11229331, 22458671, 44917381, 89834777, 179669557,\n    359339171, 718678369, 1437356741,\n\n    //chunk #9\n    43, 89, 179, 359, 719, 1439, 2879, 5779, 11579, 23159, 46327, 92657, 185323, 370661, 741337,\n    1482707, 2965421, 5930887, 11861791, 23723597, 47447201, 94894427, 189788857, 379577741,\n    759155483, 1518310967,\n\n    //chunk #10\n    379, 761, 1523, 3049, 6101, 12203, 24407, 48817, 97649, 195311, 390647, 781301, 1562611,\n    3125257, 6250537, 12501169, 25002389, 50004791, 100009607, 200019221, 400038451, 800076929,\n    1600153859,\n\n    //chunk #11\n    13, 29, 59, 127, 257, 521, 1049, 2099, 4201, 8419, 16843, 33703, 67409, 134837, 269683,\n    539389, 1078787, 2157587, 4315183, 8630387, 17260781, 34521589, 69043189, 138086407,\n    276172823, 552345671, 1104691373,\n\n    //chunk #12\n    19, 41, 83, 167, 337, 677,\n    1361, 2729, 5471, 10949, 21911, 43853, 87719, 175447, 350899,\n    701819, 1403641, 2807303, 5614657, 11229331, 22458671, 44917381, 89834777, 179669557,\n    359339171, 718678369, 1437356741,\n\n    //chunk #13\n    53, 107, 223, 449, 907, 1823, 3659, 7321, 14653, 29311, 58631, 117269,\n    234539, 469099, 938207, 1876417, 3752839, 7505681, 15011389, 30022781,\n    60045577, 120091177, 240182359, 480364727, 960729461, 1921458943\n];\n\nprimeNumbers.sort(sortAsc);\n\nfunction nextPrime(value) {\n    let index = binarySearch(primeNumbers, value, sortAsc);\n    if (index < 0) {\n        index = ~index;\n    }\n    return primeNumbers[index];\n}\n\nexports.nextPrime = nextPrime;\nexports.largestPrime = largestPrime;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-hash-table/src/primeFinder.js","'use strict';\nmodule.exports = Number.isNaN || function (x) {\n\treturn x !== x;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/number-is-nan/index.js","\"use strict\";\n\nexports.additiveSymmetric = require('./distances/additiveSymmetric');\nexports.avg = require('./distances/avg');\nexports.bhattacharyya = require('./distances/bhattacharyya');\nexports.canberra = require('./distances/canberra');\nexports.chebyshev = require('./distances/chebyshev');\nexports.clark = require('./distances/clark');\nexports.czekanowski = require('./distances/czekanowski');\nexports.dice = require('./distances/dice');\nexports.divergence = require('./distances/divergence');\nexports.euclidean = require('ml-distance-euclidean');\nexports.fidelity = require('./distances/fidelity');\nexports.gower = require('./distances/gower');\nexports.harmonicMean = require('./distances/harmonicMean');\nexports.hellinger = require('./distances/hellinger');\nexports.innerProduct = require('./distances/innerProduct');\nexports.intersection = require('./distances/intersection');\nexports.jaccard = require('./distances/jaccard');\nexports.jeffreys = require('./distances/jeffreys');\nexports.jensenDifference = require('./distances/jensenDifference');\nexports.jensenShannon = require('./distances/jensenShannon');\nexports.kdivergence = require('./distances/kdivergence');\nexports.kulczynski = require('./distances/kulczynski');\nexports.kullbackLeibler = require('./distances/kullbackLeibler');\nexports.kumarHassebrook = require('./distances/kumarHassebrook');\nexports.kumarJohnson = require('./distances/kumarJohnson');\nexports.lorentzian = require('./distances/lorentzian');\nexports.manhattan = require('./distances/manhattan');\nexports.matusita = require('./distances/matusita');\nexports.minkowski = require('./distances/minkowski');\nexports.motyka = require('./distances/motyka');\nexports.neyman = require('./distances/neyman');\nexports.pearson = require('./distances/pearson');\nexports.probabilisticSymmetric = require('./distances/probabilisticSymmetric');\nexports.ruzicka = require('./distances/ruzicka');\nexports.soergel = require('./distances/soergel');\nexports.sorensen = require('./distances/sorensen');\nexports.squared = require('./distances/squared');\nexports.squaredChord = require('./distances/squaredChord');\nexports.squaredEuclidean = require('ml-distance-euclidean').squared;\nexports.taneja = require('./distances/taneja');\nexports.tanimoto = require('./distances/tanimoto');\nexports.topsoe = require('./distances/topsoe');\nexports.tree = require('ml-tree-similarity');\nexports.waveHedges = require('./distances/waveHedges');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances.js","module.exports = function additiveSymmetric(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i]) * (a[i] + b[i])) / (a[i] * b[i]);\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/additiveSymmetric.js","module.exports = function avg(a, b) {\n    var ii = a.length,\n        max = 0,\n        ans = 0,\n        aux = 0;\n    for (var i = 0; i < ii ; i++) {\n        aux = Math.abs(a[i] - b[i]);\n        ans += aux;\n        if (max < aux) {\n            max = aux;\n        }\n    }\n    return (max + ans) / 2;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/avg.js","module.exports = function bhattacharyya(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return - Math.log(ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/bhattacharyya.js","module.exports = function canberra(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.abs(a[i] - b[i]) / (a[i] + b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/canberra.js","module.exports = function chebyshev(a, b) {\n    var ii = a.length,\n        max = 0,\n        aux = 0;\n    for (var i = 0; i < ii ; i++) {\n        aux = Math.abs(a[i] - b[i]);\n        if (max < aux) {\n            max = aux;\n        }\n    }\n    return max;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/chebyshev.js","module.exports = function clark(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.sqrt(((a[i] - b[i]) * (a[i] - b[i])) / ((a[i] + b[i]) * (a[i] + b[i])));\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/clark.js","'use strict';\n\nconst czekanowskiSimilarity = require('../similarities/czekanowski');\n\nmodule.exports = function czekanowskiDistance(a, b) {\n    return 1 - czekanowskiSimilarity(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/czekanowski.js","module.exports = function divergence(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / ((a[i] + b[i]) * (a[i] + b[i]));\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/divergence.js","module.exports = function fidelity(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/fidelity.js","module.exports = function gower(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.abs(a[i] - b[i]);\n    }\n    return ans / ii;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/gower.js","module.exports = function harmonicMean(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] * b[i]) / (a[i] + b[i]);\n    }\n    return 2 * ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/harmonicMean.js","module.exports = function hellinger(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return 2 * Math.sqrt(1 - ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/hellinger.js","module.exports = function innerProduct(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * b[i];\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/innerProduct.js","module.exports = function jeffreys(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] - b[i]) * Math.log(a[i] / b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jeffreys.js","module.exports = function jensenDifference(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += ((a[i] * Math.log(a[i]) + b[i] * Math.log(b[i])) / 2) - ((a[i] + b[i]) / 2) * Math.log((a[i] + b[i]) / 2);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jensenDifference.js","module.exports = function jensenShannon(a, b) {\n    var ii = a.length,\n        p = 0,\n        q = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * Math.log(2 * a[i] / (a[i] + b[i]));\n        q += b[i] * Math.log(2 * b[i] / (a[i] + b[i]));\n    }\n    return (p + q) / 2;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/jensenShannon.js","module.exports = function kdivergence(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(2 * a[i] / (a[i] + b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kdivergence.js","module.exports = function kullbackLeibler(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(a[i] / b[i]);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kullbackLeibler.js","module.exports = function kumarHassebrook(a, b) {\n    var ii = a.length,\n        p = 0,\n        p2 = 0,\n        q2 = 0;\n    for (var i = 0; i < ii ; i++) {\n        p += a[i] * b[i];\n        p2 += a[i] * a[i];\n        q2 += b[i] * b[i];\n    }\n    return p / (p2 + q2 - p);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kumarHassebrook.js","module.exports = function kumarJohnson(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.pow(a[i] * a[i] - b[i] * b[i],2) / (2 * Math.pow(a[i] * b[i],1.5));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/kumarJohnson.js","module.exports = function lorentzian(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.log(Math.abs(a[i] - b[i]) + 1);\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/lorentzian.js","module.exports = function manhattan(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.abs(a[i] - b[i]);\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/manhattan.js","module.exports = function matusita(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += Math.sqrt(a[i] * b[i]);\n    }\n    return Math.sqrt(2 - 2 * ans);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/matusita.js","module.exports = function minkowski(a, b, p) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += Math.pow(Math.abs(a[i] - b[i]),p);\n    }\n    return Math.pow(d,(1/p));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/minkowski.js","module.exports = function neyman(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / a[i];\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/neyman.js","module.exports = function pearson(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / b[i];\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/pearson.js","module.exports = function probabilisticSymmetric(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / (a[i] + b[i]);\n    }\n    return 2 * d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/probabilisticSymmetric.js","module.exports = function ruzicka(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.min(a[i],b[i]);\n        down += Math.max(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/ruzicka.js","module.exports = function soergel(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += Math.max(a[i],b[i]);\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/soergel.js","module.exports = function sorensen(a, b) {\n    var ii = a.length,\n        up = 0,\n        down = 0;\n    for (var i = 0; i < ii ; i++) {\n        up += Math.abs(a[i] - b[i]);\n        down += a[i] + b[i];\n    }\n    return up / down;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/sorensen.js","module.exports = function squared(a, b) {\n    var i = 0,\n        ii = a.length,\n        d = 0;\n    for (; i < ii; i++) {\n        d += ((a[i] - b[i]) * (a[i] - b[i])) / (a[i] + b[i]);\n    }\n    return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/squared.js","module.exports = function taneja(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += (a[i] + b[i]) / 2 * Math.log((a[i] + b[i]) / (2 * Math.sqrt(a[i] * b[i])));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/taneja.js","var tanimotoS = require('./../similarities/tanimoto');\n\nmodule.exports = function tanimoto(a, b, bitvector) {\n    if (bitvector)\n        return 1 - tanimotoS(a, b, bitvector);\n    else {\n        var ii = a.length,\n            p = 0,\n            q = 0,\n            m = 0;\n        for (var i = 0; i < ii ; i++) {\n            p += a[i];\n            q += b[i];\n            m += Math.min(a[i],b[i]);\n        }\n        return (p + q - 2 * m) / (p + q - m);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/tanimoto.js","module.exports = function topsoe(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += a[i] * Math.log(2 * a[i] / (a[i] + b[i])) + b[i] * Math.log(2 * b[i] / (a[i] + b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/topsoe.js","\"use strict\";\n\n/**\n * Function that creates the tree\n * @param {Array <number>} X - chemical shifts of the signal\n * @param {Array <number>} Y - intensity of the signal\n * @param {number} from - the low limit of x\n * @param {number} to - the top limit of x\n * @param {number} minWindow - smallest range to accept in x\n * @param {number} threshold - smallest range to accept in y\n * @returns {{sum: number, center: number, left: {json}, right: {json}}}\n * left and right have the same structure than the parent, or have a\n * undefined value if are leafs\n */\nfunction createTree (X, Y, from, to, minWindow, threshold) {\n    minWindow = minWindow || 0.16;\n    threshold = threshold || 0.01;\n    if ((to - from) < minWindow)\n        return undefined;\n    var sum = 0;\n    for (var i = 0; X[i] < to; i++) {\n        if (X[i] > from)\n            sum += Y[i];\n    }\n    if (sum < threshold) {\n        return undefined;\n    }\n    var center = 0;\n    for (var j = 0; X[j] < to; j++) {\n        if (X[i] > from)\n            center += X[j] * Y[j];\n    }\n    center = center / sum;\n    if (((center - from) < 10e-6) || ((to - center) < 10e-6)) return undefined;\n    if ((center - from) < (minWindow /4)) {\n        return createTree(X, Y, center, to, minWindow, threshold);\n    }\n    else {\n        if ((to - center) < (minWindow / 4)) {\n            return createTree(X, Y, from, center, minWindow, threshold);\n        }\n        else {\n            return {\n                'sum': sum,\n                'center': center,\n                'left': createTree(X, Y, from, center, minWindow, threshold),\n                'right': createTree(X, Y, center, to, minWindow, threshold)\n            };\n        }\n    }\n}\n\n/**\n * Similarity between two nodes\n * @param {{sum: number, center: number, left: {json}, right: {json}}} a - tree A node\n * @param {{sum: number, center: number, left: {json}, right: {json}}} b - tree B node\n * @param {number} alpha - weights the relative importance of intensity vs. shift match\n * @param {number} beta - weights the relative importance of node matching and children matching\n * @param {number} gamma - controls the attenuation of the effect of chemical shift differences\n * @returns {number} similarity measure between tree nodes\n */\nfunction S(a, b, alpha, beta, gamma) {\n    if (a === undefined || b === undefined) {\n        return 0;\n    }\n    else {\n        var C = (alpha*Math.min(a.sum, b.sum)/Math.max(a.sum, b.sum)+ (1-alpha)*Math.exp(-gamma*Math.abs(a.center - b.center)));\n    }\n    return beta*C + (1-beta)*(S(a.left, b.left, alpha, beta, gamma)+S(a.right, b.right, alpha, beta, gamma));\n}\n\n/**\n * @type {number} alpha - weights the relative importance of intensity vs. shift match\n * @type {number} beta - weights the relative importance of node matching and children matching\n * @type {number} gamma - controls the attenuation of the effect of chemical shift differences\n * @type {number} minWindow - smallest range to accept in x\n * @type {number} threshold - smallest range to accept in y\n */\nvar defaultOptions = {\n    minWindow: 0.16,\n    threshold : 0.01,\n    alpha: 0.1,\n    beta: 0.33,\n    gamma: 0.001\n};\n\n/**\n * Builds a tree based in the spectra and compares this trees\n * @param {{x: Array<number>, y: Array<number>}} A - first spectra to be compared\n * @param {{x: Array<number>, y: Array<number>}} B - second spectra to be compared\n * @param {number} from - the low limit of x\n * @param {number} to - the top limit of x\n * @param {{minWindow: number, threshold: number, alpha: number, beta: number, gamma: number}} options\n * @returns {number} similarity measure between the spectra\n */\nfunction tree(A, B, from, to, options) {\n    options = options || {};\n    for (var o in defaultOptions)\n        if (!options.hasOwnProperty(o)) {\n            options[o] = defaultOptions[o];\n        }\n    var Atree, Btree;\n    if (A.sum)\n        Atree = A;\n    else\n        Atree = createTree(A.x, A.y, from, to, options.minWindow, options.threshold);\n    if (B.sum)\n        Btree = B;\n    else\n        Btree = createTree(B.x, B.y, from, to, options.minWindow, options.threshold);\n    return S(Atree, Btree, options.alpha, options.beta, options.gamma);\n}\n\nmodule.exports = {\n    calc: tree,\n    createTree: createTree\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-tree-similarity/src/index.js","module.exports = function waveHedges(a, b) {\n    var ii = a.length,\n        ans = 0;\n    for (var i = 0; i < ii ; i++) {\n        ans += 1 - (Math.min(a[i], b[i]) / Math.max(a[i], b[i]));\n    }\n    return ans;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/distances/waveHedges.js","\"use strict\";\n\nexports.cosine = require('./similarities/cosine');\nexports.czekanowski = require('./similarities/czekanowski');\nexports.dice = require('./similarities/dice');\nexports.intersection = require('./similarities/intersection');\nexports.jaccard = require('./similarities/jaccard');\nexports.kulczynski = require('./similarities/kulczynski');\nexports.motyka = require('./similarities/motyka');\nexports.pearson = require('./similarities/pearson');\nexports.squaredChord = require('./similarities/squaredChord');\nexports.tanimoto = require('./similarities/tanimoto');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities.js","var diceD = require('./../distances/dice');\n\nmodule.exports = function dice(a, b) {\n    return 1 - diceD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/dice.js","var intersectionD = require('./../distances/intersection');\n\nmodule.exports = function intersection(a, b) {\n    return 1 - intersectionD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/intersection.js","var jaccardD = require('./../distances/jaccard');\n\nmodule.exports = function jaccard(a, b) {\n    return 1 - jaccardD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/jaccard.js","var kulczynskiD = require('./../distances/kulczynski');\n\nmodule.exports = function kulczynski(a, b) {\n    return 1 / kulczynskiD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/kulczynski.js","var motykaD = require('./../distances/motyka');\n\nmodule.exports = function motyka(a, b) {\n    return 1 - motykaD(a,b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/motyka.js","'use strict';\n\nvar stat=require('ml-stat').array;\nvar cosine=require('./cosine');\n\nmodule.exports = function pearson(a, b) {\n    var avgA=stat.mean(a);\n    var avgB=stat.mean(b);\n\n    var newA=new Array(a.length);\n    var newB=new Array(b.length);\n    for (var i=0; i<newA.length; i++) {\n        newA[i]=a[i]-avgA;\n        newB[i]=b[i]-avgB;\n    }\n\n    return cosine(newA, newB);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/pearson.js","var squaredChordD = require('./../distances/squaredChord');\n\nmodule.exports = function squaredChord(a, b) {\n    return 1 - squaredChordD(a, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-distance/src/similarities/squaredChord.js","'use strict';\n\nconst measures = require('./measures');\n\nclass Performance {\n    /**\n     *\n     * @param prediction - The prediction matrix\n     * @param target - The target matrix (values: truthy for same class, falsy for different class)\n     * @param options\n     *\n     * @option    all    True if the entire matrix must be used. False to ignore the diagonal and lower part (default is false, for similarity/distance matrices)\n     * @option    max    True if the max value corresponds to a perfect match (like in similarity matrices), false if it is the min value (default is false, like in distance matrices. All values will be multiplied by -1)\n     */\n    constructor(prediction, target, options) {\n        options = options || {};\n        if (prediction.length !== target.length || prediction[0].length !== target[0].length) {\n            throw new Error('dimensions of prediction and target do not match');\n        }\n        const rows = prediction.length;\n        const columns = prediction[0].length;\n        const isDistance = !options.max;\n\n        const predP = [];\n\n        if (options.all) {\n            for (var i = 0; i < rows; i++) {\n                for (var j = 0; j < columns; j++) {\n                    predP.push({\n                        pred: prediction[i][j],\n                        targ: target[i][j]\n                    });\n                }\n            }\n        } else {\n            if (rows < 3 || rows !== columns) {\n                throw new Error('When \"all\" option is false, the prediction matrix must be square and have at least 3 columns');\n            }\n            for (var i = 0; i < rows - 1; i++) {\n                for (var j = i + 1; j < columns; j++) {\n                    predP.push({\n                        pred: prediction[i][j],\n                        targ: target[i][j]\n                    });\n                }\n            }\n        }\n\n        if (isDistance) {\n            predP.sort((a, b) => a.pred - b.pred);\n        } else {\n            predP.sort((a, b) => b.pred - a.pred);\n        }\n        \n        const cutoffs = this.cutoffs = [isDistance ? Number.MIN_VALUE : Number.MAX_VALUE];\n        const fp = this.fp = [0];\n        const tp = this.tp = [0];\n\n        var nPos = 0;\n        var nNeg = 0;\n\n        var currentPred = predP[0].pred;\n        var nTp = 0;\n        var nFp = 0;\n        for (var i = 0; i < predP.length; i++) {\n            if (predP[i].pred !== currentPred) {\n                cutoffs.push(currentPred);\n                fp.push(nFp);\n                tp.push(nTp);\n                currentPred = predP[i].pred;\n            }\n            if (predP[i].targ) {\n                nPos++;\n                nTp++;\n            } else {\n                nNeg++;\n                nFp++;\n            }\n        }\n        cutoffs.push(currentPred);\n        fp.push(nFp);\n        tp.push(nTp);\n\n        const l = cutoffs.length;\n        const fn = this.fn = new Array(l);\n        const tn = this.tn = new Array(l);\n        const nPosPred = this.nPosPred = new Array(l);\n        const nNegPred = this.nNegPred = new Array(l);\n\n        for (var i = 0; i < l; i++) {\n            fn[i] = nPos - tp[i];\n            tn[i] = nNeg - fp[i];\n\n            nPosPred[i] = tp[i] + fp[i];\n            nNegPred[i] = tn[i] + fn[i];\n        }\n\n        this.nPos = nPos;\n        this.nNeg = nNeg;\n        this.nSamples = nPos + nNeg;\n    }\n\n    /**\n     * Computes a measure from the prediction object.\n     *\n     * Many measures are available and can be combined :\n     * To create a ROC curve, you need fpr and tpr\n     * To create a DET curve, you need fnr and fpr\n     * To create a Lift chart, you need rpp and lift\n     *\n     * Possible measures are : threshold (Threshold), acc (Accuracy), err (Error rate),\n     * fpr (False positive rate), tpr (True positive rate), fnr (False negative rate), tnr (True negative rate), ppv (Positive predictive value),\n     * npv (Negative predictive value), pcfall (Prediction-conditioned fallout), pcmiss (Prediction-conditioned miss), lift (Lift value), rpp (Rate of positive predictions), rnp (Rate of negative predictions)\n     *\n     * @param measure - The short name of the measure\n     *\n     * @return [number]\n     */\n    getMeasure(measure) {\n        if (typeof measure !== 'string') {\n            throw new Error('No measure specified');\n        }\n        if (!measures[measure]) {\n            throw new Error(`The specified measure (${measure}) does not exist`);\n        }\n        return measures[measure](this);\n    }\n\n    /**\n     * Returns the area under the ROC curve\n     */\n    getAURC() {\n        const l = this.cutoffs.length;\n        const x = new Array(l);\n        const y = new Array(l);\n        for (var i = 0; i < l; i++) {\n            x[i] = this.fp[i] / this.nNeg;\n            y[i] = this.tp[i] / this.nPos;\n        }\n        var auc = 0;\n        for (i = 1; i < l; i++) {\n            auc += 0.5 * (x[i] - x[i - 1]) * (y[i] + y[i - 1]);\n        }\n        return auc;\n    }\n\n    /**\n     * Returns the area under the DET curve\n     */\n    getAUDC() {\n        const l = this.cutoffs.length;\n        const x = new Array(l);\n        const y = new Array(l);\n        for (var i = 0; i < l; i++) {\n            x[i] = this.fn[i] / this.nPos;\n            y[i] = this.fp[i] / this.nNeg;\n        }\n        var auc = 0;\n        for (i = 1; i < l; i++) {\n            auc += 0.5 * (x[i] + x[i - 1]) * (y[i] - y[i - 1]);\n        }\n        return auc;\n    }\n\n    getDistribution(options) {\n        options = options || {};\n        var cutLength = this.cutoffs.length;\n        var cutLow = options.xMin || Math.floor(this.cutoffs[cutLength - 1] * 100) / 100;\n        var cutHigh = options.xMax || Math.ceil(this.cutoffs[1] * 100) / 100;\n        var interval = options.interval || Math.floor(((cutHigh - cutLow) / 20 * 10000000) - 1) / 10000000; // Trick to avoid the precision problem of float numbers\n\n        var xLabels = [];\n        var interValues = [];\n        var intraValues = [];\n        var interCumPercent = [];\n        var intraCumPercent = [];\n\n        var nTP = this.tp[cutLength - 1], currentTP = 0;\n        var nFP = this.fp[cutLength - 1], currentFP = 0;\n\n        for (var i = cutLow, j = (cutLength - 1); i <= cutHigh; i += interval) {\n            while (this.cutoffs[j] < i)\n                j--;\n\n            xLabels.push(i);\n\n            var thisTP = nTP - currentTP - this.tp[j];\n            var thisFP = nFP - currentFP - this.fp[j];\n\n            currentTP += thisTP;\n            currentFP += thisFP;\n\n            interValues.push(thisFP);\n            intraValues.push(thisTP);\n\n            interCumPercent.push(100 - (nFP - this.fp[j]) / nFP * 100);\n            intraCumPercent.push(100 - (nTP - this.tp[j]) / nTP * 100);\n        }\n\n        return {\n            xLabels: xLabels,\n            interValues: interValues,\n            intraValues: intraValues,\n            interCumPercent: interCumPercent,\n            intraCumPercent: intraCumPercent\n        };\n    }\n}\n\nPerformance.names = {\n    acc: 'Accuracy',\n    err: 'Error rate',\n    fpr: 'False positive rate',\n    tpr: 'True positive rate',\n    fnr: 'False negative rate',\n    tnr: 'True negative rate',\n    ppv: 'Positive predictive value',\n    npv: 'Negative predictive value',\n    pcfall: 'Prediction-conditioned fallout',\n    pcmiss: 'Prediction-conditioned miss',\n    lift: 'Lift value',\n    rpp: 'Rate of positive predictions',\n    rnp: 'Rate of negative predictions',\n    threshold: 'Threshold'\n};\n\nmodule.exports = Performance;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-performance/src/index.js","'use strict';\n\n// Accuracy\nexports.acc = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.tn[i] + pred.tp[i]) / (l - 1);\n    }\n    return result;\n};\n\n// Error rate\nexports.err = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.fp[i] / (l - 1));\n    }\n    return result;\n};\n\n// False positive rate\nexports.fpr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.fp[i] / pred.nNeg;\n    }\n    return result;\n};\n\n// True positive rate\nexports.tpr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.tp[i] / pred.nPos;\n    }\n    return result;\n};\n\n// False negative rate\nexports.fnr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.fn[i] / pred.nPos;\n    }\n    return result;\n};\n\n// True negative rate\nexports.tnr = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.tn[i] / pred.nNeg;\n    }\n    return result;\n};\n\n// Positive predictive value\nexports.ppv = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fp[i] + pred.tp[i] !== 0) ? (pred.tp[i] / (pred.fp[i] + pred.tp[i])) : 0;\n    }\n    return result;\n};\n\n// Negative predictive value\nexports.npv = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.tn[i] !== 0) ? (pred.tn[i] / (pred.fn[i] + pred.tn[i])) : 0;\n    }\n    return result;\n};\n\n// Prediction conditioned fallout\nexports.pcfall = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fp[i] + pred.tp[i] !== 0) ? 1 - (pred.tp[i] / (pred.fp[i] + pred.tp[i])) : 1;\n    }\n    return result;\n};\n\n// Prediction conditioned miss\nexports.pcmiss = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.fn[i] + pred.tn[i] !== 0) ? 1 - (pred.tn[i] / (pred.fn[i] + pred.tn[i])) : 1;\n    }\n    return result;\n};\n\n// Lift value\nexports.lift = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = (pred.nPosPred[i] !== 0) ? ((pred.tp[i] / pred.nPos) / (pred.nPosPred[i] / pred.nSamples)) : 0;\n    }\n    return result;\n};\n\n// Rate of positive predictions\nexports.rpp = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.nPosPred[i] / pred.nSamples;\n    }\n    return result;\n};\n\n// Rate of negative predictions\nexports.rnp = pred => {\n    const l = pred.cutoffs.length;\n    const result = new Array(l);\n    for (var i = 0; i < l; i++) {\n        result[i] = pred.nNegPred[i] / pred.nSamples;\n    }\n    return result;\n};\n\n// Threshold\nexports.threshold = pred => {\n    const clone = pred.cutoffs.slice();\n    clone[0] = clone[1]; // Remove the infinite value\n    return clone;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-performance/src/measures.js","'use strict';\n\nvar matrixLib = require('ml-matrix');\nvar Matrix = matrixLib.Matrix;\nvar inverse = matrixLib.inverse;\nvar padArray = require('ml-pad-array');\nvar extend = require('extend');\n\nvar defaultOptions = {\n    windowSize: 5,\n    derivative: 1,\n    polynomial: 2,\n    pad: 'none',\n    padValue: 'replicate'\n};\n\n/**\n * Savitzky-Golay filter\n * @param {Array <number>} data\n * @param {number} h\n * @param {Object} options\n * @returns {Array}\n */\nfunction SavitzkyGolay (data, h, options) {\n    options = extend({}, defaultOptions, options);\n    if ((options.windowSize % 2 === 0) || (options.windowSize < 5) || !(Number.isInteger(options.windowSize)))\n        throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');\n    if ((options.derivative < 0) || !(Number.isInteger(options.derivative)))\n        throw new RangeError('Derivative should be a positive integer');\n    if ((options.polynomial < 1) || !(Number.isInteger(options.polynomial)))\n        throw new RangeError('Polynomial should be a positive integer');\n\n    var C, norm;\n    var step = Math.floor(options.windowSize / 2);\n\n    if (options.pad === 'pre') {\n        data = padArray(data, {size: step, value: options.padValue});\n    }\n\n    var ans =  new Array(data.length - 2*step);\n\n    if ((options.windowSize === 5) && (options.polynomial === 2) && ((options.derivative === 1) || (options.derivative === 2))) {\n        if (options.derivative === 1) {\n            C = [-2,-1,0,1,2];\n            norm = 10;\n        }\n        else {\n            C = [2, -1, -2, -1, 2];\n            norm = 7;\n        }\n    }\n    else {\n        var J = Matrix.ones(options.windowSize, options.polynomial + 1);\n        var inic = -(options.windowSize - 1) / 2;\n        for (var i = 0; i < J.length; i++) {\n            for (var j = 0; j < J[i].length; j++) {\n                if ((inic + 1 !== 0) || (j !== 0))\n                    J[i][j] = Math.pow((inic + i), j);\n            }\n        }\n        var Jtranspose = J.transposeView();\n        var Jinv = inverse(Jtranspose.mmul(J));\n        C = Jinv.mmul(Jtranspose);\n        C = C[options.derivative];\n        norm = 1;\n    }\n    var det = norm * Math.pow(h, options.derivative);\n    for (var k = step; k < (data.length - step); k++) {\n        var d = 0;\n        for (var l = 0; l < C.length; l++)\n            d += C[l] * data[l + k - step] / det;\n        ans[k - step] = d;\n    }\n\n    if (options.pad === 'post') {\n        ans = padArray(ans, {size: step, value: options.padValue});\n    }\n\n    return ans;\n}\n\nmodule.exports = SavitzkyGolay;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-savitzky-golay/src/index.js","//Code translate from Pascal source in http://pubs.acs.org/doi/pdf/10.1021/ac00205a007\nvar extend = require('extend');\nvar stat = require('ml-stat');\n\nvar defaultOptions = {\n    windowSize: 9,\n    derivative: 0,\n    polynomial: 3,\n};\n\n\nfunction SavitzkyGolay(data, h, options) {\n    options = extend({}, defaultOptions, options);\n\n    if ((options.windowSize % 2 === 0) || (options.windowSize < 5) || !(Number.isInteger(options.windowSize)))\n            throw new RangeError('Invalid window size (should be odd and at least 5 integer number)')\n\n\n    if (options.windowSize>data.length)\n        throw new RangeError('Window size is higher than the data length '+options.windowSize+\">\"+data.length);\n    if ((options.derivative < 0) || !(Number.isInteger(options.derivative)))\n        throw new RangeError('Derivative should be a positive integer');\n    if ((options.polynomial < 1) || !(Number.isInteger(options.polynomial)))\n        throw new RangeError('Polynomial should be a positive integer');\n    if (options.polynomial >= 6)\n        console.warn('You should not use polynomial grade higher than 5 if you are' +\n            ' not sure that your data arises from such a model. Possible polynomial oscillation problems');\n\n    var windowSize = options.windowSize;\n\n    var half = Math.floor(windowSize/2);\n    var np = data.length;\n    var ans = new Array(np);\n    var weights = fullWeights(windowSize,options.polynomial,options.derivative);\n    var hs = 0;\n    var constantH = true;\n    if( Object.prototype.toString.call( h ) === '[object Array]' ) {\n        constantH = false;\n    }\n    else{\n        hs = Math.pow(h, options.derivative);\n    }\n    //console.log(\"Constant h: \"+constantH);\n    //For the borders\n    for(var i=0;i<half;i++){\n        var wg1=weights[half-i-1];\n        var wg2=weights[half+i+1];\n        var d1 = 0,d2=0;\n        for (var l = 0; l < windowSize; l++){\n            d1 += wg1[l] * data[l];\n            d2 += wg2[l] * data[np-windowSize+l-1];\n        }\n        if(constantH){\n            ans[half-i-1] = d1/hs;\n            ans[np-half+i] = d2/hs;\n        }\n        else{\n            hs = getHs(h,half-i-1,half, options.derivative);\n            ans[half-i-1] = d1/hs;\n            hs = getHs(h,np-half+i,half, options.derivative);\n            ans[np-half+i] = d2/hs;\n        }\n    }\n    //For the internal points\n    var wg = weights[half];\n    for(var i=windowSize;i<np+1;i++){\n        var d = 0;\n        for (var l = 0; l < windowSize; l++)\n            d += wg[l] * data[l+i-windowSize];\n        if(!constantH)\n            hs = getHs(h,i-half-1,half, options.derivative);\n        ans[i-half-1] = d/hs;\n    }\n    return ans;\n}\n\nfunction getHs(h,center,half,derivative){\n    var hs = 0;\n    var count = 0;\n    for(var i=center-half;i<center+half;i++){\n        if(i>=0 && i < h.length-1){\n            hs+= (h[i+1]-h[i]);\n            count++;\n        }\n    }\n    return Math.pow(hs/count,derivative);\n}\n\nfunction GramPoly(i,m,k,s){\n    var Grampoly = 0;\n    if(k>0){\n        Grampoly = (4*k-2)/(k*(2*m-k+1))*(i*GramPoly(i,m,k-1,s) +\n            s*GramPoly(i,m,k-1,s-1)) - ((k-1)*(2*m+k))/(k*(2*m-k+1))*GramPoly(i,m,k-2,s);\n    }\n    else{\n        if(k==0&&s==0){\n            Grampoly=1;\n        }\n        else{\n            Grampoly=0;\n        }\n    }\n    //console.log(Grampoly);\n    return Grampoly;\n}\n\nfunction GenFact(a,b){\n    var gf=1;\n    if(a>=b){\n        for(var j=a-b+1;j<=a;j++){\n            gf*=j;\n        }\n    }\n    return gf;\n}\n\nfunction Weight(i,t,m,n,s){\n    var sum=0;\n    for(var k=0;k<=n;k++){\n        //console.log(k);\n        sum+=(2*k+1)*(GenFact(2*m,k)/GenFact(2*m+k+1,k+1))*GramPoly(i,m,k,0)*GramPoly(t,m,k,s)\n    }\n    return sum;\n}\n\n/**\n *\n * @param m  Number of points\n * @param n  Polynomial grade\n * @param s  Derivative\n */\nfunction fullWeights(m,n,s){\n    var weights = new Array(m);\n    var np = Math.floor(m/2);\n    for(var t=-np;t<=np;t++){\n        weights[t+np] = new Array(m);\n        for(var j=-np;j<=np;j++){\n            weights[t+np][j+np]=Weight(j,t,np,n,s);\n        }\n    }\n    return weights;\n}\n\n/*function entropy(data,h,options){\n    var trend = SavitzkyGolay(data,h,trendOptions);\n    var copy = new Array(data.length);\n    var sum = 0;\n    var max = 0;\n    for(var i=0;i<data.length;i++){\n        copy[i] = data[i]-trend[i];\n    }\n\n    sum/=data.length;\n    console.log(sum+\" \"+max);\n    console.log(stat.array.standardDeviation(copy));\n    console.log(Math.abs(stat.array.mean(copy))/stat.array.standardDeviation(copy));\n    return sum;\n\n}\n\n\n\nfunction guessWindowSize(data, h){\n    console.log(\"entropy \"+entropy(data,h,trendOptions));\n    return 5;\n}\n*/\nmodule.exports = SavitzkyGolay;\n \n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-savitzky-golay-generalized/src/index.js","'use strict';\n\nvar eightBits = require('./creator');\n\n/**\n * Count the number of true values in an array\n * @param {Array} arr\n * @return {number}\n */\nfunction count(arr) {\n    var c = 0;\n    for (var i = 0; i < arr.length; i++) {\n        c += eightBits[arr[i] & 0xff] + eightBits[(arr[i] >> 8) & 0xff] + eightBits[(arr[i] >> 16) & 0xff] + eightBits[(arr[i] >> 24) & 0xff];\n    }\n    return c;\n}\n\n/**\n * Logical AND operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction and(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] & arr2[i];\n    return ans;\n}\n\n/**\n * Logical OR operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction or(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] | arr2[i];\n    return ans;\n}\n\n/**\n * Logical XOR operation\n * @param {Array} arr1\n * @param {Array} arr2\n * @return {Array}\n */\nfunction xor(arr1, arr2) {\n    var ans = new Array(arr1.length);\n    for (var i = 0; i < arr1.length; i++)\n        ans[i] = arr1[i] ^ arr2[i];\n    return ans;\n}\n\n/**\n * Logical NOT operation\n * @param {Array} arr\n * @return {Array}\n */\nfunction not(arr) {\n    var ans = new Array(arr.length);\n    for (var i = 0; i < ans.length; i++)\n        ans[i] = ~arr[i];\n    return ans;\n}\n\n/**\n * Gets the n value of array arr\n * @param {Array} arr\n * @param {number} n\n * @return {boolean}\n */\nfunction getBit(arr, n) {\n    var index = n >> 5; // Same as Math.floor(n/32)\n    var mask = 1 << (31 - n % 32);\n    return Boolean(arr[index] & mask);\n}\n\n/**\n * Sets the n value of array arr to the value val\n * @param {Array} arr\n * @param {number} n\n * @param {boolean} val\n * @return {Array}\n */\nfunction setBit(arr, n, val) {\n    var index = n >> 5; // Same as Math.floor(n/32)\n    var mask = 1 << (31 - n % 32);\n    if (val)\n        arr[index] = mask | arr[index];\n    else\n        arr[index] = ~mask & arr[index];\n    return arr;\n}\n\n/**\n * Translates an array of numbers to a string of bits\n * @param {Array} arr\n * @returns {string}\n */\nfunction toBinaryString(arr) {\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        var obj = (arr[i] >>> 0).toString(2);\n        str += '00000000000000000000000000000000'.substr(obj.length) + obj;\n    }\n    return str;\n}\n\n/**\n * Creates an array of numbers based on a string of bits\n * @param {string} str\n * @returns {Array}\n */\nfunction parseBinaryString(str) {\n    var len = str.length / 32;\n    var ans = new Array(len);\n    for (var i = 0; i < len; i++) {\n        ans[i] = parseInt(str.substr(i*32, 32), 2) | 0;\n    }\n    return ans;\n}\n\n/**\n * Translates an array of numbers to a hex string\n * @param {Array} arr\n * @returns {string}\n */\nfunction toHexString(arr) {\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        var obj = (arr[i] >>> 0).toString(16);\n        str += '00000000'.substr(obj.length) + obj;\n    }\n    return str;\n}\n\n/**\n * Creates an array of numbers based on a hex string\n * @param {string} str\n * @returns {Array}\n */\nfunction parseHexString(str) {\n    var len = str.length / 8;\n    var ans = new Array(len);\n    for (var i = 0; i < len; i++) {\n        ans[i] = parseInt(str.substr(i*8, 8), 16) | 0;\n    }\n    return ans;\n}\n\n/**\n * Creates a human readable string of the array\n * @param {Array} arr\n * @returns {string}\n */\nfunction toDebug(arr) {\n    var binary = toBinaryString(arr);\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        str += '0000'.substr((i * 32).toString(16).length) + (i * 32).toString(16) + ':';\n        for (var j = 0; j < 32; j += 4) {\n            str += ' ' + binary.substr(i * 32 + j, 4);\n        }\n        if (i < arr.length - 1) str += '\\n';\n    }\n    return str\n}\n\nmodule.exports = {\n    count: count,\n    and: and,\n    or: or,\n    xor: xor,\n    not: not,\n    getBit: getBit,\n    setBit: setBit,\n    toBinaryString: toBinaryString,\n    parseBinaryString: parseBinaryString,\n    toHexString: toHexString,\n    parseHexString: parseHexString,\n    toDebug: toDebug\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-bit-array/src/index.js","// auxiliary file to create the 256 look at table elements\n\nvar ans = new Array(256);\nfor (var i = 0; i < 256; i++) {\n    var num = i;\n    var c = 0;\n    while (num) {\n        num = num & (num - 1);\n        c++;\n    }\n    ans[i] = c;\n}\n\nmodule.exports = ans;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-bit-array/src/creator.js","'use strict';\n\nmodule.exports = exports = require('./ArrayUtils');\n\nexports.getEquallySpacedData = require('./getEquallySpaced').getEquallySpacedData;\nexports.SNV = require('./snv').SNV;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/index.js","'use strict';\n\nconst Stat = require('ml-stat').array;\n/**\n * Function that returns an array of points given 1D array as follows:\n *\n * [x1, y1, .. , x2, y2, ..]\n *\n * And receive the number of dimensions of each point.\n * @param array\n * @param dimensions\n * @returns {Array} - Array of points.\n */\nfunction coordArrayToPoints(array, dimensions) {\n    if (array.length % dimensions !== 0) {\n        throw new RangeError('Dimensions number must be accordance with the size of the array.');\n    }\n\n    var length = array.length / dimensions;\n    var pointsArr = new Array(length);\n\n    var k = 0;\n    for (var i = 0; i < array.length; i += dimensions) {\n        var point = new Array(dimensions);\n        for (var j = 0; j < dimensions; ++j) {\n            point[j] = array[i + j];\n        }\n\n        pointsArr[k] = point;\n        k++;\n    }\n\n    return pointsArr;\n}\n\n\n/**\n * Function that given an array as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * Returns an array as follows:\n * [[x1, x2, ..], [y1, y2, ..], [ .. ]]\n *\n * And receives the number of dimensions of each coordinate.\n * @param array\n * @param dimensions\n * @returns {Array} - Matrix of coordinates\n */\nfunction coordArrayToCoordMatrix(array, dimensions) {\n    if (array.length % dimensions !== 0) {\n        throw new RangeError('Dimensions number must be accordance with the size of the array.');\n    }\n\n    var coordinatesArray = new Array(dimensions);\n    var points = array.length / dimensions;\n    for (var i = 0; i < coordinatesArray.length; i++) {\n        coordinatesArray[i] = new Array(points);\n    }\n\n    for (i = 0; i < array.length; i += dimensions) {\n        for (var j = 0; j < dimensions; ++j) {\n            var currentPoint = Math.floor(i / dimensions);\n            coordinatesArray[j][currentPoint] = array[i + j];\n        }\n    }\n\n    return coordinatesArray;\n}\n\n/**\n * Function that receives a coordinate matrix as follows:\n * [[x1, x2, ..], [y1, y2, ..], [ .. ]]\n *\n * Returns an array of coordinates as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * @param coordMatrix\n * @returns {Array}\n */\nfunction coordMatrixToCoordArray(coordMatrix) {\n    var coodinatesArray = new Array(coordMatrix.length * coordMatrix[0].length);\n    var k = 0;\n    for (var i = 0; i < coordMatrix[0].length; ++i) {\n        for (var j = 0; j < coordMatrix.length; ++j) {\n            coodinatesArray[k] = coordMatrix[j][i];\n            ++k;\n        }\n    }\n\n    return coodinatesArray;\n}\n\n/**\n * Tranpose a matrix, this method is for coordMatrixToPoints and\n * pointsToCoordMatrix, that because only transposing the matrix\n * you can change your representation.\n *\n * @param matrix\n * @returns {Array}\n */\nfunction transpose(matrix) {\n    var resultMatrix = new Array(matrix[0].length);\n    for (var i = 0; i < resultMatrix.length; ++i) {\n        resultMatrix[i] = new Array(matrix.length);\n    }\n\n    for (i = 0; i < matrix.length; ++i) {\n        for (var j = 0; j < matrix[0].length; ++j) {\n            resultMatrix[j][i] = matrix[i][j];\n        }\n    }\n\n    return resultMatrix;\n}\n\n/**\n * Function that transform an array of points into a coordinates array\n * as follows:\n * [x1, y1, .. , x2, y2, ..]\n *\n * @param points\n * @returns {Array}\n */\nfunction pointsToCoordArray(points) {\n    var coodinatesArray = new Array(points.length * points[0].length);\n    var k = 0;\n    for (var i = 0; i < points.length; ++i) {\n        for (var j = 0; j < points[0].length; ++j) {\n            coodinatesArray[k] = points[i][j];\n            ++k;\n        }\n    }\n\n    return coodinatesArray;\n}\n\n/**\n * Apply the dot product between the smaller vector and a subsets of the\n * largest one.\n *\n * @param firstVector\n * @param secondVector\n * @returns {Array} each dot product of size of the difference between the\n *                  larger and the smallest one.\n */\nfunction applyDotProduct(firstVector, secondVector) {\n    var largestVector, smallestVector;\n    if (firstVector.length <= secondVector.length) {\n        smallestVector = firstVector;\n        largestVector = secondVector;\n    } else {\n        smallestVector = secondVector;\n        largestVector = firstVector;\n    }\n\n    var difference = largestVector.length - smallestVector.length + 1;\n    var dotProductApplied = new Array(difference);\n\n    for (var i = 0; i < difference; ++i) {\n        var sum = 0;\n        for (var j = 0; j < smallestVector.length; ++j) {\n            sum += smallestVector[j] * largestVector[i + j];\n        }\n        dotProductApplied[i] = sum;\n    }\n\n    return dotProductApplied;\n}\n/**\n * To scale the input array between the specified min and max values. The operation is performed inplace\n * if the options.inplace is specified. If only one of the min or max parameters is specified, then the scaling\n * will multiply the input array by min/min(input) or max/max(input)\n * @param input\n * @param options\n * @returns {*}\n */\nfunction scale(input, options = {}) {\n    const {\n        min,\n        max\n    } = options;\n\n    var y = options.inPlace ? input : (new Array(input.length));\n    var minMax = Stat.minMax(input);\n\n    if (typeof max === 'number') {\n        if (typeof min === 'number') {\n            let factor = (max - min) / (minMax.max - minMax.min);\n            for (let i = 0; i < y.length; i++) {\n                y[i] = (input[i] - minMax.min) * factor + min;\n            }\n        } else if (minMax.max !== 0) {\n            let factor = max / minMax.max;\n            for (let i = 0; i < y.length; i++) {\n                y[i] = input[i] * factor;\n            }\n        } else {\n            options.min = minMax.min;\n            y = scale(input, options);\n        }\n    } else if (typeof min === 'number') {\n        if (minMax.min !== 0) {\n            let factor = min / minMax.min;\n            for (let i = 0; i < y.length; i++) {\n                y[i] = input[i] * factor;\n            }\n\n        } else {\n            options.max = minMax.max;\n            y = scale(input, options);\n        }\n    }\n    return y;\n}\n\nmodule.exports = {\n    coordArrayToPoints: coordArrayToPoints,\n    coordArrayToCoordMatrix: coordArrayToCoordMatrix,\n    coordMatrixToCoordArray: coordMatrixToCoordArray,\n    coordMatrixToPoints: transpose,\n    pointsToCoordArray: pointsToCoordArray,\n    pointsToCoordMatrix: transpose,\n    applyDotProduct: applyDotProduct,\n    scale: scale\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/ArrayUtils.js","'use strict';\n\n/**\n *\n * Function that returns a Number array of equally spaced numberOfPoints\n * containing a representation of intensities of the spectra arguments x\n * and y.\n *\n * The options parameter contains an object in the following form:\n * from: starting point\n * to: last point\n * numberOfPoints: number of points between from and to\n * variant: \"slot\" or \"smooth\" - smooth is the default option\n *\n * The slot variant consist that each point in the new array is calculated\n * averaging the existing points between the slot that belongs to the current\n * value. The smooth variant is the same but takes the integral of the range\n * of the slot and divide by the step size between two points in the new array.\n *\n * @param x - sorted increasing x values\n * @param y\n * @param options\n * @returns {Array} new array with the equally spaced data.\n *\n */\nfunction getEquallySpacedData(x, y, options = {}) {\n    var xLength = x.length;\n    if (x.length > 1 && x[0] > x[1]) {\n        x = x.slice().reverse();\n        y = y.slice().reverse();\n    }\n\n    var {\n        from = x[0],\n        to = x[xLength - 1],\n        variant = 'smooth',\n        numberOfPoints = 100\n    } = options;\n\n    if (xLength !== y.length) {\n        throw new RangeError(\"the x and y vector doesn't have the same size.\");\n    }\n\n    if (typeof from !== 'number' || isNaN(from)) {\n        throw new RangeError(\"'from' option must be a number\");\n    }\n\n    if (typeof to !== 'number' || isNaN(to)) {\n        throw new RangeError(\"'to' option must be a number\");\n    }\n\n    var reverse = from > to;\n    if (reverse) {\n        [from, to] = [to, from];\n    }\n\n    if (typeof numberOfPoints !== 'number' || isNaN(numberOfPoints)) {\n        throw new RangeError(\"'numberOfPoints' option must be a number\");\n    }\n    if (numberOfPoints < 1) {\n        throw new RangeError('the number of points must be at least 1');\n    }\n\n    var output = variant === 'slot' ? getEquallySpacedSlot(x, y, from, to, numberOfPoints) : getEquallySpacedSmooth(x, y, from, to, numberOfPoints);\n\n    return reverse ? output.reverse() : output;\n}\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"smooth\"\n *\n * @param x\n * @param y\n * @param from - Initial point\n * @param to - Final point\n * @param numberOfPoints\n * @returns {Array} - Array of y's equally spaced with the variant \"smooth\"\n */\nfunction getEquallySpacedSmooth(x, y, from, to, numberOfPoints) {\n    var xLength = x.length;\n\n    var step = (to - from) / (numberOfPoints - 1);\n    var halfStep = step / 2;\n\n    var output = new Array(numberOfPoints);\n\n    var initialOriginalStep = x[1] - x[0];\n    var lastOriginalStep = x[xLength - 1] - x[xLength - 2];\n\n    // Init main variables\n    var min = from - halfStep;\n    var max = from + halfStep;\n\n    var previousX = Number.MIN_VALUE;\n    var previousY = 0;\n    var nextX = x[0] - initialOriginalStep;\n    var nextY = 0;\n\n    var currentValue = 0;\n    var slope = 0;\n    var intercept = 0;\n    var sumAtMin = 0;\n    var sumAtMax = 0;\n\n    var i = 0; // index of input\n    var j = 0; // index of output\n\n    function getSlope(x0, y0, x1, y1) {\n        return (y1 - y0) / (x1 - x0);\n    }\n\n    main: while (true) {\n\n        if (previousX <= min && min <= nextX) {\n            add = integral(0, min - previousX, slope, previousY);\n            sumAtMin = currentValue + add;\n        }\n\n        while (nextX - max >= 0) {\n            // no overlap with original point, just consume current value\n            var add = integral(0, max - previousX, slope, previousY);\n            sumAtMax = currentValue + add;\n\n            output[j++] = (sumAtMax - sumAtMin) / step;\n\n            if (j === numberOfPoints) {\n                break main;\n            }\n\n            min = max;\n            max += step;\n            sumAtMin = sumAtMax;\n        }\n\n        currentValue += integral(previousX, nextX, slope, intercept);\n\n        previousX = nextX;\n        previousY = nextY;\n\n        if (i < xLength) {\n            nextX = x[i];\n            nextY = y[i];\n            i++;\n        } else if (i === xLength) {\n            nextX += lastOriginalStep;\n            nextY = 0;\n        }\n\n        slope = getSlope(previousX, previousY, nextX, nextY);\n        intercept = -slope * previousX + previousY;\n    }\n\n    return output;\n}\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"slot\"\n *\n * @param x\n * @param y\n * @param from - Initial point\n * @param to - Final point\n * @param numberOfPoints\n * @returns {Array} - Array of y's equally spaced with the variant \"slot\"\n */\nfunction getEquallySpacedSlot(x, y, from, to, numberOfPoints) {\n    var xLength = x.length;\n\n    var step = (to - from) / (numberOfPoints - 1);\n    var halfStep = step / 2;\n    var lastStep = x[x.length - 1] - x[x.length - 2];\n\n    var start = from - halfStep;\n    var output = new Array(numberOfPoints);\n\n    // Init main variables\n    var min = start;\n    var max = start + step;\n\n    var previousX = -Number.MAX_VALUE;\n    var previousY = 0;\n    var nextX = x[0];\n    var nextY = y[0];\n    var frontOutsideSpectra = 0;\n    var backOutsideSpectra = true;\n\n    var currentValue = 0;\n\n    // for slot algorithm\n    var currentPoints = 0;\n\n    var i = 1; // index of input\n    var j = 0; // index of output\n\n    main: while (true) {\n        if (previousX >= nextX) throw (new Error('x must be an increasing serie'));\n        while (previousX - max > 0) {\n            // no overlap with original point, just consume current value\n            if (backOutsideSpectra) {\n                currentPoints++;\n                backOutsideSpectra = false;\n            }\n\n            output[j] = currentPoints <= 0 ? 0 : currentValue / currentPoints;\n            j++;\n\n            if (j === numberOfPoints) {\n                break main;\n            }\n\n            min = max;\n            max += step;\n            currentValue = 0;\n            currentPoints = 0;\n        }\n\n        if (previousX > min) {\n            currentValue += previousY;\n            currentPoints++;\n        }\n\n        if (previousX === -Number.MAX_VALUE || frontOutsideSpectra > 1) {\n            currentPoints--;\n        }\n\n        previousX = nextX;\n        previousY = nextY;\n\n        if (i < xLength) {\n            nextX = x[i];\n            nextY = y[i];\n            i++;\n        } else {\n            nextX += lastStep;\n            nextY = 0;\n            frontOutsideSpectra++;\n        }\n    }\n\n    return output;\n}\n/**\n * Function that calculates the integral of the line between two\n * x-coordinates, given the slope and intercept of the line.\n * @param x0\n * @param x1\n * @param slope\n * @param intercept\n * @returns {number} integral value.\n */\nfunction integral(x0, x1, slope, intercept) {\n    return (0.5 * slope * x1 * x1 + intercept * x1) - (0.5 * slope * x0 * x0 + intercept * x0);\n}\n\nexports.getEquallySpacedData = getEquallySpacedData;\nexports.integral = integral;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/getEquallySpaced.js","'use strict';\n\nexports.SNV = SNV;\nvar Stat = require('ml-stat').array;\n\n/**\n * Function that applies the standard normal variate (SNV) to an array of values.\n *\n * @param data - Array of values.\n * @returns {Array} - applied the SNV.\n */\nfunction SNV(data) {\n    var mean = Stat.mean(data);\n    var std = Stat.standardDeviation(data);\n    var result = data.slice();\n    for (var i = 0; i < data.length; i++) {\n        result[i] = (result[i] - mean) / std;\n    }\n    return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-utils/src/snv.js","/**\n * Computes the mode of the given values\n * @param {Array<number>} input\n * @return {number}\n */\nexport default function mode(input) {\n    if (!Array.isArray(input)) {\n        throw new Error('input must be an array');\n    }\n    if (input.length === 0) {\n        throw new Error('input must not be empty');\n    }\n\n    var maxValue = 0;\n    var maxCount = 0;\n    var count = 0;\n    var counts = {};\n\n    for (var i = 0; i < input.length; ++i) {\n        var element = input[i];\n        count = counts[element];\n        if (count) {\n            counts[element]++;\n            count++;\n        } else {\n            counts[element] = count = 1;\n        }\n\n        if (count > maxCount) {\n            maxCount = count;\n            maxValue = input[i];\n        }\n    }\n\n    return maxValue;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-mode/src/index.js","import variance from 'ml-array-variance';\n\n/**\n * Computes the standard deviation of the given values\n * @param {Array} values\n * @param {object} [options]\n * @param {boolean} [options.unbiased = true] - if true, divide by (n-1); if false, divide by n.\n * @param {number} [options.mean = arrayMean] - precalculated mean, if any.\n * @return {number}\n */\nexport default function standardDeviation(values, options = {}) {\n    return Math.sqrt(variance(values, options));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-array-standard-deviation/src/index.js"],"sourceRoot":""}