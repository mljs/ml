// ml@v0.1.0, MIT licensed. https://github.com/mljs/ml
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.ML=t()}}(function(){var define,module,exports;return function t(r,o,n){function i(s,a){if(!o[s]){if(!r[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(e)return e(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=o[s]={exports:{}};r[s][0].call(f.exports,function(t){var o=r[s][1][t];return i(o?o:t)},f,f.exports,t,r,o,n)}return o[s].exports}for(var e="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,r,o){var n=o.Math={};n.Matrix=o.Matrix=t("ml-matrix"),n.Distance=t("ml-distance");var i=o.nn={};i.SOM=t("ml-som")},{"ml-distance":52,"ml-matrix":54,"ml-som":56}],2:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])*(t[o]+r[o])/(t[o]*r[o]);return 2*i}},{}],3:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0;o>s;s++)e=Math.abs(t[s]-r[s]),i+=e,e>n&&(n=e);return(n+i)/2}},{}],4:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.sqrt(t[i]*r[i]);return-Math.log(n)}},{}],5:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.abs(t[i]-r[i])/(t[i]+r[i]);return n}},{}],6:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)i=Math.abs(t[e]-r[e]),i>n&&(n=i);return n}},{}],7:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=Math.sqrt((t[o]-r[o])*(t[o]-r[o])/((t[o]+r[o])*(t[o]+r[o])));return 2*i}},{}],8:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0;o>s;s++)n+=t[s]*r[s],i+=t[s]*t[s],e+=r[s]*r[s];return n/(Math.sqrt(i)*Math.sqrt(e))}},{}],9:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.min(t[e],r[e]),i+=t[e]+r[e];return 1-2*n/i}},{}],10:[function(t,r){var o=t("./czekanowski");r.exports=function(t,r){return 1-o(t,r)}},{"./czekanowski":9}],11:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0;o>s;s++)n+=t[s]*t[s],i+=r[s]*r[s],e+=(t[s]-r[s])*(t[s]-r[s]);return e/(n+i)}},{}],12:[function(t,r){var o=t("./dice");r.exports=function(t,r){return 1-o(t,r)}},{"./dice":11}],13:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])/((t[o]+r[o])*(t[o]+r[o]));return 2*i}},{}],14:[function(t,r){var o=t("./squared-euclidean");r.exports=function(t,r){return Math.sqrt(o(t,r))}},{"./squared-euclidean":44}],15:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.sqrt(t[i]*r[i]);return n}},{}],16:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.abs(t[i]-r[i]);return n/o}},{}],17:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=t[i]*r[i]/(t[i]+r[i]);return 2*n}},{}],18:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.sqrt(t[i]*r[i]);return 2*Math.sqrt(1-n)}},{}],19:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=t[i]*r[i];return n}},{}],20:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.min(t[i],r[i]);return 1-n}},{}],21:[function(t,r){var o=t("./intersection");r.exports=function(t,r){return 1-o(t,r)}},{"./intersection":20}],22:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0,a=0;o>a;a++)n+=t[a]*r[a],i+=t[a]*t[a],e+=r[a]*r[a],s+=(t[a]-r[a])*(t[a]-r[a]);return s/(i+e-n)}},{}],23:[function(t,r){var o=t("./jaccard");r.exports=function(t,r){return 1-o(t,r)}},{"./jaccard":22}],24:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=(t[i]-r[i])*Math.log(t[i]/r[i]);return n}},{}],25:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=(t[i]*Math.log(t[i])+r[i]*Math.log(r[i]))/2-(t[i]+r[i])/2*Math.log((t[i]+r[i])/2);return n}},{}],26:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=t[e]*Math.log(2*t[e]/(t[e]+r[e])),i+=r[e]*Math.log(2*r[e]/(t[e]+r[e]));return(n+i)/2}},{}],27:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=t[i]*Math.log(2*t[i]/(t[i]+r[i]));return n}},{}],28:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.abs(t[e]-r[e]),i+=Math.min(t[e],r[e]);return n/i}},{}],29:[function(t,r){var o=t("./kulczynski");r.exports=function(t,r){return 1/o(t,r)}},{"./kulczynski":28}],30:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=t[i]*Math.log(t[i]/r[i]);return n}},{}],31:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0;o>s;s++)n+=t[s]*r[s],i+=t[s]*t[s],e+=r[s]*r[s];return n/(i+e-n)}},{}],32:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.pow(t[i]*t[i]-r[i]*r[i],2)/(2*Math.pow(t[i]*r[i],1.5));return n}},{}],33:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.log(Math.abs(t[i]-r[i])+1);return n}},{}],34:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=Math.abs(t[o]-r[o]);return i}},{}],35:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=Math.sqrt(t[i]*r[i]);return Math.sqrt(2-2*n)}},{}],36:[function(t,r){r.exports=function(t,r,o){for(var n=0,i=t.length,e=0;i>n;n++)e+=Math.pow(Math.abs(t[n]-r[n]),o);return Math.pow(e,1/o)}},{}],37:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.min(t[e],r[e]),i+=t[e]+r[e];return 1-n/i}},{}],38:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])/t[o];return i}},{}],39:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])/r[o];return i}},{}],40:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])/(t[o]+r[o]);return 2*i}},{}],41:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.min(t[e],r[e]),i+=Math.max(t[e],r[e]);return n/i}},{}],42:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.abs(t[e]-r[e]),i+=Math.max(t[e],r[e]);return n/i}},{}],43:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0;o>e;e++)n+=Math.abs(t[e]-r[e]),i+=t[e]+r[e];return n/i}},{}],44:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o]);return i}},{}],45:[function(t,r){r.exports=function(t,r){for(var o=0,n=t.length,i=0;n>o;o++)i+=(t[o]-r[o])*(t[o]-r[o])/(t[o]+r[o]);return i}},{}],46:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=(Math.sqrt(t[i])-Math.sqrt(r[i]))*(Math.sqrt(t[i])-Math.sqrt(r[i]));return n}},{}],47:[function(t,r){var o=t("./squaredChord");r.exports=function(t,r){return 1-o(t,r)}},{"./squaredChord":46}],48:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=(t[i]+r[i])/2*Math.log((t[i]+r[i])/(2*Math.sqrt(t[i]*r[i])));return n}},{}],49:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0,e=0,s=0;o>s;s++)n+=t[s],i+=r[s],e+=Math.min(t[s],r[s]);return(n+i-2*e)/(n+i-e)}},{}],50:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=t[i]*Math.log(2*t[i]/(t[i]+r[i]))+r[i]*Math.log(2*r[i]/(t[i]+r[i]));return n}},{}],51:[function(t,r){r.exports=function(t,r){for(var o=t.length,n=0,i=0;o>i;i++)n+=1-Math.min(t[i],r[i])/Math.max(t[i],r[i]);return n}},{}],52:[function(t,r,o){o.euclidean=t("./dist/euclidean"),o.squaredEuclidean=t("./dist/squared-euclidean"),o.manhattan=t("./dist/manhattan"),o.minkowski=t("./dist/minkowski"),o.chebyshev=t("./dist/chebyshev"),o.sorensen=t("./dist/sorensen"),o.gower=t("./dist/gower"),o.soergel=t("./dist/soergel"),o.kulczynski=t("./dist/kulczynski"),o.kulczynskiS=t("./dist/kulczynskiS"),o.canberra=t("./dist/canberra"),o.lorentzian=t("./dist/lorentzian"),o.intersection=t("./dist/intersection"),o.intersectionS=t("./dist/intersectionS"),o.waveHedges=t("./dist/waveHedges"),o.czekanowski=t("./dist/czekanowski"),o.czekanowskiS=t("./dist/czekanowskiS"),o.motyka=t("./dist/motyka"),o.kulczynskiS=t("./dist/kulczynskiS"),o.ruzicka=t("./dist/ruzicka"),o.tanimoto=t("./dist/tanimoto"),o.innerProduct=t("./dist/innerProduct"),o.harmonicMean=t("./dist/harmonicMean"),o.cosine=t("./dist/cosine"),o.kumarHassebrook=t("./dist/kumarHassebrook"),o.jaccard=t("./dist/jaccard"),o.jaccardS=t("./dist/jaccardS"),o.dice=t("./dist/dice"),o.diceS=t("./dist/diceS"),o.fidelity=t("./dist/fidelity"),o.bhattacharyya=t("./dist/bhattacharyya"),o.hellinger=t("./dist/hellinger"),o.matusita=t("./dist/matusita"),o.squaredChord=t("./dist/squaredChord"),o.squaredChordS=t("./dist/squaredChordS"),o.pearson=t("./dist/pearson"),o.neyman=t("./dist/neyman"),o.squared=t("./dist/squared"),o.probabilisticSymmetric=t("./dist/probabilisticSymmetric"),o.divergence=t("./dist/divergence"),o.clark=t("./dist/clark"),o.additiveSymmetric=t("./dist/additiveSymmetric"),o.kullbackLeibler=t("./dist/kullbackLeibler"),o.jeffreys=t("./dist/jeffreys"),o.kdivergence=t("./dist/kdivergence"),o.topsoe=t("./dist/topsoe"),o.jensenShannon=t("./dist/jensenShannon"),o.jensenDifference=t("./dist/jensenDifference"),o.taneja=t("./dist/taneja"),o.kumarJohnson=t("./dist/kumarJohnson"),o.avg=t("./dist/avg")},{"./dist/additiveSymmetric":2,"./dist/avg":3,"./dist/bhattacharyya":4,"./dist/canberra":5,"./dist/chebyshev":6,"./dist/clark":7,"./dist/cosine":8,"./dist/czekanowski":9,"./dist/czekanowskiS":10,"./dist/dice":11,"./dist/diceS":12,"./dist/divergence":13,"./dist/euclidean":14,"./dist/fidelity":15,"./dist/gower":16,"./dist/harmonicMean":17,"./dist/hellinger":18,"./dist/innerProduct":19,"./dist/intersection":20,"./dist/intersectionS":21,"./dist/jaccard":22,"./dist/jaccardS":23,"./dist/jeffreys":24,"./dist/jensenDifference":25,"./dist/jensenShannon":26,"./dist/kdivergence":27,"./dist/kulczynski":28,"./dist/kulczynskiS":29,"./dist/kullbackLeibler":30,"./dist/kumarHassebrook":31,"./dist/kumarJohnson":32,"./dist/lorentzian":33,"./dist/manhattan":34,"./dist/matusita":35,"./dist/minkowski":36,"./dist/motyka":37,"./dist/neyman":38,"./dist/pearson":39,"./dist/probabilisticSymmetric":40,"./dist/ruzicka":41,"./dist/soergel":42,"./dist/sorensen":43,"./dist/squared":45,"./dist/squared-euclidean":44,"./dist/squaredChord":46,"./dist/squaredChordS":47,"./dist/taneja":48,"./dist/tanimoto":49,"./dist/topsoe":50,"./dist/waveHedges":51}],53:[function(t,r){"use strict";function o(t){if(t=M.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");var r,o,a=t.columns,u=M.zeros(a,a),f=new Array(a),c=new Array(a),l=t;if(t.isSymmetric()){for(r=0;a>r;r++)for(o=0;a>o;o++)u[r][o]=l[r][o];n(a,c,f,u),i(a,c,f,u)}else{var d=M.zeros(a,a),m=new Array(a);for(o=0;a>o;o++)for(r=0;a>r;r++)d[r][o]=l[r][o];e(a,d,m,u),s(a,c,f,u,d)}return new h(a,c,f,u)}function n(t,r,o,n){var i,e,s,a,h,u,f,c;for(h=0;t>h;h++)o[h]=n[t-1][h];for(a=t-1;a>0;a--){for(c=0,s=0,u=0;a>u;u++)c+=Math.abs(o[u]);if(0===c)for(r[a]=o[a-1],h=0;a>h;h++)o[h]=n[a-1][h],n[a][h]=0,n[h][a]=0;else{for(u=0;a>u;u++)o[u]/=c,s+=o[u]*o[u];for(i=o[a-1],e=Math.sqrt(s),i>0&&(e=-e),r[a]=c*e,s-=i*e,o[a-1]=i-e,h=0;a>h;h++)r[h]=0;for(h=0;a>h;h++){for(i=o[h],n[h][a]=i,e=r[h]+n[h][h]*i,u=h+1;a-1>=u;u++)e+=n[u][h]*o[u],r[u]+=n[u][h]*i;r[h]=e}for(i=0,h=0;a>h;h++)r[h]/=s,i+=r[h]*o[h];for(f=i/(s+s),h=0;a>h;h++)r[h]-=f*o[h];for(h=0;a>h;h++){for(i=o[h],e=r[h],u=h;a-1>=u;u++)n[u][h]-=i*r[u]+e*o[u];o[h]=n[a-1][h],n[a][h]=0}}o[a]=s}for(a=0;t-1>a;a++){if(n[t-1][a]=n[a][a],n[a][a]=1,s=o[a+1],0!==s){for(u=0;a>=u;u++)o[u]=n[u][a+1]/s;for(h=0;a>=h;h++){for(e=0,u=0;a>=u;u++)e+=n[u][a+1]*n[u][h];for(u=0;a>=u;u++)n[u][h]-=e*o[u]}}for(u=0;a>=u;u++)n[u][a+1]=0}for(h=0;t>h;h++)o[h]=n[t-1][h],n[t-1][h]=0;n[t-1][t-1]=1,r[0]=0}function i(t,r,o,n){var i,e,s,a,h,u,f,c,l,d,m,p,v,y,g,M,x;for(s=1;t>s;s++)r[s-1]=r[s];r[t-1]=0;var b=0,k=0,S=Math.pow(2,-52);for(u=0;t>u;u++){for(k=Math.max(k,Math.abs(o[u])+Math.abs(r[u])),f=u;t>f&&!(Math.abs(r[f])<=S*k);)f++;if(f>u){x=0;do{for(x+=1,i=o[u],c=(o[u+1]-i)/(2*r[u]),l=w(c,1),0>c&&(l=-l),o[u]=r[u]/(c+l),o[u+1]=r[u]*(c+l),d=o[u+1],e=i-o[u],s=u+2;t>s;s++)o[s]-=e;for(b+=e,c=o[f],m=1,p=m,v=m,y=r[u+1],g=0,M=0,s=f-1;s>=u;s--)for(v=p,p=m,M=g,i=m*r[s],e=m*c,l=w(c,r[s]),r[s+1]=g*l,g=r[s]/l,m=c/l,c=m*o[s]-g*i,o[s+1]=e+g*(m*i+g*o[s]),h=0;t>h;h++)e=n[h][s+1],n[h][s+1]=g*n[h][s]+m*e,n[h][s]=m*n[h][s]-g*e;c=-g*M*v*y*r[u]/d,r[u]=g*c,o[u]=m*c}while(Math.abs(r[u])>S*k)}o[u]=o[u]+b,r[u]=0}for(s=0;t-1>s;s++){for(h=s,c=o[s],a=s+1;t>a;a++)o[a]<c&&(h=a,c=o[a]);if(h!==s)for(o[h]=o[s],o[s]=c,a=0;t>a;a++)c=n[a][s],n[a][s]=n[a][h],n[a][h]=c}}function e(t,r,o,n){var i,e,s,a,h,u,f,c=0,l=t-1;for(u=c+1;l-1>=u;u++){for(f=0,a=u;l>=a;a++)f+=Math.abs(r[a][u-1]);if(0!==f){for(s=0,a=l;a>=u;a--)o[a]=r[a][u-1]/f,s+=o[a]*o[a];for(e=Math.sqrt(s),o[u]>0&&(e=-e),s-=o[u]*e,o[u]=o[u]-e,h=u;t>h;h++){for(i=0,a=l;a>=u;a--)i+=o[a]*r[a][h];for(i/=s,a=u;l>=a;a++)r[a][h]-=i*o[a]}for(a=0;l>=a;a++){for(i=0,h=l;h>=u;h--)i+=o[h]*r[a][h];for(i/=s,h=u;l>=h;h++)r[a][h]-=i*o[h]}o[u]=f*o[u],r[u][u-1]=f*e}}for(a=0;t>a;a++)for(h=0;t>h;h++)n[a][h]=a===h?1:0;for(u=l-1;u>=c+1;u--)if(0!==r[u][u-1]){for(a=u+1;l>=a;a++)o[a]=r[a][u-1];for(h=u;l>=h;h++){for(e=0,a=u;l>=a;a++)e+=o[a]*n[a][h];for(e=e/o[u]/r[u][u-1],a=u;l>=a;a++)n[a][h]+=e*o[a]}}}function s(t,r,o,n,i){var e,s,h,u,f,c,l,d,m,p,v,w,y,g,M,x=t-1,b=0,k=t-1,S=Math.pow(2,-52),j=0,q=0,R=0,D=0,z=0,A=0,C=0,O=0;for(e=0;t>e;e++)for((b>e||e>k)&&(o[e]=i[e][e],r[e]=0),s=Math.max(e-1,0);t>s;s++)q+=Math.abs(i[e][s]);for(;x>=b;){for(u=x;u>b&&(A=Math.abs(i[u-1][u-1])+Math.abs(i[u][u]),0===A&&(A=q),!(Math.abs(i[u][u-1])<S*A));)u--;if(u===x)i[x][x]=i[x][x]+j,o[x]=i[x][x],r[x]=0,x--,O=0;else if(u===x-1){if(l=i[x][x-1]*i[x-1][x],R=(i[x-1][x-1]-i[x][x])/2,D=R*R+l,C=Math.sqrt(Math.abs(D)),i[x][x]=i[x][x]+j,i[x-1][x-1]=i[x-1][x-1]+j,d=i[x][x],D>=0){for(C=R>=0?R+C:R-C,o[x-1]=d+C,o[x]=o[x-1],0!==C&&(o[x]=d-l/C),r[x-1]=0,r[x]=0,d=i[x][x-1],A=Math.abs(d)+Math.abs(C),R=d/A,D=C/A,z=Math.sqrt(R*R+D*D),R/=z,D/=z,s=x-1;t>s;s++)C=i[x-1][s],i[x-1][s]=D*C+R*i[x][s],i[x][s]=D*i[x][s]-R*C;for(e=0;x>=e;e++)C=i[e][x-1],i[e][x-1]=D*C+R*i[e][x],i[e][x]=D*i[e][x]-R*C;for(e=b;k>=e;e++)C=n[e][x-1],n[e][x-1]=D*C+R*n[e][x],n[e][x]=D*n[e][x]-R*C}else o[x-1]=d+R,o[x]=d+R,r[x-1]=C,r[x]=-C;x-=2,O=0}else{if(d=i[x][x],m=0,l=0,x>u&&(m=i[x-1][x-1],l=i[x][x-1]*i[x-1][x]),10===O){for(j+=d,e=b;x>=e;e++)i[e][e]-=d;A=Math.abs(i[x][x-1])+Math.abs(i[x-1][x-2]),d=m=.75*A,l=-.4375*A*A}if(30===O&&(A=(m-d)/2,A=A*A+l,A>0)){for(A=Math.sqrt(A),d>m&&(A=-A),A=d-l/((m-d)/2+A),e=b;x>=e;e++)i[e][e]-=A;j+=A,d=m=l=.964}for(O+=1,f=x-2;f>=u&&(C=i[f][f],z=d-C,A=m-C,R=(z*A-l)/i[f+1][f]+i[f][f+1],D=i[f+1][f+1]-C-z-A,z=i[f+2][f+1],A=Math.abs(R)+Math.abs(D)+Math.abs(z),R/=A,D/=A,z/=A,f!==u)&&!(Math.abs(i[f][f-1])*(Math.abs(D)+Math.abs(z))<S*Math.abs(R)*(Math.abs(i[f-1][f-1])+Math.abs(C)+Math.abs(i[f+1][f+1])));)f--;for(e=f+2;x>=e;e++)i[e][e-2]=0,e>f+2&&(i[e][e-3]=0);for(h=f;x-1>=h&&(g=h!==x-1,h!==f&&(R=i[h][h-1],D=i[h+1][h-1],z=g?i[h+2][h-1]:0,d=Math.abs(R)+Math.abs(D)+Math.abs(z),0!==d&&(R/=d,D/=d,z/=d)),0!==d);h++)if(A=Math.sqrt(R*R+D*D+z*z),0>R&&(A=-A),0!==A){for(h!==f?i[h][h-1]=-A*d:u!==f&&(i[h][h-1]=-i[h][h-1]),R+=A,d=R/A,m=D/A,C=z/A,D/=R,z/=R,s=h;t>s;s++)R=i[h][s]+D*i[h+1][s],g&&(R+=z*i[h+2][s],i[h+2][s]=i[h+2][s]-R*C),i[h][s]=i[h][s]-R*d,i[h+1][s]=i[h+1][s]-R*m;for(e=0;e<=Math.min(x,h+3);e++)R=d*i[e][h]+m*i[e][h+1],g&&(R+=C*i[e][h+2],i[e][h+2]=i[e][h+2]-R*z),i[e][h]=i[e][h]-R,i[e][h+1]=i[e][h+1]-R*D;for(e=b;k>=e;e++)R=d*n[e][h]+m*n[e][h+1],g&&(R+=C*n[e][h+2],n[e][h+2]=n[e][h+2]-R*z),n[e][h]=n[e][h]-R,n[e][h+1]=n[e][h+1]-R*D}}}if(0!==q){for(x=t-1;x>=0;x--)if(R=o[x],D=r[x],0===D)for(u=x,i[x][x]=1,e=x-1;e>=0;e--){for(l=i[e][e]-R,z=0,s=u;x>=s;s++)z+=i[e][s]*i[s][x];if(r[e]<0)C=l,A=z;else if(u=e,0===r[e]?i[e][x]=0!==l?-z/l:-z/(S*q):(d=i[e][e+1],m=i[e+1][e],D=(o[e]-R)*(o[e]-R)+r[e]*r[e],c=(d*A-C*z)/D,i[e][x]=c,i[e+1][x]=Math.abs(d)>Math.abs(C)?(-z-l*c)/d:(-A-m*c)/C),c=Math.abs(i[e][x]),S*c*c>1)for(s=e;x>=s;s++)i[s][x]=i[s][x]/c}else if(0>D)for(u=x-1,Math.abs(i[x][x-1])>Math.abs(i[x-1][x])?(i[x-1][x-1]=D/i[x][x-1],i[x-1][x]=-(i[x][x]-R)/i[x][x-1]):(M=a(0,-i[x-1][x],i[x-1][x-1]-R,D),i[x-1][x-1]=M[0],i[x-1][x]=M[1]),i[x][x-1]=0,i[x][x]=1,e=x-2;e>=0;e--){for(p=0,v=0,s=u;x>=s;s++)p+=i[e][s]*i[s][x-1],v+=i[e][s]*i[s][x];if(l=i[e][e]-R,r[e]<0)C=l,z=p,A=v;else if(u=e,0===r[e]?(M=a(-p,-v,l,D),i[e][x-1]=M[0],i[e][x]=M[1]):(d=i[e][e+1],m=i[e+1][e],w=(o[e]-R)*(o[e]-R)+r[e]*r[e]-D*D,y=2*(o[e]-R)*D,0===w&&0===y&&(w=S*q*(Math.abs(l)+Math.abs(D)+Math.abs(d)+Math.abs(m)+Math.abs(C))),M=a(d*z-C*p+D*v,d*A-C*v-D*p,w,y),i[e][x-1]=M[0],i[e][x]=M[1],Math.abs(d)>Math.abs(C)+Math.abs(D)?(i[e+1][x-1]=(-p-l*i[e][x-1]+D*i[e][x])/d,i[e+1][x]=(-v-l*i[e][x]-D*i[e][x-1])/d):(M=a(-z-m*i[e][x-1],-A-m*i[e][x],C,D),i[e+1][x-1]=M[0],i[e+1][x]=M[1])),c=Math.max(Math.abs(i[e][x-1]),Math.abs(i[e][x])),S*c*c>1)for(s=e;x>=s;s++)i[s][x-1]=i[s][x-1]/c,i[s][x]=i[s][x]/c}for(e=0;t>e;e++)if(b>e||e>k)for(s=e;t>s;s++)n[e][s]=i[e][s];for(s=t-1;s>=b;s--)for(e=b;k>=e;e++){for(C=0,h=b;h<=Math.min(s,k);h++)C+=n[e][h]*i[h][s];n[e][s]=C}}}function a(t,r,o,n){var i,e;return Math.abs(o)>Math.abs(n)?(i=n/o,e=o+i*n,[(t+i*r)/e,(r-i*t)/e]):(i=o/n,e=n+i*o,[(i*t+r)/e,(i*r-t)/e])}function h(t,r,o,n){this.n=t,this.e=r,this.d=o,this.V=n}function u(t){t=M.checkMatrix(t);var r,o,n,i,e,s,a,h,u,c,l=t.clone(),d=l.rows,m=l.columns,p=new Array(d),v=1;for(r=0;d>r;r++)p[r]=r;for(u=new Array(d),o=0;m>o;o++){for(r=0;d>r;r++)u[r]=l[r][o];for(r=0;d>r;r++){for(h=l[r],c=Math.min(r,o),e=0,n=0;c>n;n++)e+=h[n]*u[n];h[o]=u[r]-=e}for(i=o,r=o+1;d>r;r++)Math.abs(u[r])>Math.abs(u[i])&&(i=r);if(i!==o){for(n=0;m>n;n++)s=l[i][n],l[i][n]=l[o][n],l[o][n]=s;a=p[i],p[i]=p[o],p[o]=a,v=-v}if(d>o&&0!==l[o][o])for(r=o+1;d>r;r++)l[r][o]/=l[o][o]}return new f(l,p,v)}function f(t,r,o){this.LU=t,this.pivotVector=r,this.pivotSign=o}function c(t){t=M.checkMatrix(t);var r,o,n,i,e=t.clone(),s=t.rows,a=t.columns,h=new Array(a);for(n=0;a>n;n++){var u=0;for(r=n;s>r;r++)u=w(u,e[r][n]);if(0!==u){for(e[n][n]<0&&(u=-u),r=n;s>r;r++)e[r][n]/=u;for(e[n][n]+=1,o=n+1;a>o;o++){for(i=0,r=n;s>r;r++)i+=e[r][n]*e[r][o];for(i=-i/e[n][n],r=n;s>r;r++)e[r][o]+=i*e[r][n]}}h[n]=-u}return new l(e,h)}function l(t,r){this.QR=t,this.Rdiag=r}function d(t,r){t=M.checkMatrix(t),r=r||{};var o=t.clone(),n=t.rows,i=t.columns,e=Math.min(n,i),s=!0,a=!0;r.computeLeftSingularVectors===!1&&(s=!1),r.computeRightSingularVectors===!1&&(a=!1);var h=r.autoTranspose===!0,u=!1;if(i>n)if(h){o=o.transpose(),n=o.rows,i=o.columns,u=!0;var f=s;s=a,a=f}else console.warn("WARNING: Computing SVD on a matrix with more columns than rows.");var c,l,d,p,v,y,g,x,b,k,S,j,q,R,D,z,A,C,O,I,V,E=new Array(Math.min(n+1,i)),U=M.zeros(n,e),L=M.zeros(i,i),_=new Array(i),N=new Array(n),T=Math.min(n-1,i),P=Math.max(0,Math.min(i-2,n));for(d=0,k=Math.max(T,P);k>d;d++){if(T>d){for(E[d]=0,c=d;n>c;c++)E[d]=w(E[d],o[c][d]);if(0!==E[d]){for(o[d][d]<0&&(E[d]=-E[d]),c=d;n>c;c++)o[c][d]/=E[d];o[d][d]+=1}E[d]=-E[d]}for(l=d+1;i>l;l++){if(T>d&&0!==E[d]){for(v=0,c=d;n>c;c++)v+=o[c][d]*o[c][l];for(v=-v/o[d][d],c=d;n>c;c++)o[c][l]+=v*o[c][d]}_[l]=o[d][l]}if(s&&T>d)for(c=d;n>c;c++)U[c][d]=o[c][d];if(P>d){for(_[d]=0,c=d+1;i>c;c++)_[d]=w(_[d],_[c]);if(0!==_[d]){for(_[d+1]<0&&(_[d]=-_[d]),c=d+1;i>c;c++)_[c]/=_[d];_[d+1]+=1}if(_[d]=-_[d],n>d+1&&0!==_[d]){for(c=d+1;n>c;c++)N[c]=0;for(l=d+1;i>l;l++)for(c=d+1;n>c;c++)N[c]+=_[l]*o[c][l];for(l=d+1;i>l;l++)for(v=-_[l]/_[d+1],c=d+1;n>c;c++)o[c][l]+=v*N[c]}if(a)for(c=d+1;i>c;c++)L[c][d]=_[c]}}if(p=Math.min(i,n+1),i>T&&(E[T]=o[T][T]),p>n&&(E[p-1]=0),p>P+1&&(_[P]=o[P][p-1]),_[p-1]=0,s){for(l=T;e>l;l++){for(c=0;n>c;c++)U[c][l]=0;U[l][l]=1}for(d=T-1;d>=0;d--)if(0!==E[d]){for(l=d+1;e>l;l++){for(v=0,c=d;n>c;c++)v+=U[c][d]*U[c][l];for(v=-v/U[d][d],c=d;n>c;c++)U[c][l]+=v*U[c][d]}for(c=d;n>c;c++)U[c][d]=-U[c][d];for(U[d][d]=1+U[d][d],c=0;d-1>c;c++)U[c][d]=0}else{for(c=0;n>c;c++)U[c][d]=0;U[d][d]=1}}if(a)for(d=i-1;d>=0;d--){if(P>d&&0!==_[d])for(l=d+1;i>l;l++){for(v=0,c=d+1;i>c;c++)v+=L[c][d]*L[c][l];for(v=-v/L[d+1][d],c=d+1;i>c;c++)L[c][l]+=v*L[c][d]}for(c=0;i>c;c++)L[c][d]=0;L[d][d]=1}for(var H=p-1,Q=0,W=Math.pow(2,-52);p>0;){for(d=p-2;d>=-1&&-1!==d;d--)if(Math.abs(_[d])<=W*(Math.abs(E[d])+Math.abs(E[d+1]))){_[d]=0;break}if(d===p-2)S=4;else{for(y=p-1;y>=d&&y!==d;y--)if(v=(y!==p?Math.abs(_[y]):0)+(y!==d+1?Math.abs(_[y-1]):0),Math.abs(E[y])<=W*v){E[y]=0;break}y===d?S=3:y===p-1?S=1:(S=2,d=y)}switch(d++,S){case 1:for(g=_[p-2],_[p-2]=0,l=p-2;l>=d;l--)if(v=w(E[l],g),x=E[l]/v,b=g/v,E[l]=v,l!==d&&(g=-b*_[l-1],_[l-1]=x*_[l-1]),a)for(c=0;i>c;c++)v=x*L[c][l]+b*L[c][p-1],L[c][p-1]=-b*L[c][l]+x*L[c][p-1],L[c][l]=v;break;case 2:for(g=_[d-1],_[d-1]=0,l=d;p>l;l++)if(v=w(E[l],g),x=E[l]/v,b=g/v,E[l]=v,g=-b*_[l],_[l]=x*_[l],s)for(c=0;n>c;c++)v=x*U[c][l]+b*U[c][d-1],U[c][d-1]=-b*U[c][l]+x*U[c][d-1],U[c][l]=v;break;case 3:for(j=Math.max(Math.max(Math.max(Math.max(Math.abs(E[p-1]),Math.abs(E[p-2])),Math.abs(_[p-2])),Math.abs(E[d])),Math.abs(_[d])),q=E[p-1]/j,R=E[p-2]/j,D=_[p-2]/j,z=E[d]/j,A=_[d]/j,C=((R+q)*(R-q)+D*D)/2,O=q*D*q*D,I=0,(0!==C||0!==O)&&(I=Math.sqrt(C*C+O),0>C&&(I=-I),I=O/(C+I)),g=(z+q)*(z-q)+I,V=z*A,l=d;p-1>l;l++){if(v=w(g,V),x=g/v,b=V/v,l!==d&&(_[l-1]=v),g=x*E[l]+b*_[l],_[l]=x*_[l]-b*E[l],V=b*E[l+1],E[l+1]=x*E[l+1],a)for(c=0;i>c;c++)v=x*L[c][l]+b*L[c][l+1],L[c][l+1]=-b*L[c][l]+x*L[c][l+1],L[c][l]=v;if(v=w(g,V),x=g/v,b=V/v,E[l]=v,g=x*_[l]+b*E[l+1],E[l+1]=-b*_[l]+x*E[l+1],V=b*_[l+1],_[l+1]=x*_[l+1],s&&n-1>l)for(c=0;n>c;c++)v=x*U[c][l]+b*U[c][l+1],U[c][l+1]=-b*U[c][l]+x*U[c][l+1],U[c][l]=v}_[p-2]=g,Q+=1;break;case 4:if(E[d]<=0&&(E[d]=E[d]<0?-E[d]:0,a))for(c=0;H>=c;c++)L[c][d]=-L[c][d];for(;H>d&&!(E[d]>=E[d+1]);){if(v=E[d],E[d]=E[d+1],E[d+1]=v,a&&i-1>d)for(c=0;i>c;c++)v=L[c][d+1],L[c][d+1]=L[c][d],L[c][d]=v;if(s&&n-1>d)for(c=0;n>c;c++)v=U[c][d+1],U[c][d+1]=U[c][d],U[c][d]=v;d++}Q=0,p--}}if(u){var B=L;L=U,U=B}return new m(n,i,E,U,L)}function m(t,r,o,n,i){this.m=t,this.n=r,this.s=o,this.U=n,this.V=i}function p(t){if(t=M.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");var r,o,n,i=t,e=i.rows,s=new M(e,e),a=!0;for(o=0;e>o;o++){var h=s[o],u=0;for(n=0;o>n;n++){var f=s[n],c=0;for(r=0;n>r;r++)c+=f[r]*h[r];h[n]=c=(i[o][n]-c)/s[n][n],u+=c*c}for(u=i[o][o]-u,a&=u>0,s[o][o]=Math.sqrt(Math.max(u,0)),n=o+1;e>n;n++)s[o][n]=0}if(!a)throw new Error("Matrix is not positive definite");return new v(s)}function v(t){this.L=t}function w(t,r){var o;return Math.abs(t)>Math.abs(r)?(o=r/t,Math.abs(t)*Math.sqrt(1+o*o)):0!==r?(o=t/r,Math.abs(r)*Math.sqrt(1+o*o)):0}function y(t){return g(t,M.eye(t.rows))}function g(t,r){return t.isSquare()?new u(t).solve(r):new c(t).solve(r)}var M=t("./matrix");h.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return this.V},get diagonalMatrix(){var t,r,o=this.n,n=this.e,i=this.d,e=new M(o,o);for(t=0;o>t;t++){for(r=0;o>r;r++)e[t][r]=0;e[t][t]=i[t],n[t]>0?e[t][t+1]=n[t]:n[t]<0&&(e[t][t-1]=n[t])}return e}},f.prototype={isSingular:function(){for(var t=this.LU,r=t.columns,o=0;r>o;o++)if(0===t[o][o])return!0;return!1},get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var r=this.pivotSign,o=t.columns,n=0;o>n;n++)r*=t[n][n];return r},get lowerTriangularFactor(){for(var t=this.LU,r=t.rows,o=t.columns,n=new M(r,o),i=0;r>i;i++)for(var e=0;o>e;e++)n[i][e]=i>e?t[i][e]:i===e?1:0;return n},get upperTriangularFactor(){for(var t=this.LU,r=t.rows,o=t.columns,n=new M(r,o),i=0;r>i;i++)for(var e=0;o>e;e++)n[i][e]=e>=i?t[i][e]:0;return n},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(t){t=M.checkMatrix(t);var r=this.LU,o=r.rows;if(o!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,i,e,s=t.columns,a=t.subMatrixRow(this.pivotVector,0,s-1),h=r.columns;for(e=0;h>e;e++)for(n=e+1;h>n;n++)for(i=0;s>i;i++)a[n][i]-=a[e][i]*r[n][e];for(e=h-1;e>=0;e--){for(i=0;s>i;i++)a[e][i]/=r[e][e];for(n=0;e>n;n++)for(i=0;s>i;i++)a[n][i]-=a[e][i]*r[n][e]}return a}},l.prototype={solve:function(t){t=M.checkMatrix(t);var r=this.QR,o=r.rows;if(t.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n,i,e,s,a=t.columns,h=t.clone(),u=r.columns;for(e=0;u>e;e++)for(i=0;a>i;i++){for(s=0,n=e;o>n;n++)s+=r[n][e]*h[n][i];for(s=-s/r[e][e],n=e;o>n;n++)h[n][i]+=s*r[n][e]}for(e=u-1;e>=0;e--){for(i=0;a>i;i++)h[e][i]/=this.Rdiag[e];for(n=0;e>n;n++)for(i=0;a>i;i++)h[n][i]-=h[e][i]*r[n][e]}return h.subMatrix(0,u-1,0,a-1)},isFullRank:function(){for(var t=this.QR.columns,r=0;t>r;r++)if(0===this.Rdiag[r])return!1;return!0},get upperTriangularFactor(){var t,r,o=this.QR,n=o.columns,i=new M(n,n);for(t=0;n>t;t++)for(r=0;n>r;r++)i[t][r]=r>t?o[t][r]:t===r?this.Rdiag[t]:0;return i},get orthogonalFactor(){var t,r,o,n,i=this.QR,e=i.rows,s=i.columns,a=new M(e,s);for(o=s-1;o>=0;o--){for(t=0;e>t;t++)a[t][o]=0;for(a[o][o]=1,r=o;s>r;r++)if(0!==i[o][o]){for(n=0,t=o;e>t;t++)n+=i[t][o]*a[t][r];for(n=-n/i[o][o],t=o;e>t;t++)a[t][r]+=n*i[t][o]}}return a}},m.prototype={get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var t=Math.pow(2,-52),r=Math.max(this.m,this.n)*this.s[0]*t,o=0,n=this.s,i=0,e=n.length;e>i;i++)n[i]>r&&o++;return o},get diagonal(){return this.s},get threshold(){return Math.pow(2,-52)/2*Math.max(this.m,this.n)*this.s[0]},get leftSingularVectors(){return this.U},get rightSingularVectors(){return this.V},get diagonalMatrix(){return M.diag(this.s)},solve:function(t){var r,o=t,n=this.threshold,i=this.s.length,e=M.zeros(i,i);for(r=0;i>r;r++)e[r][r]=Math.abs(this.s[r])<=n?0:1/this.s[r];var s,a,h,u=this.V.mmul(e),f=this.V.rows,c=this.U.rows,l=M.zeros(f,c);for(r=0;f>r;r++)for(s=0;c>s;s++){for(h=0,a=0;i>a;a++)h+=u[r][a]*this.U[s][a];l[r][s]=h}return l.mmul(o)},solveForDiagonal:function(t){return this.solve(M.diag(t))},inverse:function(){var t,r,o=this.threshold,n=this.V.rows,i=this.V.columns,e=new M(n,this.s.length);for(t=0;n>t;t++)for(r=0;i>r;r++)Math.abs(this.s[r])>o&&(e[t][r]=this.V[t][r]/this.s[r]);var s,a,h=this.U.rows,u=this.U.columns,f=new M(n,h);for(t=0;n>t;t++)for(r=0;h>r;r++){for(a=0,s=0;u>s;s++)a+=e[t][s]*this.U[r][s];f[t][r]=a}return f}},v.prototype={get leftTriangularFactor(){return this.L},solve:function(t){t=M.checkMatrix(t);var r=this.L,o=r.rows;if(t.rows!==o)throw new Error("Matrix dimensions do not match");var n,i,e,s=t.columns,a=t.clone();for(e=0;o>e;e++)for(i=0;s>i;i++){for(n=0;e>n;n++)a[e][i]-=a[n][i]*r[e][n];a[e][i]/=r[e][e]}for(e=o-1;e>=0;e--)for(i=0;s>i;i++){for(n=e+1;o>n;n++)a[e][i]-=a[n][i]*r[n][e];a[e][i]/=r[e][e]}return a}},r.exports={LuDecomposition:u,LU:u,QrDecomposition:c,QR:c,SingularValueDecomposition:d,SVD:d,EigenvalueDecomposition:o,EVD:o,CholeskyDecomposition:p,CHO:p,inverse:y,solve:g}},{"./matrix":55}],54:[function(t,r){"use strict";r.exports=t("./matrix"),r.exports.Decompositions=r.exports.DC=t("./decompositions")},{"./decompositions":53,"./matrix":55}],55:[function(t,r){"use strict";function o(t){for(var r=0,o=t.length,n=new Array(o);o>r;r++)n[r]=t[r];return n}function n(t){this.message=t||"Unknown matrix error"}function i(t){throw new n(t)}function e(t,r){var n,s,a=0;if(t instanceof Array)if(s=r,n=s?o(t):t,t=n.length,r=n[0].length,"undefined"==typeof r&&i("Data must be a 2D array"),t>0&&r>0)for(;t>a;a++)n[a].length!==r?i("Inconsistent array dimensions"):s&&(n[a]=o(n[a]));else i("Invalid dimensions: "+t+"x"+r);else if("number"==typeof t)if(t>0&&r>0)for(n=new Array(t);t>a;a++)n[a]=new Array(r);else i("Invalid dimensions: "+t+"x"+r);else i("Invalid arguments");return Object.defineProperty(n,"rows",{writable:!0,value:t}),Object.defineProperty(n,"columns",{writable:!0,value:r}),n.__proto__=e.prototype,n}var s=Array.prototype.splice,a=Array.prototype.concat;n.prototype=Object.create(Error.prototype),n.prototype.name="MatrixError",n.prototype.constructor=n,e.from1DArray=function(t,r,o){var n,s,a=0;for(n=t*r,n!==o.length&&i("Data length does not match given dimensions"),s=new Array(t);t>a;a++)s[a]=o.slice(a*r,(a+1)*r);return new e(s)},e.rowVector=function(t){return new e([t])},e.columnVector=function(t){for(var r=t.length,o=new Array(r),n=0;r>n;n++)o[n]=[t[n]];return new e(o)},e.empty=function(t,r){return new e(t,r)},e.zeros=function(t,r){return e.empty(t,r).fill(0)},e.ones=function(t,r){return e.empty(t,r).fill(1)},e.rand=function(t,r){for(var o=e.empty(t,r),n=0,i=o.rows;i>n;n++)for(var s=0,a=o.columns;a>s;s++)o[n][s]=Math.random();return o},e.eye=function(t){for(var r=e.zeros(t,t),o=r.rows,n=0;o>n;n++)r[n][n]=1;return r},e.diag=function(t){for(var r=t.length,o=e.zeros(r,r),n=0;r>n;n++)o[n][n]=t[n];return o},e.indices=function(t,r){for(var o=new Array(r-t),n=0;n<o.length;n++)o[n]=t++;return o},e.stack=function(t){var r,o,n;if(e.isMatrix(t)){var i=0,s=0;for(r=0;r<arguments.length;r++)i+=arguments[r].rows,arguments[r].columns>s&&(s=arguments[r].columns);var a=e.zeros(i,s),h=0;for(r=0;r<arguments.length;r++){var u=arguments[r];for(o=0;o<u.rows;o++){for(n=0;n<u.columns;n++)a[h][n]=u[o][n];h++}}return a}if(t instanceof Array){var f=e.empty(arguments.length,t.length);for(r=0;r<arguments.length;r++)f.setRow(r,arguments[r]);return f}},e.expand=function(t,r){for(var o=[],n=0;n<r.length;n++)for(var i=0;i<r[n];i++)o.push(t[n]);return new e(o)},e.checkMatrix=function(t){return t||i("Argument has to be a matrix"),"Matrix"!==t.klass&&(t=new e(t)),t},e.isMatrix=function(t){return t?"Matrix"===t.klass:!1},Object.defineProperty(e.prototype,"klass",{get:function(){return"Matrix"}}),Object.defineProperty(e.prototype,"size",{get:function(){return this.rows*this.columns}}),e.prototype.checkRowIndex=function(t){(0>t||t>this.rows-1)&&i("Row index out of range.")},e.prototype.checkColumnIndex=function(t){(0>t||t>this.columns-1)&&i("Column index out of range.")},e.prototype.checkDimensions=function(t){(this.rows!==t.rows||this.columns!==t.columns)&&i("Matrices dimensions must be equal.")},e.prototype.apply=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)t.call(this,n,i);return this},e.prototype.clone=function(){return new e(this.to2DArray())},e.prototype.to1DArray=function(){return a.apply([],this)},e.prototype.to2DArray=function(){for(var t=this.rows,r=new Array(t),n=0;t>n;n++)r[n]=o(this[n]);return r},e.prototype.isRowVector=function(){return 1===this.rows},e.prototype.isColumnVector=function(){return 1===this.columns},e.prototype.isVector=function(){return 1===this.rows||1===this.columns},e.prototype.isSquare=function(){return this.rows===this.columns},e.prototype.isSymmetric=function(){if(this.isSquare()){for(var t=this.rows,r=0;t>r;r++)for(var o=0;r>=o;o++)if(this[r][o]!==this[o][r])return!1;return!0}return!1},e.prototype.set=function(t,r,o){return this[t][r]=o,this},e.prototype.get=function(t,r){return this[t][r]},e.prototype.fill=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]=t;return this},e.prototype.neg=function(){return this.mulS(-1)},e.prototype.add=function(t){return"number"==typeof t?this.addS(t):(t=e.checkMatrix(t),this.addM(t))},e.prototype.addS=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]+=t;return this},e.prototype.addM=function(t){this.checkDimensions(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]+=t[n][i];return this},e.prototype.sub=function(t){return"number"==typeof t?this.subS(t):(t=e.checkMatrix(t),this.subM(t))},e.prototype.subS=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]-=t;return this},e.prototype.subM=function(t){this.checkDimensions(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]-=t[n][i];return this},e.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):(t=e.checkMatrix(t),this.mulM(t))
},e.prototype.mulS=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]*=t;return this},e.prototype.mulM=function(t){this.checkDimensions(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]*=t[n][i];return this},e.prototype.div=function(t){return"number"==typeof t?this.divS(t):(t=e.checkMatrix(t),this.divM(t))},e.prototype.divS=function(t){for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]/=t;return this},e.prototype.divM=function(t){this.checkDimensions(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]/=t[n][i];return this},e.prototype.getRow=function(t){return this.checkRowIndex(t),o(this[t])},e.prototype.setRow=function(t,r){return this.checkRowIndex(t),e.isMatrix(r)&&(r=r.to1DArray()),r.length!==this.columns&&i("Invalid row size"),this[t]=o(r),this},e.prototype.removeRow=function(t){return this.checkRowIndex(t),1===this.rows&&i("A matrix cannot have less than one row"),s.call(this,t,1),this.rows-=1,this},e.prototype.addRow=function(t,r){return"undefined"==typeof r&&(r=t,t=this.rows),(0>t||t>this.rows)&&i("Row index out of range."),e.isMatrix(r)&&(r=r.to1DArray()),r.length!==this.columns&&i("Invalid row size"),s.call(this,t,0,o(r)),this.rows+=1,this},e.prototype.swapRows=function(t,r){this.checkRowIndex(t),this.checkRowIndex(r);var o=this[t];return this[t]=this[r],this[r]=o,this},e.prototype.getColumn=function(t){this.checkColumnIndex(t);for(var r=this.rows,o=new Array(r),n=0;r>n;n++)o[n]=this[n][t];return o},e.prototype.setColumn=function(t,r){this.checkColumnIndex(t),e.isMatrix(r)&&(r=r.to1DArray());var o=this.rows;r.length!==o&&i("Invalid column size");for(var n=0;o>n;n++)this[n][t]=r[n];return this},e.prototype.removeColumn=function(t){this.checkColumnIndex(t),1===this.columns&&i("A matrix cannot have less than one column");for(var r=0,o=this.rows;o>r;r++)this[r].splice(t,1);return this.columns-=1,this},e.prototype.addColumn=function(t,r){"undefined"==typeof r&&(r=t,t=this.columns),(0>t||t>this.columns)&&i("Column index out of range."),e.isMatrix(r)&&(r=r.to1DArray());var o=this.rows;r.length!==o&&i("Invalid column size");for(var n=0;o>n;n++)this[n].splice(t,0,r[n]);return this.columns+=1,this},e.prototype.swapColumns=function(t,r){this.checkRowIndex(t),this.checkRowIndex(r);for(var o,n,i=this.rows,e=0;i>e;e++)n=this[e],o=n[t],n[t]=n[r],n[r]=o;return this},e.prototype.checkRowVector=function(t){return e.isMatrix(t)&&(t=t.to1DArray()),t.length!==this.columns&&i("vector size must be the same as the number of columns"),t},e.prototype.checkColumnVector=function(t){return e.isMatrix(t)&&(t=t.to1DArray()),t.length!==this.rows&&i("vector size must be the same as the number of rows"),t},e.prototype.addRowVector=function(t){t=this.checkRowVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]+=t[i];return this},e.prototype.subRowVector=function(t){t=this.checkRowVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]-=t[i];return this},e.prototype.mulRowVector=function(t){t=this.checkRowVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]*=t[i];return this},e.prototype.divRowVector=function(t){t=this.checkRowVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]/=t[i];return this},e.prototype.addColumnVector=function(t){t=this.checkColumnVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]+=t[n];return this},e.prototype.subColumnVector=function(t){t=this.checkColumnVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]-=t[n];return this},e.prototype.mulColumnVector=function(t){t=this.checkColumnVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]*=t[n];return this},e.prototype.divColumnVector=function(t){t=this.checkColumnVector(t);for(var r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]/=t[n];return this},e.prototype.mulRow=function(t,r){this.checkRowIndex(t);for(var o=0,n=this.columns;n>o;o++)this[t][o]*=r;return this},e.prototype.mulColumn=function(t,r){this.checkColumnIndex(t);for(var o=0,n=this.rows;n>o;o++)this[o][t]*=r},e.prototype.max=function(){for(var t=-1/0,r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]>t&&(t=this[n][i]);return t},e.prototype.maxIndex=function(){for(var t=-1/0,r={},o=this.rows,n=this.columns,i=0;o>i;i++)for(var e=0;n>e;e++)this[i][e]>t&&(t=this[i][e],r.row=i,r.column=e);return r},e.prototype.min=function(){for(var t=1/0,r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)this[n][i]<t&&(t=this[n][i]);return t},e.prototype.minIndex=function(){for(var t=1/0,r={},o=this.rows,n=this.columns,i=0;o>i;i++)for(var e=0;n>e;e++)this[i][e]<t&&(t=this[i][e],r.row=i,r.column=e);return r},e.prototype.maxRow=function(t){this.checkRowIndex(t);for(var r=-1/0,o=0,n=this.columns;n>o;o++)this[t][o]>r&&(r=this[t][o]);return r},e.prototype.maxRowIndex=function(t){this.checkRowIndex(t);for(var r=-1/0,o={row:t},n=0,i=this.columns;i>n;n++)this[t][n]>r&&(r=this[t][n],o.column=n);return o},e.prototype.minRow=function(t){this.checkRowIndex(t);for(var r=1/0,o=0,n=this.columns;n>o;o++)this[t][o]<r&&(r=this[t][o]);return r},e.prototype.minRowIndex=function(t){this.checkRowIndex(t);for(var r=1/0,o={row:t,column:0},n=0,i=this.columns;i>n;n++)this[t][n]<r&&(r=this[t][n],o.column=n);return o},e.prototype.maxColumn=function(t){this.checkColumnIndex(t);for(var r=-1/0,o=0,n=this.rows;n>o;o++)this[o][t]>r&&(r=this[o][t]);return r},e.prototype.maxColumnIndex=function(t){this.checkColumnIndex(t);for(var r=-1/0,o={row:0,column:t},n=0,i=this.rows;i>n;n++)this[n][t]>r&&(r=this[n][t],o.row=n);return o},e.prototype.minColumn=function(t){this.checkColumnIndex(t);for(var r=1/0,o=0,n=this.rows;n>o;o++)this[o][t]<r&&(r=this[o][t]);return r},e.prototype.minColumnIndex=function(t){this.checkColumnIndex(t);for(var r=1/0,o={row:0,column:t},n=0,i=this.rows;i>n;n++)this[n][t]<r&&(r=this[n][t],o.row=n);return o},e.prototype.diag=function h(){this.isSquare()||i("Only square matrices have a diagonal.");for(var h=new Array(this.rows),t=0,r=this.rows;r>t;t++)h[t]=this[t][t];return h},e.prototype.sum=function(){for(var t=0,r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)t+=this[n][i];return t},e.prototype.mean=function(){return this.sum()/this.size},e.prototype.prod=function u(){for(var u=1,t=this.rows,r=this.columns,o=0;t>o;o++)for(var n=0;r>n;n++)u*=this[o][n];return u},e.prototype.cumulativeSum=function(){for(var t=0,r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)t+=this[n][i],this[n][i]=t;return this},e.prototype.dot=function f(t){this.size!==t.size&&i("vectors do not have the same size");for(var r=this.to1DArray(),o=t.to1DArray(),f=0,n=r.length,e=0;n>e;e++)f+=r[e]*o[e];return f},e.prototype.mmul=function(t){this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");var r,o,n,i=this.rows,s=this.columns,a=t.columns,h=new e(i,a),u=new Array(s);for(o=0;a>o;o++){for(n=0;s>n;n++)u[n]=t[n][o];for(r=0;i>r;r++){var f=this[r],c=0;for(n=0;s>n;n++)c+=f[n]*u[n];h[r][o]=c}}return h},e.prototype.sortRows=function(t){for(var r=0,o=this.rows;o>r;r++)this[r].sort(t);return this},e.prototype.sortColumns=function(t){for(var r=0,o=this.columns;o>r;r++)this.setColumn(r,this.getColumn(r).sort(t));return this},e.prototype.transpose=function(){for(var t=new e(this.columns,this.rows),r=this.rows,o=this.columns,n=0;r>n;n++)for(var i=0;o>i;i++)t[i][n]=this[n][i];return t},e.prototype.subMatrix=function(t,r,o,n){(t>r||o>n||0>t||t>=this.rows||0>r||r>=this.rows||0>o||o>=this.columns||0>n||n>=this.columns)&&i("Argument out of range");for(var s=new e(r-t+1,n-o+1),a=t;r>=a;a++)for(var h=o;n>=h;h++)s[a-t][h-o]=this[a][h];return s},e.prototype.subMatrixRow=function(t,r,o){"undefined"==typeof r?(r=0,o=this.columns-1):"undefined"==typeof o&&(o=this.columns-1),(r>o||0>r||r>=this.columns||0>o||o>=this.columns)&&i("Argument out of range.");for(var n=t.length,s=this.rows,a=new e(n,o-r+1),h=0;n>h;h++)for(var u=r;o>=u;u++)(t[h]<0||t[h]>=s)&&i("Argument out of range."),a[h][u-r]=this[t[h]][u];return a},e.prototype.subMatrixColumn=function(t,r,o){"undefined"==typeof r?(r=0,o=this.rows-1):"undefined"==typeof o&&(o=this.rows-1),(r>o||0>r||r>=this.rows||0>o||o>=this.rows)&&i("Argument out of range.");for(var n=t.length,s=this.columns,a=new e(o-r+1,n),h=0;n>h;h++)for(var u=r;o>=u;u++)(t[h]<0||t[h]>=s)&&i("Argument out of range."),a[u-r][h]=this[u][t[h]];return a},e.prototype.trace=function c(){this.isSquare()||i("The matrix is not square");for(var c=0,t=0,r=this.rows;r>t;t++)c+=this[t][t];return c},e.prototype.abs=function(){for(var t=this.rows,r=this.columns,o=0;t>o;o++)for(var n=0;r>n;n++)this[o][n]=Math.abs(this[o][n])},e.MatrixError=n,r.exports=e},{}],56:[function(t,r){r.exports=t("./som")},{"./som":59}],57:[function(t,r){function o(t,r,o,i){n.call(this,t,r,o,i),this.hX=t-Math.floor(r/2),this.z=0-this.hX-r}var n=t("./node-square");o.prototype=new n,o.prototype.constructor=o,o.prototype.getDistance=function(t){return Math.max(Math.abs(this.hX-t.hX),Math.abs(this.y-t.y),Math.abs(this.z-t.z))},o.prototype.getDistanceTorus=function(t){var r=Math.abs(this.hX-t.hX),o=Math.abs(this.y-t.y),n=Math.abs(this.z-t.z);return Math.max(Math.min(r,this.som.gridDim.x-r),Math.min(o,this.som.gridDim.y-o),Math.min(n,this.som.gridDim.z-n))},o.prototype.getPosition=function(){throw new Error("Unimplemented : cannot get position of the points for hexagonal grid")},r.exports=o},{"./node-square":58}],58:[function(t,r){function o(t,r,o,n){this.x=t,this.y=r,this.weights=o,this.som=n}o.prototype.adjustWeights=function(t,r,o){for(var n=0,i=this.weights.length;i>n;n++)this.weights[n]+=r*o*(t[n]-this.weights[n])},o.prototype.getDistance=function(t){return Math.max(Math.abs(this.x-t.x),Math.abs(this.y-t.y))},o.prototype.getDistanceTorus=function(t){var r=Math.abs(this.x-t.x),o=Math.abs(this.y-t.y);return Math.max(Math.min(r,this.som.gridDim.x-r),Math.min(o,this.som.gridDim.y-o))},o.prototype.getPosition=function(t){for(var r,o,n=this.neighbors||this.getNeighbors(),i=[.5,.5],e=0;e<n.length;e++){r=n[e],o=1-this.som.distance(r.weights,t)/this.som.maxDistance;var s=r.x-this.x;s>1?s=-1:-1>s&&(s=1),i[0]+=s*o*.5;var a=r.y-this.y;a>1?a=-1:-1>a&&(a=1),i[1]+=a*o*.5}return i},o.prototype.getNeighbors=function(){for(var t=[],r=-1;1>=r;r++){var o=this.x+r;if(0>o){if(!this.som.torus)continue;o=this.som.gridDim.x-1}else if(o===this.som.gridDim.x){if(!this.som.torus)continue;o=0}for(var n=-1;1>=n;n++)if(0!==r||0!==n){var i=this.y+n;if(0>i){if(!this.som.torus)continue;i=this.som.gridDim.y-1}else if(i===this.som.gridDim.y){if(!this.som.torus)continue;i=0}t.push(this.som.nodes[o][i])}}return this.neighbors=t},r.exports=o},{}],59:[function(require,module,exports){"use strict";function SOM(t,r,o,n){this.x=t,this.y=r,o=o||{},this.options={};for(var i in defaultOptions)this.options[i]=o.hasOwnProperty(i)?o[i]:defaultOptions[i];if("number"==typeof this.options.fields)this.numWeights=this.options.fields,this.extractor=null;else{var e=Object.keys(this.options.fields);this.numWeights=e.length;var s=getConverters(e,this.options.fields);this.extractor=s.extractor,this.creator=s.creator}if("rect"===this.options.gridType)this.nodeType=NodeSquare,this.gridDim={x:t,y:r};else{this.nodeType=NodeHexagonal;var a=this.x-Math.floor(this.y/2);this.gridDim={x:a,y:this.y,z:-(0-a-this.y)}}if(this.torus=this.options.torus,this.distanceMethod=this.torus?"getDistanceTorus":"getDistance",this.distance=this.options.distance,this.maxDistance=getMaxDistance(this.distance,this.numWeights),n===!0)return void(this.done=!0);if(!(t>0&&r>0))throw new Error("x and y must be positive");this.times={findBMU:0,adjust:0},this.randomizer=this.options.randomizer,this.iterationCount=0,this.iterations=this.options.iterations,this.startLearningRate=this.learningRate=this.options.learningRate,this.mapRadius=Math.floor(Math.max(t,r)/2),this.algorithmMethod=this.options.method,this._initNodes(),this.done=!1}function getConverters(t,r){for(var o=t.length,n=new Array(o),i=new Array(o),e=0;o>e;e++)n[e]=getNormalizer(r[t[e]]),i[e]=getDenormalizer(r[t[e]]);return{extractor:function(r){for(var i=new Array(o),e=0;o>e;e++)i[e]=n[e](r[t[e]]);return i},creator:function(r){for(var n={},e=0;o>e;e++)n[t[e]]=i[e](r[e]);return n}}}function getNormalizer(t){return function(r){return(r-t[0])/(t[1]-t[0])}}function getDenormalizer(t){return function(r){return t[0]+r*(t[1]-t[0])}}function squareEuclidean(t,r){for(var o=0,n=0,i=t.length;i>n;n++)o+=(t[n]-r[n])*(t[n]-r[n]);return o}function getRandomValue(t,r){return t[Math.floor(r()*t.length)]}function getMaxDistance(t,r){for(var o=new Array(r),n=new Array(r),i=0;r>i;i++)o[i]=0,n[i]=1;return t(o,n)}var NodeSquare=require("./node-square"),NodeHexagonal=require("./node-hexagonal"),defaultOptions={fields:3,randomizer:Math.random,distance:squareEuclidean,iterations:10,learningRate:.1,gridType:"rect",torus:!0,method:"random"};SOM.load=function loadModel(model,distance){if("SOM"===model.name){var x=model.data.length,y=model.data[0].length;distance?model.options.distance=distance:model.options.distance&&(model.options.distance=eval("("+model.options.distance+")"));var som=new SOM(x,y,model.options,!0);som.nodes=new Array(x);for(var i=0;x>i;i++){som.nodes[i]=new Array(y);for(var j=0;y>j;j++)som.nodes[i][j]=new som.nodeType(i,j,model.data[i][j],som)}return som}throw new Error("expecting a SOM model")},SOM.prototype.export=function(t){if(!this.done)throw new Error("model is not ready yet");var r={name:"SOM"};r.options={fields:this.options.fields,gridType:this.options.gridType,torus:this.options.torus},r.data=new Array(this.x);for(var o=0;o<this.x;o++){r.data[o]=new Array(this.y);for(var n=0;n<this.y;n++)r.data[o][n]=this.nodes[o][n].weights}return t&&(r.options.distance=this.distance.toString()),r},SOM.prototype._initNodes=function(){var t,r,o,n=Date.now();for(this.nodes=new Array(this.x),t=0;t<this.x;t++)for(this.nodes[t]=new Array(this.y),r=0;r<this.y;r++){var i=new Array(this.numWeights);for(o=0;o<this.numWeights;o++)i[o]=this.randomizer();this.nodes[t][r]=new this.nodeType(t,r,i,this)}this.times.initNodes=Date.now()-n},SOM.prototype.setTraining=function(t){if(this.trainingSet)throw new Error("training set has already been set");var r,o=Date.now(),n=t,i=t.length;if(this.extractor)for(n=new Array(t),r=0;i>r;r++)n[r]=this.extractor(t[r]);this.numIterations=this.iterations*i,this.timeConstant="random"===this.algorithmMethod?this.numIterations/Math.log(this.mapRadius):i/Math.log(this.mapRadius),this.trainingSet=n,this.times.setTraining=Date.now()-o},SOM.prototype.trainOne=function(){if(this.done)return!1;if(this.numIterations-->0){var t,r,o;return"random"===this.algorithmMethod?(t=this.mapRadius*Math.exp(-this.iterationCount/this.timeConstant),r=getRandomValue(this.trainingSet,this.randomizer),this._adjust(r,t),this.learningRate=this.startLearningRate*Math.exp(-this.iterationCount/this.numIterations)):(o=-Math.floor(this.iterationCount/this.trainingSet.length),t=this.mapRadius*Math.exp(o/this.timeConstant),r=this.trainingSet[this.iterationCount%this.trainingSet.length],this._adjust(r,t),(this.iterationCount+1)%this.trainingSet.length===0&&(this.learningRate=this.startLearningRate*Math.exp(o/Math.floor(this.numIterations/this.trainingSet.length)))),this.iterationCount++,!0}return this.done=!0,!1},SOM.prototype._adjust=function(t,r){var o,n,i,e,s=Date.now(),a=this._findBestMatchingUnit(t),h=Date.now();this.times.findBMU+=h-s;var u=Math.floor(r),f=a.x-u,c=a.x+u,l=a.y-u,d=a.y+u;for(o=f;c>=o;o++){var m=o;for(0>o?m+=this.x:o>=this.x&&(m-=this.x),n=l;d>=n;n++){var p=n;0>n?p+=this.y:n>=this.y&&(p-=this.y),i=a[this.distanceMethod](this.nodes[m][p]),r>i&&(e=Math.exp(-i/(2*r)),this.nodes[m][p].adjustWeights(t,this.learningRate,e))}}this.times.adjust+=Date.now()-h},SOM.prototype.train=function(t){if(!this.done)for(this.setTraining(t);this.trainOne(););},SOM.prototype.getConvertedNodes=function(){for(var t=new Array(this.x),r=0;r<this.x;r++){t[r]=new Array(this.y);for(var o=0;o<this.y;o++){var n=this.nodes[r][o];t[r][o]=this.creator?this.creator(n.weights):n.weights}}return t},SOM.prototype._findBestMatchingUnit=function(t){for(var r,o,n=1/0,i=0;i<this.x;i++)for(var e=0;e<this.y;e++)o=this.distance(this.nodes[i][e].weights,t),n>o&&(n=o,r=this.nodes[i][e]);return r},SOM.prototype.predict=function(t,r){if(t instanceof Array&&t[0]instanceof Array){var o=this;return t.map(function(t){return o._predict(t,r)})}return this._predict(t,r)},SOM.prototype._predict=function(t,r){t instanceof Array||(t=this.extractor(t));var o=this._findBestMatchingUnit(t),n=[o.x,o.y];return r&&(n[2]=o.getPosition(t)),n},SOM.prototype.getQuantizationError=function(){for(var t,r=this.trainingSet,o=r.length,n=0,i=0;o>i;i++)t=this._findBestMatchingUnit(r[i]),n+=Math.sqrt(squareEuclidean(r[i],t.weights));return n/o},module.exports=SOM},{"./node-hexagonal":57,"./node-square":58}]},{},[1])(1)});